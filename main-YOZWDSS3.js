var FE=Object.create;var ru=Object.defineProperty,kE=Object.defineProperties,BE=Object.getOwnPropertyDescriptor,jE=Object.getOwnPropertyDescriptors,UE=Object.getOwnPropertyNames,fp=Object.getOwnPropertySymbols,VE=Object.getPrototypeOf,pp=Object.prototype.hasOwnProperty,HE=Object.prototype.propertyIsEnumerable;var hp=(e,t,n)=>t in e?ru(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z=(e,t)=>{for(var n in t||={})pp.call(t,n)&&hp(e,n,t[n]);if(fp)for(var n of fp(t))HE.call(t,n)&&hp(e,n,t[n]);return e},$e=(e,t)=>kE(e,jE(t));var zE=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var GE=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let c of UE(t))!pp.call(e,c)&&c!==n&&ru(e,c,{get:()=>t[c],enumerable:!(o=BE(t,c))||o.enumerable});return e};var WE=(e,t,n)=>(n=e!=null?FE(VE(e)):{},GE(t||!e||!e.__esModule?ru(n,"default",{value:e,enumerable:!0}):n,e));var Ty=zE((Ml,Ay)=>{"use strict";(function(e,t){typeof Ml=="object"&&typeof Ay<"u"?t(Ml):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.ZXing={}))})(Ml,function(e){"use strict";function t(m){return m==null}var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,r){m.__proto__=r}||function(m,r){for(var i in r)r.hasOwnProperty(i)&&(m[i]=r[i])};function o(m,r){n(m,r);function i(){this.constructor=m}m.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}function c(m,r){var i=Object.setPrototypeOf;i?i(m,r):m.__proto__=r}function u(m,r){r===void 0&&(r=m.constructor);var i=Error.captureStackTrace;i&&i(m,r)}var h=function(m){o(r,m);function r(i){var s=this.constructor,a=m.call(this,i)||this;return Object.defineProperty(a,"name",{value:s.name,enumerable:!1}),c(a,s.prototype),u(a),a}return r}(Error);let y=(()=>{class m extends h{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}return m.kind="Exception",m})(),w=(()=>{class m extends y{}return m.kind="ArgumentException",m})(),E=(()=>{class m extends y{}return m.kind="IllegalArgumentException",m})();class I{constructor(r){if(this.binarizer=r,r===null)throw new E("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,i){return this.binarizer.getBlackRow(r,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,i,s,a){let l=this.binarizer.getLuminanceSource().crop(r,i,s,a);return new I(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){let r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){let r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let b=(()=>{class m extends y{static getChecksumInstance(){return new m}}return m.kind="ChecksumException",m})();class L{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _{static arraycopy(r,i,s,a,l){for(;l--;)s[a++]=r[i++]}static currentTimeMillis(){return Date.now()}}let G=(()=>{class m extends y{}return m.kind="IndexOutOfBoundsException",m})(),W=(()=>{class m extends G{constructor(i=void 0,s=void 0){super(s),this.index=i,this.message=s}}return m.kind="ArrayIndexOutOfBoundsException",m})();class U{static fill(r,i){for(let s=0,a=r.length;s<a;s++)r[s]=i}static fillWithin(r,i,s,a){U.rangeCheck(r.length,i,s);for(let l=i;l<s;l++)r[l]=a}static rangeCheck(r,i,s){if(i>s)throw new E("fromIndex("+i+") > toIndex("+s+")");if(i<0)throw new W(i);if(s>r)throw new W(s)}static asList(...r){return r}static create(r,i,s){return Array.from({length:r}).map(l=>Array.from({length:i}).fill(s))}static createInt32Array(r,i,s){return Array.from({length:r}).map(l=>Int32Array.from({length:i}).fill(s))}static equals(r,i){if(!r||!i||!r.length||!i.length||r.length!==i.length)return!1;for(let s=0,a=r.length;s<a;s++)if(r[s]!==i[s])return!1;return!0}static hashCode(r){if(r===null)return 0;let i=1;for(let s of r)i=31*i+s;return i}static fillUint8Array(r,i){for(let s=0;s!==r.length;s++)r[s]=i}static copyOf(r,i){return r.slice(0,i)}static copyOfUint8Array(r,i){if(r.length<=i){let s=new Uint8Array(i);return s.set(r),s}return r.slice(0,i)}static copyOfRange(r,i,s){let a=s-i,l=new Int32Array(a);return _.arraycopy(r,i,l,0,a),l}static binarySearch(r,i,s){s===void 0&&(s=U.numberComparator);let a=0,l=r.length-1;for(;a<=l;){let d=l+a>>1,f=s(i,r[d]);if(f>0)a=d+1;else if(f<0)l=d-1;else return d}return-a-1}static numberComparator(r,i){return r-i}}class V{static numberOfTrailingZeros(r){let i;if(r===0)return 32;let s=31;return i=r<<16,i!==0&&(s-=16,r=i),i=r<<8,i!==0&&(s-=8,r=i),i=r<<4,i!==0&&(s-=4,r=i),i=r<<2,i!==0&&(s-=2,r=i),s-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let i=1;return r>>>16||(i+=16,r<<=16),r>>>24||(i+=8,r<<=8),r>>>28||(i+=4,r<<=4),r>>>30||(i+=2,r<<=2),i-=r>>>31,i}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,i){return Math.trunc(r/i)}static parseInt(r,i=void 0){return parseInt(r,i)}}V.MIN_VALUE_32_BITS=-2147483648,V.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ge{constructor(r,i){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,i==null?this.bits=ge.makeArray(r):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){let i=ge.makeArray(r);_.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){let i=this.size;if(r>=i)return i;let s=this.bits,a=Math.floor(r/32),l=s[a];l&=~((1<<(r&31))-1);let d=s.length;for(;l===0;){if(++a===d)return i;l=s[a]}let f=a*32+V.numberOfTrailingZeros(l);return f>i?i:f}getNextUnset(r){let i=this.size;if(r>=i)return i;let s=this.bits,a=Math.floor(r/32),l=~s[a];l&=~((1<<(r&31))-1);let d=s.length;for(;l===0;){if(++a===d)return i;l=~s[a]}let f=a*32+V.numberOfTrailingZeros(l);return f>i?i:f}setBulk(r,i){this.bits[Math.floor(r/32)]=i}setRange(r,i){if(i<r||r<0||i>this.size)throw new E;if(i===r)return;i--;let s=Math.floor(r/32),a=Math.floor(i/32),l=this.bits;for(let d=s;d<=a;d++){let f=d>s?0:r&31,g=(2<<(d<a?31:i&31))-(1<<f);l[d]|=g}}clear(){let r=this.bits.length,i=this.bits;for(let s=0;s<r;s++)i[s]=0}isRange(r,i,s){if(i<r||r<0||i>this.size)throw new E;if(i===r)return!0;i--;let a=Math.floor(r/32),l=Math.floor(i/32),d=this.bits;for(let f=a;f<=l;f++){let p=f>a?0:r&31,C=(2<<(f<l?31:i&31))-(1<<p)&4294967295;if((d[f]&C)!==(s?C:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,i){if(i<0||i>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let s=i;s>0;s--)this.appendBit((r>>s-1&1)===1)}appendBitArray(r){let i=r.size;this.ensureCapacity(this.size+i);for(let s=0;s<i;s++)this.appendBit(r.get(s))}xor(r){if(this.size!==r.size)throw new E("Sizes don't match");let i=this.bits;for(let s=0,a=i.length;s<a;s++)i[s]^=r.bits[s]}toBytes(r,i,s,a){for(let l=0;l<a;l++){let d=0;for(let f=0;f<8;f++)this.get(r)&&(d|=1<<7-f),r++;i[s+l]=d}}getBitArray(){return this.bits}reverse(){let r=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),s=i+1,a=this.bits;for(let l=0;l<s;l++){let d=a[l];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,r[i-l]=d}if(this.size!==s*32){let l=s*32-this.size,d=r[0]>>>l;for(let f=1;f<s;f++){let p=r[f];d|=p<<32-l,r[f-1]=d,d=p>>>l}r[s-1]=d}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof ge))return!1;let i=r;return this.size===i.size&&U.equals(this.bits,i.bits)}hashCode(){return 31*this.size+U.hashCode(this.bits)}toString(){let r="";for(let i=0,s=this.size;i<s;i++)(i&7)===0&&(r+=" "),r+=this.get(i)?"X":".";return r}clone(){return new ge(this.size,this.bits.slice())}}var Pe=function(m){return m[m.OTHER=0]="OTHER",m[m.PURE_BARCODE=1]="PURE_BARCODE",m[m.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",m[m.TRY_HARDER=3]="TRY_HARDER",m[m.CHARACTER_SET=4]="CHARACTER_SET",m[m.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",m[m.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",m[m.ASSUME_GS1=7]="ASSUME_GS1",m[m.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",m[m.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",m[m.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",m}(Pe||{}),Ee=Pe;let H=(()=>{class m extends y{static getFormatInstance(){return new m}}return m.kind="FormatException",m})();var De=function(m){return m[m.Cp437=0]="Cp437",m[m.ISO8859_1=1]="ISO8859_1",m[m.ISO8859_2=2]="ISO8859_2",m[m.ISO8859_3=3]="ISO8859_3",m[m.ISO8859_4=4]="ISO8859_4",m[m.ISO8859_5=5]="ISO8859_5",m[m.ISO8859_6=6]="ISO8859_6",m[m.ISO8859_7=7]="ISO8859_7",m[m.ISO8859_8=8]="ISO8859_8",m[m.ISO8859_9=9]="ISO8859_9",m[m.ISO8859_10=10]="ISO8859_10",m[m.ISO8859_11=11]="ISO8859_11",m[m.ISO8859_13=12]="ISO8859_13",m[m.ISO8859_14=13]="ISO8859_14",m[m.ISO8859_15=14]="ISO8859_15",m[m.ISO8859_16=15]="ISO8859_16",m[m.SJIS=16]="SJIS",m[m.Cp1250=17]="Cp1250",m[m.Cp1251=18]="Cp1251",m[m.Cp1252=19]="Cp1252",m[m.Cp1256=20]="Cp1256",m[m.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",m[m.UTF8=22]="UTF8",m[m.ASCII=23]="ASCII",m[m.Big5=24]="Big5",m[m.GB18030=25]="GB18030",m[m.EUC_KR=26]="EUC_KR",m}(De||{});class z{constructor(r,i,s,...a){this.valueIdentifier=r,this.name=s,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=a,z.VALUE_IDENTIFIER_TO_ECI.set(r,this),z.NAME_TO_ECI.set(s,this);let l=this.values;for(let d=0,f=l.length;d!==f;d++){let p=l[d];z.VALUES_TO_ECI.set(p,this)}for(let d of a)z.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new H("incorect value");let i=z.VALUES_TO_ECI.get(r);if(i===void 0)throw new H("incorect value");return i}static getCharacterSetECIByName(r){let i=z.NAME_TO_ECI.get(r);if(i===void 0)throw new H("incorect value");return i}equals(r){if(!(r instanceof z))return!1;let i=r;return this.getName()===i.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z(De.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z(De.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z(De.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z(De.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z(De.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z(De.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z(De.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z(De.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z(De.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z(De.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z(De.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z(De.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z(De.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z(De.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z(De.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z(De.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z(De.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z(De.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z(De.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z(De.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z(De.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z(De.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z(De.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z(De.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z(De.Big5,28,"Big5"),z.GB18030=new z(De.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z(De.EUC_KR,30,"EUC_KR","EUC-KR");let wo=(()=>{class m extends y{}return m.kind="UnsupportedOperationException",m})();class Ft{static decode(r,i){let s=this.encodingName(i);return this.customDecoder?this.customDecoder(r,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(r,s):new TextDecoder(s).decode(r)}static shouldDecodeOnFallback(r){return!Ft.isBrowser()&&r==="ISO-8859-1"}static encode(r,i){let s=this.encodingName(i);return this.customEncoder?this.customEncoder(r,s):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof z?r:z.getCharacterSetECIByName(r)}static decodeFallback(r,i){let s=this.encodingCharacterSet(i);if(Ft.isDecodeFallbackSupported(s)){let a="";for(let l=0,d=r.length;l<d;l++){let f=r[l].toString(16);f.length<2&&(f="0"+f),a+="%"+f}return decodeURIComponent(a)}if(s.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new wo(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(z.UTF8)||r.equals(z.ISO8859_1)||r.equals(z.ASCII)}static encodeFallback(r){let s=btoa(unescape(encodeURIComponent(r))).split(""),a=[];for(let l=0;l<s.length;l++)a.push(s[l].charCodeAt(0));return new Uint8Array(a)}}class ce{static castAsNonUtf8Char(r,i=null){let s=i?i.getName():this.ISO88591;return Ft.decode(new Uint8Array([r]),s)}static guessEncoding(r,i){if(i!=null&&i.get(Ee.CHARACTER_SET)!==void 0)return i.get(Ee.CHARACTER_SET).toString();let s=r.length,a=!0,l=!0,d=!0,f=0,p=0,g=0,C=0,x=0,v=0,A=0,T=0,S=0,M=0,R=0,B=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let Y=0;Y<s&&(a||l||d);Y++){let P=r[Y]&255;d&&(f>0?(P&128)===0?d=!1:f--:(P&128)!==0&&((P&64)===0?d=!1:(f++,(P&32)===0?p++:(f++,(P&16)===0?g++:(f++,(P&8)===0?C++:d=!1))))),a&&(P>127&&P<160?a=!1:P>159&&(P<192||P===215||P===247)&&R++),l&&(x>0?P<64||P===127||P>252?l=!1:x--:P===128||P===160||P>239?l=!1:P>160&&P<224?(v++,T=0,A++,A>S&&(S=A)):P>127?(x++,A=0,T++,T>M&&(M=T)):(A=0,T=0))}return d&&f>0&&(d=!1),l&&x>0&&(l=!1),d&&(B||p+g+C>0)?ce.UTF8:l&&(ce.ASSUME_SHIFT_JIS||S>=3||M>=3)?ce.SHIFT_JIS:a&&l?S===2&&v===2||R*10>=s?ce.SHIFT_JIS:ce.ISO88591:a?ce.ISO88591:l?ce.SHIFT_JIS:d?ce.UTF8:ce.PLATFORM_DEFAULT_ENCODING}static format(r,...i){let s=-1;function a(d,f,p,g,C,x){if(d==="%%")return"%";if(i[++s]===void 0)return;d=g?parseInt(g.substr(1)):void 0;let v=C?parseInt(C.substr(1)):void 0,A;switch(x){case"s":A=i[s];break;case"c":A=i[s][0];break;case"f":A=parseFloat(i[s]).toFixed(d);break;case"p":A=parseFloat(i[s]).toPrecision(d);break;case"e":A=parseFloat(i[s]).toExponential(d);break;case"x":A=parseInt(i[s]).toString(v||16);break;case"d":A=parseFloat(parseInt(i[s],v||10).toPrecision(d)).toFixed(0);break}A=typeof A=="object"?JSON.stringify(A):(+A).toString(v);let T=parseInt(p),S=p&&p[0]+""=="0"?"0":" ";for(;A.length<T;)A=f!==void 0?A+S:S+A;return A}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(l,a)}static getBytes(r,i){return Ft.encode(r,i)}static getCharCode(r,i=0){return r.charCodeAt(i)}static getCharAt(r){return String.fromCharCode(r)}}ce.SHIFT_JIS=z.SJIS.getName(),ce.GB2312="GB2312",ce.ISO88591=z.ISO8859_1.getName(),ce.EUC_JP="EUC_JP",ce.UTF8=z.UTF8.getName(),ce.PLATFORM_DEFAULT_ENCODING=ce.UTF8,ce.ASSUME_SHIFT_JIS=!1;class Be{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=ce.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,i,s){for(let a=i;i<i+s;a++)this.append(r[a]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+1)}substring(r,i){return this.value.substring(r,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+i.length)}}class ct{constructor(r,i,s,a){if(this.width=r,this.height=i,this.rowSize=s,this.bits=a,i==null&&(i=r),this.height=i,r<1||i<1)throw new E("Both dimensions must be greater than 0");s==null&&(s=Math.floor((r+31)/32)),this.rowSize=s,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){let i=r.length,s=r[0].length,a=new ct(s,i);for(let l=0;l<i;l++){let d=r[l];for(let f=0;f<s;f++)d[f]&&a.set(f,l)}return a}static parseFromString(r,i,s){if(r===null)throw new E("stringRepresentation cannot be null");let a=new Array(r.length),l=0,d=0,f=-1,p=0,g=0;for(;g<r.length;)if(r.charAt(g)===`
`||r.charAt(g)==="\r"){if(l>d){if(f===-1)f=l-d;else if(l-d!==f)throw new E("row lengths do not match");d=l,p++}g++}else if(r.substring(g,g+i.length)===i)g+=i.length,a[l]=!0,l++;else if(r.substring(g,g+s.length)===s)g+=s.length,a[l]=!1,l++;else throw new E("illegal character encountered: "+r.substring(g));if(l>d){if(f===-1)f=l-d;else if(l-d!==f)throw new E("row lengths do not match");p++}let C=new ct(f,p);for(let x=0;x<l;x++)a[x]&&C.set(Math.floor(x%f),Math.floor(x/f));return C}get(r,i){let s=i*this.rowSize+Math.floor(r/32);return(this.bits[s]>>>(r&31)&1)!==0}set(r,i){let s=i*this.rowSize+Math.floor(r/32);this.bits[s]|=1<<(r&31)&4294967295}unset(r,i){let s=i*this.rowSize+Math.floor(r/32);this.bits[s]&=~(1<<(r&31)&4294967295)}flip(r,i){let s=i*this.rowSize+Math.floor(r/32);this.bits[s]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new E("input matrix dimensions do not match");let i=new ge(Math.floor(this.width/32)+1),s=this.rowSize,a=this.bits;for(let l=0,d=this.height;l<d;l++){let f=l*s,p=r.getRow(l,i).getBitArray();for(let g=0;g<s;g++)a[f+g]^=p[g]}}clear(){let r=this.bits,i=r.length;for(let s=0;s<i;s++)r[s]=0}setRegion(r,i,s,a){if(i<0||r<0)throw new E("Left and top must be nonnegative");if(a<1||s<1)throw new E("Height and width must be at least 1");let l=r+s,d=i+a;if(d>this.height||l>this.width)throw new E("The region must fit inside the matrix");let f=this.rowSize,p=this.bits;for(let g=i;g<d;g++){let C=g*f;for(let x=r;x<l;x++)p[C+Math.floor(x/32)]|=1<<(x&31)&4294967295}}getRow(r,i){i==null||i.getSize()<this.width?i=new ge(this.width):i.clear();let s=this.rowSize,a=this.bits,l=r*s;for(let d=0;d<s;d++)i.setBulk(d*32,a[l+d]);return i}setRow(r,i){_.arraycopy(i.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){let r=this.getWidth(),i=this.getHeight(),s=new ge(r),a=new ge(r);for(let l=0,d=Math.floor((i+1)/2);l<d;l++)s=this.getRow(l,s),a=this.getRow(i-1-l,a),s.reverse(),a.reverse(),this.setRow(l,a),this.setRow(i-1-l,s)}getEnclosingRectangle(){let r=this.width,i=this.height,s=this.rowSize,a=this.bits,l=r,d=i,f=-1,p=-1;for(let g=0;g<i;g++)for(let C=0;C<s;C++){let x=a[g*s+C];if(x!==0){if(g<d&&(d=g),g>p&&(p=g),C*32<l){let v=0;for(;(x<<31-v&4294967295)===0;)v++;C*32+v<l&&(l=C*32+v)}if(C*32+31>f){let v=31;for(;!(x>>>v);)v--;C*32+v>f&&(f=C*32+v)}}}return f<l||p<d?null:Int32Array.from([l,d,f-l+1,p-d+1])}getTopLeftOnBit(){let r=this.rowSize,i=this.bits,s=0;for(;s<i.length&&i[s]===0;)s++;if(s===i.length)return null;let a=s/r,l=s%r*32,d=i[s],f=0;for(;(d<<31-f&4294967295)===0;)f++;return l+=f,Int32Array.from([l,a])}getBottomRightOnBit(){let r=this.rowSize,i=this.bits,s=i.length-1;for(;s>=0&&i[s]===0;)s--;if(s<0)return null;let a=Math.floor(s/r),l=Math.floor(s%r)*32,d=i[s],f=31;for(;!(d>>>f);)f--;return l+=f,Int32Array.from([l,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof ct))return!1;let i=r;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&U.equals(this.bits,i.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+U.hashCode(this.bits),r}toString(r="X ",i="  ",s=`
`){return this.buildToString(r,i,s)}buildToString(r,i,s){let a=new Be;for(let l=0,d=this.height;l<d;l++){for(let f=0,p=this.width;f<p;f++)a.append(this.get(f,l)?r:i);a.append(s)}return a.toString()}clone(){return new ct(this.width,this.height,this.rowSize,this.bits.slice())}}let F=(()=>{class m extends y{static getNotFoundInstance(){return new m}}return m.kind="NotFoundException",m})();class lt extends L{constructor(r){super(r),this.luminances=lt.EMPTY,this.buckets=new Int32Array(lt.LUMINANCE_BUCKETS)}getBlackRow(r,i){let s=this.getLuminanceSource(),a=s.getWidth();i==null||i.getSize()<a?i=new ge(a):i.clear(),this.initArrays(a);let l=s.getRow(r,this.luminances),d=this.buckets;for(let p=0;p<a;p++)d[(l[p]&255)>>lt.LUMINANCE_SHIFT]++;let f=lt.estimateBlackPoint(d);if(a<3)for(let p=0;p<a;p++)(l[p]&255)<f&&i.set(p);else{let p=l[0]&255,g=l[1]&255;for(let C=1;C<a-1;C++){let x=l[C+1]&255;(g*4-p-x)/2<f&&i.set(C),p=g,g=x}}return i}getBlackMatrix(){let r=this.getLuminanceSource(),i=r.getWidth(),s=r.getHeight(),a=new ct(i,s);this.initArrays(i);let l=this.buckets;for(let p=1;p<5;p++){let g=Math.floor(s*p/5),C=r.getRow(g,this.luminances),x=Math.floor(i*4/5);for(let v=Math.floor(i/5);v<x;v++){let A=C[v]&255;l[A>>lt.LUMINANCE_SHIFT]++}}let d=lt.estimateBlackPoint(l),f=r.getMatrix();for(let p=0;p<s;p++){let g=p*i;for(let C=0;C<i;C++)(f[g+C]&255)<d&&a.set(C,p)}return a}createBinarizer(r){return new lt(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));let i=this.buckets;for(let s=0;s<lt.LUMINANCE_BUCKETS;s++)i[s]=0}static estimateBlackPoint(r){let i=r.length,s=0,a=0,l=0;for(let C=0;C<i;C++)r[C]>l&&(a=C,l=r[C]),r[C]>s&&(s=r[C]);let d=0,f=0;for(let C=0;C<i;C++){let x=C-a,v=r[C]*x*x;v>f&&(d=C,f=v)}if(a>d){let C=a;a=d,d=C}if(d-a<=i/16)throw new F;let p=d-1,g=-1;for(let C=d-1;C>a;C--){let x=C-a,v=x*x*(d-C)*(s-r[C]);v>g&&(p=C,g=v)}return p<<lt.LUMINANCE_SHIFT}}lt.LUMINANCE_BITS=5,lt.LUMINANCE_SHIFT=8-lt.LUMINANCE_BITS,lt.LUMINANCE_BUCKETS=1<<lt.LUMINANCE_BITS,lt.EMPTY=Uint8ClampedArray.from([0]);class he extends lt{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;let r=this.getLuminanceSource(),i=r.getWidth(),s=r.getHeight();if(i>=he.MINIMUM_DIMENSION&&s>=he.MINIMUM_DIMENSION){let a=r.getMatrix(),l=i>>he.BLOCK_SIZE_POWER;(i&he.BLOCK_SIZE_MASK)!==0&&l++;let d=s>>he.BLOCK_SIZE_POWER;(s&he.BLOCK_SIZE_MASK)!==0&&d++;let f=he.calculateBlackPoints(a,l,d,i,s),p=new ct(i,s);he.calculateThresholdForBlock(a,l,d,i,s,f,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new he(r)}static calculateThresholdForBlock(r,i,s,a,l,d,f){let p=l-he.BLOCK_SIZE,g=a-he.BLOCK_SIZE;for(let C=0;C<s;C++){let x=C<<he.BLOCK_SIZE_POWER;x>p&&(x=p);let v=he.cap(C,2,s-3);for(let A=0;A<i;A++){let T=A<<he.BLOCK_SIZE_POWER;T>g&&(T=g);let S=he.cap(A,2,i-3),M=0;for(let B=-2;B<=2;B++){let Y=d[v+B];M+=Y[S-2]+Y[S-1]+Y[S]+Y[S+1]+Y[S+2]}let R=M/25;he.thresholdBlock(r,T,x,R,a,f)}}}static cap(r,i,s){return r<i?i:r>s?s:r}static thresholdBlock(r,i,s,a,l,d){for(let f=0,p=s*l+i;f<he.BLOCK_SIZE;f++,p+=l)for(let g=0;g<he.BLOCK_SIZE;g++)(r[p+g]&255)<=a&&d.set(i+g,s+f)}static calculateBlackPoints(r,i,s,a,l){let d=l-he.BLOCK_SIZE,f=a-he.BLOCK_SIZE,p=new Array(s);for(let g=0;g<s;g++){p[g]=new Int32Array(i);let C=g<<he.BLOCK_SIZE_POWER;C>d&&(C=d);for(let x=0;x<i;x++){let v=x<<he.BLOCK_SIZE_POWER;v>f&&(v=f);let A=0,T=255,S=0;for(let R=0,B=C*a+v;R<he.BLOCK_SIZE;R++,B+=a){for(let Y=0;Y<he.BLOCK_SIZE;Y++){let P=r[B+Y]&255;A+=P,P<T&&(T=P),P>S&&(S=P)}if(S-T>he.MIN_DYNAMIC_RANGE)for(R++,B+=a;R<he.BLOCK_SIZE;R++,B+=a)for(let Y=0;Y<he.BLOCK_SIZE;Y++)A+=r[B+Y]&255}let M=A>>he.BLOCK_SIZE_POWER*2;if(S-T<=he.MIN_DYNAMIC_RANGE&&(M=T/2,g>0&&x>0)){let R=(p[g-1][x]+2*p[g][x-1]+p[g-1][x-1])/4;T<R&&(M=R)}p[g][x]=M}}return p}}he.BLOCK_SIZE_POWER=3,he.BLOCK_SIZE=1<<he.BLOCK_SIZE_POWER,he.BLOCK_SIZE_MASK=he.BLOCK_SIZE-1,he.MINIMUM_DIMENSION=he.BLOCK_SIZE*5,he.MIN_DYNAMIC_RANGE=24;class Co{constructor(r,i){this.width=r,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,i,s,a){throw new wo("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new wo("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new wo("This luminance source does not support rotation by 45 degrees.")}toString(){let r=new Uint8ClampedArray(this.width),i=new Be;for(let s=0;s<this.height;s++){let a=this.getRow(s,r);for(let l=0;l<this.width;l++){let d=a[l]&255,f;d<64?f="#":d<128?f="+":d<192?f=".":f=" ",i.append(f)}i.append(`
`)}return i.toString()}}class lr extends Co{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,i){let s=this.delegate.getRow(r,i),a=this.getWidth();for(let l=0;l<a;l++)s[l]=255-(s[l]&255);return s}getMatrix(){let r=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(i);for(let a=0;a<i;a++)s[a]=255-(r[a]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(r,i,s,a){return new lr(this.delegate.crop(r,i,s,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new lr(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new lr(this.delegate.rotateCounterClockwise45())}}class ur extends Co{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=ur.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){let i=r.getContext("2d").getImageData(0,0,r.width,r.height);return ur.toGrayscaleBuffer(i.data,r.width,r.height)}static toGrayscaleBuffer(r,i,s){let a=new Uint8ClampedArray(i*s);for(let l=0,d=0,f=r.length;l<f;l+=4,d++){let p;if(r[l+3]===0)p=255;else{let C=r[l],x=r[l+1],v=r[l+2];p=306*C+601*x+117*v+512>>10}a[d]=p}return a}getRow(r,i){if(r<0||r>=this.getHeight())throw new E("Requested row is outside the image: "+r);let s=this.getWidth(),a=r*s;return i===null?i=this.buffer.slice(a,a+s):(i.length<s&&(i=new Uint8ClampedArray(s)),i.set(this.buffer.slice(a,a+s))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,i,s,a){return super.crop(r,i,s,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){let r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){let i=this.getTempCanvasElement(),s=i.getContext("2d"),a=r*ur.DEGREE_TO_RADIANS,l=this.canvas.width,d=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(a))*l+Math.abs(Math.sin(a))*d),p=Math.ceil(Math.abs(Math.sin(a))*l+Math.abs(Math.cos(a))*d);return i.width=f,i.height=p,s.translate(f/2,p/2),s.rotate(a),s.drawImage(this.canvas,l/-2,d/-2),this.buffer=ur.makeBufferFromCanvasImageData(i),this}invert(){return new lr(this)}}ur.DEGREE_TO_RADIANS=Math.PI/180;class jh{constructor(r,i,s){this.deviceId=r,this.label=i,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Tt=(globalThis||global||self||window||void 0)&&(globalThis||global||self||window||void 0).__awaiter||function(m,r,i,s){function a(l){return l instanceof i?l:new i(function(d){d(l)})}return new(i||(i=Promise))(function(l,d){function f(C){try{g(s.next(C))}catch(x){d(x)}}function p(C){try{g(s.throw(C))}catch(x){d(x)}}function g(C){C.done?l(C.value):a(C.value).then(f,p)}g((s=s.apply(m,r||[])).next())})};class Ur{constructor(r,i=500,s){this.reader=r,this.timeBetweenScansMillis=i,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return Tt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");let r=yield navigator.mediaDevices.enumerateDevices(),i=[];for(let s of r){let a=s.kind==="video"?"videoinput":s.kind;if(a!=="videoinput")continue;let l=s.deviceId||s.id,d=s.label||`Video device ${i.length+1}`,f=s.groupId,p={deviceId:l,label:d,kind:a,groupId:f};i.push(p)}return i})}getVideoInputDevices(){return Tt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new jh(i.deviceId,i.label))})}findDeviceById(r){return Tt(this,void 0,void 0,function*(){let i=yield this.listVideoInputDevices();return i?i.find(s=>s.deviceId===r):null})}decodeFromInputVideoDevice(r,i){return Tt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,i)})}decodeOnceFromVideoDevice(r,i){return Tt(this,void 0,void 0,function*(){this.reset();let s;r?s={deviceId:{exact:r}}:s={facingMode:"environment"};let a={video:s};return yield this.decodeOnceFromConstraints(a,i)})}decodeOnceFromConstraints(r,i){return Tt(this,void 0,void 0,function*(){let s=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(s,i)})}decodeOnceFromStream(r,i){return Tt(this,void 0,void 0,function*(){this.reset();let s=yield this.attachStreamToVideo(r,i);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(r,i,s){return Tt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,i,s)})}decodeFromVideoDevice(r,i,s){return Tt(this,void 0,void 0,function*(){let a;r?a={deviceId:{exact:r}}:a={facingMode:"environment"};let l={video:a};return yield this.decodeFromConstraints(l,i,s)})}decodeFromConstraints(r,i,s){return Tt(this,void 0,void 0,function*(){let a=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(a,i,s)})}decodeFromStream(r,i,s){return Tt(this,void 0,void 0,function*(){this.reset();let a=yield this.attachStreamToVideo(r,i);return yield this.decodeContinuously(a,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,i){return Tt(this,void 0,void 0,function*(){let s=this.prepareVideoElement(i);return this.addVideoSource(s,r),this.videoElement=s,this.stream=r,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(r){return new Promise((i,s)=>this.playVideoOnLoad(r,()=>i()))}playVideoOnLoad(r,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",i),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return Tt(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,i){let s=document.getElementById(r);if(!s)throw new w(`element with id '${r}' not found`);if(s.nodeName.toLowerCase()!==i.toLowerCase())throw new w(`element with id '${r}' must be an ${i} element`);return s}decodeFromImage(r,i){if(!r&&!i)throw new w("either imageElement with a src set or an url must be provided");return i&&!r?this.decodeFromImageUrl(i):this.decodeFromImageElement(r)}decodeFromVideo(r,i){if(!r&&!i)throw new w("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,i,s){if(r===void 0&&i===void 0)throw new w("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrlContinuously(i,s):this.decodeFromVideoElementContinuously(r,s)}decodeFromImageElement(r){if(!r)throw new w("An image element must be provided.");this.reset();let i=this.prepareImageElement(r);this.imageElement=i;let s;return this.isImageLoaded(i)?s=this.decodeOnce(i,!1,!0):s=this._decodeOnLoadImage(i),s}decodeFromVideoElement(r){let i=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(r,i){let s=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(s,i)}_decodeFromVideoElementSetup(r){if(!r)throw new w("A video element must be provided.");this.reset();let i=this.prepareVideoElement(r);return this.videoElement=i,i}decodeFromImageUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();let i=this.prepareImageElement();this.imageElement=i;let s=this._decodeOnLoadImage(i);return i.src=r,s}decodeFromVideoUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();let i=this.prepareVideoElement(),s=this.decodeFromVideoElement(i);return i.src=r,s}decodeFromVideoUrlContinuously(r,i){if(!r)throw new w("An URL must be provided.");this.reset();let s=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(s,i);return s.src=r,a}_decodeOnLoadImage(r){return new Promise((i,s)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(i,s),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return Tt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,i){return Tt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,i)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let i;return typeof r>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(i=r),i}prepareVideoElement(r){let i;return!r&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(i=r),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(r,i=!0,s=!0){this._stopAsyncDecode=!1;let a=(l,d)=>{if(this._stopAsyncDecode){d(new F("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{let f=this.decode(r);l(f)}catch(f){let p=i&&f instanceof F,C=(f instanceof b||f instanceof H)&&s;if(p||C)return setTimeout(a,this._timeBetweenDecodingAttempts,l,d);d(f)}};return new Promise((l,d)=>a(l,d))}decodeContinuously(r,i){this._stopContinuousDecode=!1;let s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{let a=this.decode(r);i(a,null),setTimeout(s,this.timeBetweenScansMillis)}catch(a){i(null,a);let l=a instanceof b||a instanceof H,d=a instanceof F;(l||d)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(r){let i=this.createBinaryBitmap(r);return this.decodeBitmap(i)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,i,s){i||(i={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(r,i,s=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(r){let i=this.getCaptureCanvasContext(r);this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);let s=this.getCaptureCanvas(r),a=new ur(s),l=new he(a);return new I(l)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){let s=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){let i=this.createCaptureCanvas(r);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;let i=document.createElement("canvas"),s,a;return typeof r<"u"&&(r instanceof HTMLVideoElement?(s=r.videoWidth,a=r.videoHeight):r instanceof HTMLImageElement&&(s=r.naturalWidth||r.width,a=r.naturalHeight||r.height)),i.style.width=s+"px",i.style.height=a+"px",i.width=s,i.height=a,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,i){try{r.srcObject=i}catch{r.src=URL.createObjectURL(i)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class bt{constructor(r,i,s=i==null?0:8*i.length,a,l,d=_.currentTimeMillis()){this.text=r,this.rawBytes=i,this.numBits=s,this.resultPoints=a,this.format=l,this.timestamp=d,this.text=r,this.rawBytes=i,s==null?this.numBits=i==null?0:8*i.length:this.numBits=s,this.resultPoints=a,this.format=l,this.resultMetadata=null,d==null?this.timestamp=_.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,i)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){let i=this.resultPoints;if(i===null)this.resultPoints=r;else if(r!==null&&r.length>0){let s=new Array(i.length+r.length);_.arraycopy(i,0,s,0,i.length),_.arraycopy(r,0,s,i.length,r.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Uh=function(m){return m[m.AZTEC=0]="AZTEC",m[m.CODABAR=1]="CODABAR",m[m.CODE_39=2]="CODE_39",m[m.CODE_93=3]="CODE_93",m[m.CODE_128=4]="CODE_128",m[m.DATA_MATRIX=5]="DATA_MATRIX",m[m.EAN_8=6]="EAN_8",m[m.EAN_13=7]="EAN_13",m[m.ITF=8]="ITF",m[m.MAXICODE=9]="MAXICODE",m[m.PDF_417=10]="PDF_417",m[m.QR_CODE=11]="QR_CODE",m[m.RSS_14=12]="RSS_14",m[m.RSS_EXPANDED=13]="RSS_EXPANDED",m[m.UPC_A=14]="UPC_A",m[m.UPC_E=15]="UPC_E",m[m.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",m}(Uh||{}),re=Uh,Vh=function(m){return m[m.OTHER=0]="OTHER",m[m.ORIENTATION=1]="ORIENTATION",m[m.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",m[m.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",m[m.ISSUE_NUMBER=4]="ISSUE_NUMBER",m[m.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",m[m.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",m[m.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",m[m.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",m[m.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",m[m.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",m}(Vh||{}),ut=Vh;class xo{constructor(r,i,s,a,l=-1,d=-1){this.rawBytes=r,this.text=i,this.byteSegments=s,this.ecLevel=a,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=d,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class vo{exp(r){return this.expTable[r]}log(r){if(r===0)throw new E;return this.logTable[r]}static addOrSubtract(r,i){return r^i}}class kt{constructor(r,i){if(i.length===0)throw new E;this.field=r;let s=i.length;if(s>1&&i[0]===0){let a=1;for(;a<s&&i[a]===0;)a++;a===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-a),_.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);let i=this.coefficients,s;if(r===1){s=0;for(let d=0,f=i.length;d!==f;d++){let p=i[d];s=vo.addOrSubtract(s,p)}return s}s=i[0];let a=i.length,l=this.field;for(let d=1;d<a;d++)s=vo.addOrSubtract(l.multiply(r,s),i[d]);return s}addOrSubtract(r){if(!this.field.equals(r.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,s=r.coefficients;if(i.length>s.length){let d=i;i=s,s=d}let a=new Int32Array(s.length),l=s.length-i.length;_.arraycopy(s,0,a,0,l);for(let d=l;d<s.length;d++)a[d]=vo.addOrSubtract(i[d-l],s[d]);return new kt(this.field,a)}multiply(r){if(!this.field.equals(r.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();let i=this.coefficients,s=i.length,a=r.coefficients,l=a.length,d=new Int32Array(s+l-1),f=this.field;for(let p=0;p<s;p++){let g=i[p];for(let C=0;C<l;C++)d[p+C]=vo.addOrSubtract(d[p+C],f.multiply(g,a[C]))}return new kt(f,d)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;let i=this.coefficients.length,s=this.field,a=new Int32Array(i),l=this.coefficients;for(let d=0;d<i;d++)a[d]=s.multiply(l[d],r);return new kt(s,a)}multiplyByMonomial(r,i){if(r<0)throw new E;if(i===0)return this.field.getZero();let s=this.coefficients,a=s.length,l=new Int32Array(a+r),d=this.field;for(let f=0;f<a;f++)l[f]=d.multiply(s[f],i);return new kt(d,l)}divide(r){if(!this.field.equals(r.field))throw new E("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new E("Divide by 0");let i=this.field,s=i.getZero(),a=this,l=r.getCoefficient(r.getDegree()),d=i.inverse(l);for(;a.getDegree()>=r.getDegree()&&!a.isZero();){let f=a.getDegree()-r.getDegree(),p=i.multiply(a.getCoefficient(a.getDegree()),d),g=r.multiplyByMonomial(f,p),C=i.buildMonomial(f,p);s=s.addOrSubtract(C),a=a.addOrSubtract(g)}return[s,a]}toString(){let r="";for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);if(s!==0){if(s<0?(r+=" - ",s=-s):r.length>0&&(r+=" + "),i===0||s!==1){let a=this.field.log(s);a===0?r+="1":a===1?r+="a":(r+="a^",r+=a)}i!==0&&(i===1?r+="x":(r+="x^",r+=i))}}return r}}let Ll=(()=>{class m extends y{}return m.kind="ArithmeticException",m})();class Ne extends vo{constructor(r,i,s){super(),this.primitive=r,this.size=i,this.generatorBase=s;let a=new Int32Array(i),l=1;for(let f=0;f<i;f++)a[f]=l,l*=2,l>=i&&(l^=r,l&=i-1);this.expTable=a;let d=new Int32Array(i);for(let f=0;f<i-1;f++)d[a[f]]=f;this.logTable=d,this.zero=new kt(this,Int32Array.from([0])),this.one=new kt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new E;if(i===0)return this.zero;let s=new Int32Array(r+1);return s[0]=i,new kt(this,s)}inverse(r){if(r===0)throw new Ll;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+V.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}Ne.AZTEC_DATA_12=new Ne(4201,4096,1),Ne.AZTEC_DATA_10=new Ne(1033,1024,1),Ne.AZTEC_DATA_6=new Ne(67,64,1),Ne.AZTEC_PARAM=new Ne(19,16,1),Ne.QR_CODE_FIELD_256=new Ne(285,256,0),Ne.DATA_MATRIX_FIELD_256=new Ne(301,256,1),Ne.AZTEC_DATA_8=Ne.DATA_MATRIX_FIELD_256,Ne.MAXICODE_FIELD_64=Ne.AZTEC_DATA_6;let Io=(()=>{class m extends y{}return m.kind="ReedSolomonException",m})(),zn=(()=>{class m extends y{}return m.kind="IllegalStateException",m})();class Do{constructor(r){this.field=r}decode(r,i){let s=this.field,a=new kt(s,r),l=new Int32Array(i),d=!0;for(let A=0;A<i;A++){let T=a.evaluateAt(s.exp(A+s.getGeneratorBase()));l[l.length-1-A]=T,T!==0&&(d=!1)}if(d)return;let f=new kt(s,l),p=this.runEuclideanAlgorithm(s.buildMonomial(i,1),f,i),g=p[0],C=p[1],x=this.findErrorLocations(g),v=this.findErrorMagnitudes(C,x);for(let A=0;A<x.length;A++){let T=r.length-1-s.log(x[A]);if(T<0)throw new Io("Bad error location");r[T]=Ne.addOrSubtract(r[T],v[A])}}runEuclideanAlgorithm(r,i,s){if(r.getDegree()<i.getDegree()){let A=r;r=i,i=A}let a=this.field,l=r,d=i,f=a.getZero(),p=a.getOne();for(;d.getDegree()>=(s/2|0);){let A=l,T=f;if(l=d,f=p,l.isZero())throw new Io("r_{i-1} was zero");d=A;let S=a.getZero(),M=l.getCoefficient(l.getDegree()),R=a.inverse(M);for(;d.getDegree()>=l.getDegree()&&!d.isZero();){let B=d.getDegree()-l.getDegree(),Y=a.multiply(d.getCoefficient(d.getDegree()),R);S=S.addOrSubtract(a.buildMonomial(B,Y)),d=d.addOrSubtract(l.multiplyByMonomial(B,Y))}if(p=S.multiply(f).addOrSubtract(T),d.getDegree()>=l.getDegree())throw new zn("Division algorithm failed to reduce polynomial?")}let g=p.getCoefficient(0);if(g===0)throw new Io("sigmaTilde(0) was zero");let C=a.inverse(g),x=p.multiplyScalar(C),v=d.multiplyScalar(C);return[x,v]}findErrorLocations(r){let i=r.getDegree();if(i===1)return Int32Array.from([r.getCoefficient(1)]);let s=new Int32Array(i),a=0,l=this.field;for(let d=1;d<l.getSize()&&a<i;d++)r.evaluateAt(d)===0&&(s[a]=l.inverse(d),a++);if(a!==i)throw new Io("Error locator degree does not match number of roots");return s}findErrorMagnitudes(r,i){let s=i.length,a=new Int32Array(s),l=this.field;for(let d=0;d<s;d++){let f=l.inverse(i[d]),p=1;for(let g=0;g<s;g++)if(d!==g){let C=l.multiply(i[g],f),x=(C&1)===0?C|1:C&-2;p=l.multiply(p,x)}a[d]=l.multiply(r.evaluateAt(f),l.inverse(p)),l.getGeneratorBase()!==0&&(a[d]=l.multiply(a[d],f))}return a}}var Dt=function(m){return m[m.UPPER=0]="UPPER",m[m.LOWER=1]="LOWER",m[m.MIXED=2]="MIXED",m[m.DIGIT=3]="DIGIT",m[m.PUNCT=4]="PUNCT",m[m.BINARY=5]="BINARY",m}(Dt||{});let Pl=(()=>{class m{decode(i){this.ddata=i;let s=i.getBits(),a=this.extractBits(s),l=this.correctBits(a),d=m.convertBoolArrayToByteArray(l),f=m.getEncodedData(l),p=new xo(d,f,null,null);return p.setNumBits(l.length),p}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let s=i.length,a=Dt.UPPER,l=Dt.UPPER,d="",f=0;for(;f<s;)if(l===Dt.BINARY){if(s-f<5)break;let p=m.readCode(i,f,5);if(f+=5,p===0){if(s-f<11)break;p=m.readCode(i,f,11)+31,f+=11}for(let g=0;g<p;g++){if(s-f<8){f=s;break}let C=m.readCode(i,f,8);d+=ce.castAsNonUtf8Char(C),f+=8}l=a}else{let p=l===Dt.DIGIT?4:5;if(s-f<p)break;let g=m.readCode(i,f,p);f+=p;let C=m.getCharacter(l,g);C.startsWith("CTRL_")?(a=l,l=m.getTable(C.charAt(5)),C.charAt(6)==="L"&&(a=l)):(d+=C,l=a)}return d}static getTable(i){switch(i){case"L":return Dt.LOWER;case"P":return Dt.PUNCT;case"M":return Dt.MIXED;case"D":return Dt.DIGIT;case"B":return Dt.BINARY;case"U":default:return Dt.UPPER}}static getCharacter(i,s){switch(i){case Dt.UPPER:return m.UPPER_TABLE[s];case Dt.LOWER:return m.LOWER_TABLE[s];case Dt.MIXED:return m.MIXED_TABLE[s];case Dt.PUNCT:return m.PUNCT_TABLE[s];case Dt.DIGIT:return m.DIGIT_TABLE[s];default:throw new zn("Bad table")}}correctBits(i){let s,a;this.ddata.getNbLayers()<=2?(a=6,s=Ne.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,s=Ne.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,s=Ne.AZTEC_DATA_10):(a=12,s=Ne.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),d=i.length/a;if(d<l)throw new H;let f=i.length%a,p=new Int32Array(d);for(let A=0;A<d;A++,f+=a)p[A]=m.readCode(i,f,a);try{new Do(s).decode(p,d-l)}catch(A){throw new H(A)}let g=(1<<a)-1,C=0;for(let A=0;A<l;A++){let T=p[A];if(T===0||T===g)throw new H;(T===1||T===g-1)&&C++}let x=new Array(l*a-C),v=0;for(let A=0;A<l;A++){let T=p[A];if(T===1||T===g-1)x.fill(T>1,v,v+a-1),v+=a-1;else for(let S=a-1;S>=0;--S)x[v++]=(T&1<<S)!==0}return x}extractBits(i){let s=this.ddata.isCompact(),a=this.ddata.getNbLayers(),l=(s?11:14)+a*4,d=new Int32Array(l),f=new Array(this.totalBitsInLayer(a,s));if(s)for(let p=0;p<d.length;p++)d[p]=p;else{let p=l+1+2*V.truncDivision(V.truncDivision(l,2)-1,15),g=l/2,C=V.truncDivision(p,2);for(let x=0;x<g;x++){let v=x+V.truncDivision(x,15);d[g-x-1]=C-v-1,d[g+x]=C+v+1}}for(let p=0,g=0;p<a;p++){let C=(a-p)*4+(s?9:12),x=p*2,v=l-1-x;for(let A=0;A<C;A++){let T=A*2;for(let S=0;S<2;S++)f[g+T+S]=i.get(d[x+S],d[x+A]),f[g+2*C+T+S]=i.get(d[x+A],d[v-S]),f[g+4*C+T+S]=i.get(d[v-S],d[v-A]),f[g+6*C+T+S]=i.get(d[v-A],d[x+S])}g+=C*8}return f}static readCode(i,s,a){let l=0;for(let d=s;d<s+a;d++)l<<=1,i[d]&&(l|=1);return l}static readByte(i,s){let a=i.length-s;return a>=8?m.readCode(i,s,8):m.readCode(i,s,a)<<8-a}static convertBoolArrayToByteArray(i){let s=new Uint8Array((i.length+7)/8);for(let a=0;a<s.length;a++)s[a]=m.readByte(i,8*a);return s}totalBitsInLayer(i,s){return((s?88:112)+16*i)*i}}return m.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],m.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],m.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],m.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],m.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],m})();class Se{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,i,s,a){let l=r-s,d=i-a;return Math.sqrt(l*l+d*d)}static sum(r){let i=0;for(let s=0,a=r.length;s!==a;s++){let l=r[s];i+=l}return i}}class Ys{static floatToIntBits(r){return r}}Ys.MAX_VALUE=Number.MAX_SAFE_INTEGER;class K{constructor(r,i){this.x=r,this.y=i}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof K){let i=r;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Ys.floatToIntBits(this.x)+Ys.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){let i=this.distance(r[0],r[1]),s=this.distance(r[1],r[2]),a=this.distance(r[0],r[2]),l,d,f;if(s>=i&&s>=a?(d=r[0],l=r[1],f=r[2]):a>=s&&a>=i?(d=r[1],l=r[0],f=r[2]):(d=r[2],l=r[0],f=r[1]),this.crossProductZ(l,d,f)<0){let p=l;l=f,f=p}r[0]=l,r[1]=d,r[2]=f}static distance(r,i){return Se.distance(r.x,r.y,i.x,i.y)}static crossProductZ(r,i,s){let a=i.x,l=i.y;return(s.x-a)*(r.y-l)-(s.y-l)*(r.x-a)}}class qs{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Hh extends qs{constructor(r,i,s,a,l){super(r,i),this.compact=s,this.nbDatablocks=a,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let Xs=(()=>{class m{constructor(i,s,a,l){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),s==null&&(s=m.INIT_SIZE),a==null&&(a=i.getWidth()/2|0),l==null&&(l=i.getHeight()/2|0);let d=s/2|0;if(this.leftInit=a-d,this.rightInit=a+d,this.upInit=l-d,this.downInit=l+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new F}detect(){let i=this.leftInit,s=this.rightInit,a=this.upInit,l=this.downInit,d=!1,f=!0,p=!1,g=!1,C=!1,x=!1,v=!1,A=this.width,T=this.height;for(;f;){f=!1;let S=!0;for(;(S||!g)&&s<A;)S=this.containsBlackPoint(a,l,s,!1),S?(s++,f=!0,g=!0):g||s++;if(s>=A){d=!0;break}let M=!0;for(;(M||!C)&&l<T;)M=this.containsBlackPoint(i,s,l,!0),M?(l++,f=!0,C=!0):C||l++;if(l>=T){d=!0;break}let R=!0;for(;(R||!x)&&i>=0;)R=this.containsBlackPoint(a,l,i,!1),R?(i--,f=!0,x=!0):x||i--;if(i<0){d=!0;break}let B=!0;for(;(B||!v)&&a>=0;)B=this.containsBlackPoint(i,s,a,!0),B?(a--,f=!0,v=!0):v||a--;if(a<0){d=!0;break}f&&(p=!0)}if(!d&&p){let S=s-i,M=null;for(let P=1;M===null&&P<S;P++)M=this.getBlackPointOnSegment(i,l-P,i+P,l);if(M==null)throw new F;let R=null;for(let P=1;R===null&&P<S;P++)R=this.getBlackPointOnSegment(i,a+P,i+P,a);if(R==null)throw new F;let B=null;for(let P=1;B===null&&P<S;P++)B=this.getBlackPointOnSegment(s,a+P,s-P,a);if(B==null)throw new F;let Y=null;for(let P=1;Y===null&&P<S;P++)Y=this.getBlackPointOnSegment(s,l-P,s-P,l);if(Y==null)throw new F;return this.centerEdges(Y,M,B,R)}else throw new F}getBlackPointOnSegment(i,s,a,l){let d=Se.round(Se.distance(i,s,a,l)),f=(a-i)/d,p=(l-s)/d,g=this.image;for(let C=0;C<d;C++){let x=Se.round(i+C*f),v=Se.round(s+C*p);if(g.get(x,v))return new K(x,v)}return null}centerEdges(i,s,a,l){let d=i.getX(),f=i.getY(),p=s.getX(),g=s.getY(),C=a.getX(),x=a.getY(),v=l.getX(),A=l.getY(),T=m.CORR;return d<this.width/2?[new K(v-T,A+T),new K(p+T,g+T),new K(C-T,x-T),new K(d+T,f-T)]:[new K(v+T,A+T),new K(p+T,g-T),new K(C-T,x+T),new K(d-T,f-T)]}containsBlackPoint(i,s,a,l){let d=this.image;if(l){for(let f=i;f<=s;f++)if(d.get(f,a))return!0}else for(let f=i;f<=s;f++)if(d.get(a,f))return!0;return!1}}return m.INIT_SIZE=10,m.CORR=1,m})();class Fl{static checkAndNudgePoints(r,i){let s=r.getWidth(),a=r.getHeight(),l=!0;for(let d=0;d<i.length&&l;d+=2){let f=Math.floor(i[d]),p=Math.floor(i[d+1]);if(f<-1||f>s||p<-1||p>a)throw new F;l=!1,f===-1?(i[d]=0,l=!0):f===s&&(i[d]=s-1,l=!0),p===-1?(i[d+1]=0,l=!0):p===a&&(i[d+1]=a-1,l=!0)}l=!0;for(let d=i.length-2;d>=0&&l;d-=2){let f=Math.floor(i[d]),p=Math.floor(i[d+1]);if(f<-1||f>s||p<-1||p>a)throw new F;l=!1,f===-1?(i[d]=0,l=!0):f===s&&(i[d]=s-1,l=!0),p===-1?(i[d+1]=0,l=!0):p===a&&(i[d+1]=a-1,l=!0)}}}class En{constructor(r,i,s,a,l,d,f,p,g){this.a11=r,this.a21=i,this.a31=s,this.a12=a,this.a22=l,this.a32=d,this.a13=f,this.a23=p,this.a33=g}static quadrilateralToQuadrilateral(r,i,s,a,l,d,f,p,g,C,x,v,A,T,S,M){let R=En.quadrilateralToSquare(r,i,s,a,l,d,f,p);return En.squareToQuadrilateral(g,C,x,v,A,T,S,M).times(R)}transformPoints(r){let i=r.length,s=this.a11,a=this.a12,l=this.a13,d=this.a21,f=this.a22,p=this.a23,g=this.a31,C=this.a32,x=this.a33;for(let v=0;v<i;v+=2){let A=r[v],T=r[v+1],S=l*A+p*T+x;r[v]=(s*A+d*T+g)/S,r[v+1]=(a*A+f*T+C)/S}}transformPointsWithValues(r,i){let s=this.a11,a=this.a12,l=this.a13,d=this.a21,f=this.a22,p=this.a23,g=this.a31,C=this.a32,x=this.a33,v=r.length;for(let A=0;A<v;A++){let T=r[A],S=i[A],M=l*T+p*S+x;r[A]=(s*T+d*S+g)/M,i[A]=(a*T+f*S+C)/M}}static squareToQuadrilateral(r,i,s,a,l,d,f,p){let g=r-s+l-f,C=i-a+d-p;if(g===0&&C===0)return new En(s-r,l-s,r,a-i,d-a,i,0,0,1);{let x=s-l,v=f-l,A=a-d,T=p-d,S=x*T-v*A,M=(g*T-v*C)/S,R=(x*C-g*A)/S;return new En(s-r+M*s,f-r+R*f,r,a-i+M*a,p-i+R*p,i,M,R,1)}}static quadrilateralToSquare(r,i,s,a,l,d,f,p){return En.squareToQuadrilateral(r,i,s,a,l,d,f,p).buildAdjoint()}buildAdjoint(){return new En(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new En(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class zh extends Fl{sampleGrid(r,i,s,a,l,d,f,p,g,C,x,v,A,T,S,M,R,B,Y){let P=En.quadrilateralToQuadrilateral(a,l,d,f,p,g,C,x,v,A,T,S,M,R,B,Y);return this.sampleGridWithTransform(r,i,s,P)}sampleGridWithTransform(r,i,s,a){if(i<=0||s<=0)throw new F;let l=new ct(i,s),d=new Float32Array(2*i);for(let f=0;f<s;f++){let p=d.length,g=f+.5;for(let C=0;C<p;C+=2)d[C]=C/2+.5,d[C+1]=g;a.transformPoints(d),Fl.checkAndNudgePoints(r,d);try{for(let C=0;C<p;C+=2)r.get(Math.floor(d[C]),Math.floor(d[C+1]))&&l.set(C/2,f)}catch{throw new F}}return l}}class dr{static setGridSampler(r){dr.gridSampler=r}static getInstance(){return dr.gridSampler}}dr.gridSampler=new zh;class St{constructor(r,i){this.x=r,this.y=i}toResultPoint(){return new K(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Gh{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let i=this.getMatrixCenter(),s=this.getBullsEyeCorners(i);if(r){let d=s[0];s[0]=s[2],s[2]=d}this.extractParameters(s);let a=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),l=this.getMatrixCornerPoints(s);return new Hh(a,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new F;let i=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(r[0],r[1],i),this.sampleLine(r[1],r[2],i),this.sampleLine(r[2],r[3],i),this.sampleLine(r[3],r[0],i)]);this.shift=this.getRotation(s,i);let a=0;for(let d=0;d<4;d++){let f=s[(this.shift+d)%4];this.compact?(a<<=7,a+=f>>1&127):(a<<=10,a+=(f>>2&992)+(f>>1&31))}let l=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(r,i){let s=0;r.forEach((a,l,d)=>{let f=(a>>i-2<<1)+(a&1);s=(s<<3)+f}),s=((s&1)<<11)+(s>>1);for(let a=0;a<4;a++)if(V.bitCount(s^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new F}getCorrectedParameterData(r,i){let s,a;i?(s=7,a=2):(s=10,a=4);let l=s-a,d=new Int32Array(s);for(let p=s-1;p>=0;--p)d[p]=r&15,r>>=4;try{new Do(Ne.AZTEC_PARAM).decode(d,l)}catch{throw new F}let f=0;for(let p=0;p<a;p++)f=(f<<4)+d[p];return f}getBullsEyeCorners(r){let i=r,s=r,a=r,l=r,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let x=this.getFirstDifferent(i,d,1,-1),v=this.getFirstDifferent(s,d,1,1),A=this.getFirstDifferent(a,d,-1,1),T=this.getFirstDifferent(l,d,-1,-1);if(this.nbCenterLayers>2){let S=this.distancePoint(T,x)*this.nbCenterLayers/(this.distancePoint(l,i)*(this.nbCenterLayers+2));if(S<.75||S>1.25||!this.isWhiteOrBlackRectangle(x,v,A,T))break}i=x,s=v,a=A,l=T,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new F;this.compact=this.nbCenterLayers===5;let f=new K(i.getX()+.5,i.getY()-.5),p=new K(s.getX()+.5,s.getY()+.5),g=new K(a.getX()-.5,a.getY()+.5),C=new K(l.getX()-.5,l.getY()-.5);return this.expandSquare([f,p,g,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,i,s,a;try{let f=new Xs(this.image).detect();r=f[0],i=f[1],s=f[2],a=f[3]}catch{let p=this.image.getWidth()/2,g=this.image.getHeight()/2;r=this.getFirstDifferent(new St(p+7,g-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new St(p+7,g+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new St(p-7,g+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new St(p-7,g-7),!1,-1,-1).toResultPoint()}let l=Se.round((r.getX()+a.getX()+i.getX()+s.getX())/4),d=Se.round((r.getY()+a.getY()+i.getY()+s.getY())/4);try{let f=new Xs(this.image,15,l,d).detect();r=f[0],i=f[1],s=f[2],a=f[3]}catch{r=this.getFirstDifferent(new St(l+7,d-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new St(l+7,d+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new St(l-7,d+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new St(l-7,d-7),!1,-1,-1).toResultPoint()}return l=Se.round((r.getX()+a.getX()+i.getX()+s.getX())/4),d=Se.round((r.getY()+a.getY()+i.getY()+s.getY())/4),new St(l,d)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,i,s,a,l){let d=dr.getInstance(),f=this.getDimension(),p=f/2-this.nbCenterLayers,g=f/2+this.nbCenterLayers;return d.sampleGrid(r,f,f,p,p,g,p,g,g,p,g,i.getX(),i.getY(),s.getX(),s.getY(),a.getX(),a.getY(),l.getX(),l.getY())}sampleLine(r,i,s){let a=0,l=this.distanceResultPoint(r,i),d=l/s,f=r.getX(),p=r.getY(),g=d*(i.getX()-r.getX())/l,C=d*(i.getY()-r.getY())/l;for(let x=0;x<s;x++)this.image.get(Se.round(f+x*g),Se.round(p+x*C))&&(a|=1<<s-x-1);return a}isWhiteOrBlackRectangle(r,i,s,a){let l=3;r=new St(r.getX()-l,r.getY()+l),i=new St(i.getX()-l,i.getY()-l),s=new St(s.getX()+l,s.getY()-l),a=new St(a.getX()+l,a.getY()+l);let d=this.getColor(a,r);if(d===0)return!1;let f=this.getColor(r,i);return f!==d||(f=this.getColor(i,s),f!==d)?!1:(f=this.getColor(s,a),f===d)}getColor(r,i){let s=this.distancePoint(r,i),a=(i.getX()-r.getX())/s,l=(i.getY()-r.getY())/s,d=0,f=r.getX(),p=r.getY(),g=this.image.get(r.getX(),r.getY()),C=Math.ceil(s);for(let v=0;v<C;v++)f+=a,p+=l,this.image.get(Se.round(f),Se.round(p))!==g&&d++;let x=d/s;return x>.1&&x<.9?0:x<=.1===g?1:-1}getFirstDifferent(r,i,s,a){let l=r.getX()+s,d=r.getY()+a;for(;this.isValid(l,d)&&this.image.get(l,d)===i;)l+=s,d+=a;for(l-=s,d-=a;this.isValid(l,d)&&this.image.get(l,d)===i;)l+=s;for(l-=s;this.isValid(l,d)&&this.image.get(l,d)===i;)d+=a;return d-=a,new St(l,d)}expandSquare(r,i,s){let a=s/(2*i),l=r[0].getX()-r[2].getX(),d=r[0].getY()-r[2].getY(),f=(r[0].getX()+r[2].getX())/2,p=(r[0].getY()+r[2].getY())/2,g=new K(f+a*l,p+a*d),C=new K(f-a*l,p-a*d);l=r[1].getX()-r[3].getX(),d=r[1].getY()-r[3].getY(),f=(r[1].getX()+r[3].getX())/2,p=(r[1].getY()+r[3].getY())/2;let x=new K(f+a*l,p+a*d),v=new K(f-a*l,p-a*d);return[g,x,C,v]}isValid(r,i){return r>=0&&r<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(r){let i=Se.round(r.getX()),s=Se.round(r.getY());return this.isValid(i,s)}distancePoint(r,i){return Se.distance(r.getX(),r.getY(),i.getX(),i.getY())}distanceResultPoint(r,i){return Se.distance(r.getX(),r.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(V.truncDivision(this.nbLayers-4,8)+1)+15}}class Zs{decode(r,i=null){let s=null,a=new Gh(r.getBlackMatrix()),l=null,d=null;try{let C=a.detectMirror(!1);l=C.getPoints(),this.reportFoundResultPoints(i,l),d=new Pl().decode(C)}catch(C){s=C}if(d==null)try{let C=a.detectMirror(!0);l=C.getPoints(),this.reportFoundResultPoints(i,l),d=new Pl().decode(C)}catch(C){throw s??C}let f=new bt(d.getText(),d.getRawBytes(),d.getNumBits(),l,re.AZTEC,_.currentTimeMillis()),p=d.getByteSegments();p!=null&&f.putMetadata(ut.BYTE_SEGMENTS,p);let g=d.getECLevel();return g!=null&&f.putMetadata(ut.ERROR_CORRECTION_LEVEL,g),f}reportFoundResultPoints(r,i){if(r!=null){let s=r.get(Ee.NEED_RESULT_POINT_CALLBACK);s!=null&&i.forEach((a,l,d)=>{s.foundPossibleResultPoint(a)})}}reset(){}}class Zy extends Ur{constructor(r=500){super(new Zs,r)}}class Je{decode(r,i){try{return this.doDecode(r,i)}catch{if(i&&i.get(Ee.TRY_HARDER)===!0&&r.isRotateSupported()){let l=r.rotateCounterClockwise(),d=this.doDecode(l,i),f=d.getResultMetadata(),p=270;f!==null&&f.get(ut.ORIENTATION)===!0&&(p=p+f.get(ut.ORIENTATION)%360),d.putMetadata(ut.ORIENTATION,p);let g=d.getResultPoints();if(g!==null){let C=l.getHeight();for(let x=0;x<g.length;x++)g[x]=new K(C-g[x].getY()-1,g[x].getX())}return d}else throw new F}}reset(){}doDecode(r,i){let s=r.getWidth(),a=r.getHeight(),l=new ge(s),d=i&&i.get(Ee.TRY_HARDER)===!0,f=Math.max(1,a>>(d?8:5)),p;d?p=a:p=15;let g=Math.trunc(a/2);for(let C=0;C<p;C++){let x=Math.trunc((C+1)/2),v=(C&1)===0,A=g+f*(v?x:-x);if(A<0||A>=a)break;try{l=r.getBlackRow(A,l)}catch{continue}for(let T=0;T<2;T++){if(T===1&&(l.reverse(),i&&i.get(Ee.NEED_RESULT_POINT_CALLBACK)===!0)){let S=new Map;i.forEach((M,R)=>S.set(R,M)),S.delete(Ee.NEED_RESULT_POINT_CALLBACK),i=S}try{let S=this.decodeRow(A,l,i);if(T===1){S.putMetadata(ut.ORIENTATION,180);let M=S.getResultPoints();M!==null&&(M[0]=new K(s-M[0].getX()-1,M[0].getY()),M[1]=new K(s-M[1].getX()-1,M[1].getY()))}return S}catch{}}}throw new F}static recordPattern(r,i,s){let a=s.length;for(let g=0;g<a;g++)s[g]=0;let l=r.getSize();if(i>=l)throw new F;let d=!r.get(i),f=0,p=i;for(;p<l;){if(r.get(p)!==d)s[f]++;else{if(++f===a)break;s[f]=1,d=!d}p++}if(!(f===a||f===a-1&&p===l))throw new F}static recordPatternInReverse(r,i,s){let a=s.length,l=r.get(i);for(;i>0&&a>=0;)r.get(--i)!==l&&(a--,l=!l);if(a>=0)throw new F;Je.recordPattern(r,i+1,s)}static patternMatchVariance(r,i,s){let a=r.length,l=0,d=0;for(let g=0;g<a;g++)l+=r[g],d+=i[g];if(l<d)return Number.POSITIVE_INFINITY;let f=l/d;s*=f;let p=0;for(let g=0;g<a;g++){let C=r[g],x=i[g]*f,v=C>x?C-x:x-C;if(v>s)return Number.POSITIVE_INFINITY;p+=v}return p/l}}class $ extends Je{static findStartPattern(r){let i=r.getSize(),s=r.getNextSet(0),a=0,l=Int32Array.from([0,0,0,0,0,0]),d=s,f=!1,p=6;for(let g=s;g<i;g++)if(r.get(g)!==f)l[a]++;else{if(a===p-1){let C=$.MAX_AVG_VARIANCE,x=-1;for(let v=$.CODE_START_A;v<=$.CODE_START_C;v++){let A=Je.patternMatchVariance(l,$.CODE_PATTERNS[v],$.MAX_INDIVIDUAL_VARIANCE);A<C&&(C=A,x=v)}if(x>=0&&r.isRange(Math.max(0,d-(g-d)/2),d,!1))return Int32Array.from([d,g,x]);d+=l[0]+l[1],l=l.slice(2,l.length-1),l[a-1]=0,l[a]=0,a--}else a++;l[a]=1,f=!f}throw new F}static decodeCode(r,i,s){Je.recordPattern(r,s,i);let a=$.MAX_AVG_VARIANCE,l=-1;for(let d=0;d<$.CODE_PATTERNS.length;d++){let f=$.CODE_PATTERNS[d],p=this.patternMatchVariance(i,f,$.MAX_INDIVIDUAL_VARIANCE);p<a&&(a=p,l=d)}if(l>=0)return l;throw new F}decodeRow(r,i,s){let a=s&&s.get(Ee.ASSUME_GS1)===!0,l=$.findStartPattern(i),d=l[2],f=0,p=new Uint8Array(20);p[f++]=d;let g;switch(d){case $.CODE_START_A:g=$.CODE_CODE_A;break;case $.CODE_START_B:g=$.CODE_CODE_B;break;case $.CODE_START_C:g=$.CODE_CODE_C;break;default:throw new H}let C=!1,x=!1,v="",A=l[0],T=l[1],S=Int32Array.from([0,0,0,0,0,0]),M=0,R=0,B=d,Y=0,P=!0,we=!1,de=!1;for(;!C;){let _i=x;switch(x=!1,M=R,R=$.decodeCode(i,S,T),p[f++]=R,R!==$.CODE_STOP&&(P=!0),R!==$.CODE_STOP&&(Y++,B+=Y*R),A=T,T+=S.reduce((LE,PE)=>LE+PE,0),R){case $.CODE_START_A:case $.CODE_START_B:case $.CODE_START_C:throw new H}switch(g){case $.CODE_CODE_A:if(R<64)de===we?v+=String.fromCharCode(32+R):v+=String.fromCharCode(32+R+128),de=!1;else if(R<96)de===we?v+=String.fromCharCode(R-64):v+=String.fromCharCode(R+64),de=!1;else switch(R!==$.CODE_STOP&&(P=!1),R){case $.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+="");break;case $.CODE_FNC_2:case $.CODE_FNC_3:break;case $.CODE_FNC_4_A:!we&&de?(we=!0,de=!1):we&&de?(we=!1,de=!1):de=!0;break;case $.CODE_SHIFT:x=!0,g=$.CODE_CODE_B;break;case $.CODE_CODE_B:g=$.CODE_CODE_B;break;case $.CODE_CODE_C:g=$.CODE_CODE_C;break;case $.CODE_STOP:C=!0;break}break;case $.CODE_CODE_B:if(R<96)de===we?v+=String.fromCharCode(32+R):v+=String.fromCharCode(32+R+128),de=!1;else switch(R!==$.CODE_STOP&&(P=!1),R){case $.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+="");break;case $.CODE_FNC_2:case $.CODE_FNC_3:break;case $.CODE_FNC_4_B:!we&&de?(we=!0,de=!1):we&&de?(we=!1,de=!1):de=!0;break;case $.CODE_SHIFT:x=!0,g=$.CODE_CODE_A;break;case $.CODE_CODE_A:g=$.CODE_CODE_A;break;case $.CODE_CODE_C:g=$.CODE_CODE_C;break;case $.CODE_STOP:C=!0;break}break;case $.CODE_CODE_C:if(R<100)R<10&&(v+="0"),v+=R;else switch(R!==$.CODE_STOP&&(P=!1),R){case $.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+="");break;case $.CODE_CODE_A:g=$.CODE_CODE_A;break;case $.CODE_CODE_B:g=$.CODE_CODE_B;break;case $.CODE_STOP:C=!0;break}break}_i&&(g=g===$.CODE_CODE_A?$.CODE_CODE_B:$.CODE_CODE_A)}let jt=T-A;if(T=i.getNextUnset(T),!i.isRange(T,Math.min(i.getSize(),T+(T-A)/2),!1))throw new F;if(B-=Y*M,B%103!==M)throw new b;let In=v.length;if(In===0)throw new F;In>0&&P&&(g===$.CODE_CODE_C?v=v.substring(0,In-2):v=v.substring(0,In-1));let Ut=(l[1]+l[0])/2,Ve=A+jt/2,wt=p.length,Kt=new Uint8Array(wt);for(let _i=0;_i<wt;_i++)Kt[_i]=p[_i];let Si=[new K(Ut,r),new K(Ve,r)];return new bt(v,Kt,0,Si,re.CODE_128,new Date().getTime())}}$.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],$.MAX_AVG_VARIANCE=.25,$.MAX_INDIVIDUAL_VARIANCE=.7,$.CODE_SHIFT=98,$.CODE_CODE_C=99,$.CODE_CODE_B=100,$.CODE_CODE_A=101,$.CODE_FNC_1=102,$.CODE_FNC_2=97,$.CODE_FNC_3=96,$.CODE_FNC_4_A=101,$.CODE_FNC_4_B=100,$.CODE_START_A=103,$.CODE_START_B=104,$.CODE_START_C=105,$.CODE_STOP=106;let kl=(()=>{class m extends Je{constructor(i=!1,s=!1){super(),this.usingCheckDigit=i,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,s,a){let l=this.counters;l.fill(0),this.decodeRowResult="";let d=m.findAsteriskPattern(s,l),f=s.getNextSet(d[1]),p=s.getSize(),g,C;do{m.recordPattern(s,f,l);let M=m.toNarrowWidePattern(l);if(M<0)throw new F;g=m.patternToChar(M),this.decodeRowResult+=g,C=f;for(let R of l)f+=R;f=s.getNextSet(f)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let x=0;for(let M of l)x+=M;let v=f-C-x;if(f!==p&&v*2<x)throw new F;if(this.usingCheckDigit){let M=this.decodeRowResult.length-1,R=0;for(let B=0;B<M;B++)R+=m.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(B));if(this.decodeRowResult.charAt(M)!==m.ALPHABET_STRING.charAt(R%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new F;let A;this.extendedMode?A=m.decodeExtended(this.decodeRowResult):A=this.decodeRowResult;let T=(d[1]+d[0])/2,S=C+x/2;return new bt(A,null,0,[new K(T,i),new K(S,i)],re.CODE_39,new Date().getTime())}static findAsteriskPattern(i,s){let a=i.getSize(),l=i.getNextSet(0),d=0,f=l,p=!1,g=s.length;for(let C=l;C<a;C++)if(i.get(C)!==p)s[d]++;else{if(d===g-1){if(this.toNarrowWidePattern(s)===m.ASTERISK_ENCODING&&i.isRange(Math.max(0,f-Math.floor((C-f)/2)),f,!1))return[f,C];f+=s[0]+s[1],s.copyWithin(0,2,2+d-1),s[d-1]=0,s[d]=0,d--}else d++;s[d]=1,p=!p}throw new F}static toNarrowWidePattern(i){let s=i.length,a=0,l;do{let d=2147483647;for(let g of i)g<d&&g>a&&(d=g);a=d,l=0;let f=0,p=0;for(let g=0;g<s;g++){let C=i[g];C>a&&(p|=1<<s-1-g,l++,f+=C)}if(l===3){for(let g=0;g<s&&l>0;g++){let C=i[g];if(C>a&&(l--,C*2>=f))return-1}return p}}while(l>3);return-1}static patternToChar(i){for(let s=0;s<m.CHARACTER_ENCODINGS.length;s++)if(m.CHARACTER_ENCODINGS[s]===i)return m.ALPHABET_STRING.charAt(s);if(i===m.ASTERISK_ENCODING)return"*";throw new F}static decodeExtended(i){let s=i.length,a="";for(let l=0;l<s;l++){let d=i.charAt(l);if(d==="+"||d==="$"||d==="%"||d==="/"){let f=i.charAt(l+1),p="\0";switch(d){case"+":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)+32);else throw new H;break;case"$":if(f>="A"&&f<="Z")p=String.fromCharCode(f.charCodeAt(0)-64);else throw new H;break;case"%":if(f>="A"&&f<="E")p=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")p=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")p=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")p="\0";else if(f==="V")p="@";else if(f==="W")p="`";else if(f==="X"||f==="Y"||f==="Z")p="\x7F";else throw new H;break;case"/":if(f>="A"&&f<="O")p=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")p=":";else throw new H;break}a+=p,l++}else a+=d}return a}}return m.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",m.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],m.ASTERISK_ENCODING=148,m})();class je extends Je{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,i,s){let a=this.decodeStart(i),l=this.decodeEnd(i),d=new Be;je.decodeMiddle(i,a[1],l[0],d);let f=d.toString(),p=null;s!=null&&(p=s.get(Ee.ALLOWED_LENGTHS)),p==null&&(p=je.DEFAULT_ALLOWED_LENGTHS);let g=f.length,C=!1,x=0;for(let T of p){if(g===T){C=!0;break}T>x&&(x=T)}if(!C&&g>x&&(C=!0),!C)throw new H;let v=[new K(a[1],r),new K(l[0],r)];return new bt(f,null,0,v,re.ITF,new Date().getTime())}static decodeMiddle(r,i,s,a){let l=new Int32Array(10),d=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),d.fill(0),f.fill(0);i<s;){Je.recordPattern(r,i,l);for(let g=0;g<5;g++){let C=2*g;d[g]=l[C],f[g]=l[C+1]}let p=je.decodeDigit(d);a.append(p.toString()),p=this.decodeDigit(f),a.append(p.toString()),l.forEach(function(g){i+=g})}}decodeStart(r){let i=je.skipWhiteSpace(r),s=je.findGuardPattern(r,i,je.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(r,s[0]),s}validateQuietZone(r,i){let s=this.narrowLineWidth*10;s=s<i?s:i;for(let a=i-1;s>0&&a>=0&&!r.get(a);a--)s--;if(s!==0)throw new F}static skipWhiteSpace(r){let i=r.getSize(),s=r.getNextSet(0);if(s===i)throw new F;return s}decodeEnd(r){r.reverse();try{let i=je.skipWhiteSpace(r),s;try{s=je.findGuardPattern(r,i,je.END_PATTERN_REVERSED[0])}catch(l){l instanceof F&&(s=je.findGuardPattern(r,i,je.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,s[0]);let a=s[0];return s[0]=r.getSize()-s[1],s[1]=r.getSize()-a,s}finally{r.reverse()}}static findGuardPattern(r,i,s){let a=s.length,l=new Int32Array(a),d=r.getSize(),f=!1,p=0,g=i;l.fill(0);for(let C=i;C<d;C++)if(r.get(C)!==f)l[p]++;else{if(p===a-1){if(Je.patternMatchVariance(l,s,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE)return[g,C];g+=l[0]+l[1],_.arraycopy(l,2,l,0,p-1),l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,f=!f}throw new F}static decodeDigit(r){let i=je.MAX_AVG_VARIANCE,s=-1,a=je.PATTERNS.length;for(let l=0;l<a;l++){let d=je.PATTERNS[l],f=Je.patternMatchVariance(r,d,je.MAX_INDIVIDUAL_VARIANCE);f<i?(i=f,s=l):f===i&&(s=-1)}if(s>=0)return s%10;throw new F}}je.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],je.MAX_AVG_VARIANCE=.38,je.MAX_INDIVIDUAL_VARIANCE=.5,je.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],je.START_PATTERN=Int32Array.from([1,1,1,1]),je.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ze extends Je{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let i=!1,s,a=0,l=Int32Array.from([0,0,0]);for(;!i;){l=Int32Array.from([0,0,0]),s=Ze.findGuardPattern(r,a,!1,this.START_END_PATTERN,l);let d=s[0];a=s[1];let f=d-(a-d);f>=0&&(i=r.isRange(f,d,!1))}return s}static checkChecksum(r){return Ze.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let s=parseInt(r.charAt(i-1),10);return Ze.getStandardUPCEANChecksum(r.substring(0,i-1))===s}static getStandardUPCEANChecksum(r){let i=r.length,s=0;for(let a=i-1;a>=0;a-=2){let l=r.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new H;s+=l}s*=3;for(let a=i-2;a>=0;a-=2){let l=r.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new H;s+=l}return(1e3-s)%10}static decodeEnd(r,i){return Ze.findGuardPattern(r,i,!1,Ze.START_END_PATTERN,new Int32Array(Ze.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,i,s,a){return this.findGuardPattern(r,i,s,a,new Int32Array(a.length))}static findGuardPattern(r,i,s,a,l){let d=r.getSize();i=s?r.getNextUnset(i):r.getNextSet(i);let f=0,p=i,g=a.length,C=s;for(let x=i;x<d;x++)if(r.get(x)!==C)l[f]++;else{if(f===g-1){if(Je.patternMatchVariance(l,a,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE)return Int32Array.from([p,x]);p+=l[0]+l[1];let v=l.slice(2,l.length-1);for(let A=0;A<f-1;A++)l[A]=v[A];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,C=!C}throw new F}static decodeDigit(r,i,s,a){this.recordPattern(r,s,i);let l=this.MAX_AVG_VARIANCE,d=-1,f=a.length;for(let p=0;p<f;p++){let g=a[p],C=Je.patternMatchVariance(i,g,Ze.MAX_INDIVIDUAL_VARIANCE);C<l&&(l=C,d=p)}if(d>=0)return d;throw new F}}Ze.MAX_AVG_VARIANCE=.48,Ze.MAX_INDIVIDUAL_VARIANCE=.7,Ze.START_END_PATTERN=Int32Array.from([1,1,1]),Ze.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ze.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ze.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ao{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,s){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(i,s,a),d=a.toString(),f=Ao.parseExtensionString(d),p=[new K((s[0]+s[1])/2,r),new K(l,r)],g=new bt(d,null,0,p,re.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(r,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=r.getSize(),d=i[1],f=0;for(let g=0;g<5&&d<l;g++){let C=Ze.decodeDigit(r,a,d,Ze.L_AND_G_PATTERNS);s+=String.fromCharCode(48+C%10);for(let x of a)d+=x;C>=10&&(f|=1<<4-g),g!==4&&(d=r.getNextSet(d),d=r.getNextUnset(d))}if(s.length!==5)throw new F;let p=this.determineCheckDigit(f);if(Ao.extensionChecksum(s.toString())!==p)throw new F;return d}static extensionChecksum(r){let i=r.length,s=0;for(let a=i-2;a>=0;a-=2)s+=r.charAt(a).charCodeAt(0)-48;s*=3;for(let a=i-1;a>=0;a-=2)s+=r.charAt(a).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(r){for(let i=0;i<10;i++)if(r===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new F}static parseExtensionString(r){if(r.length!==5)return null;let i=Ao.parseExtension5String(r);return i==null?null:new Map([[ut.SUGGESTED_PRICE,i]])}static parseExtension5String(r){let i;switch(r.charAt(0)){case"0":i="\xA3";break;case"5":i="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let s=parseInt(r.substring(1)),a=(s/100).toString(),l=s%100,d=l<10?"0"+l:l.toString();return i+a+"."+d}}class Bl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,s){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(i,s,a),d=a.toString(),f=Bl.parseExtensionString(d),p=[new K((s[0]+s[1])/2,r),new K(l,r)],g=new bt(d,null,0,p,re.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&g.putAllMetadata(f),g}decodeMiddle(r,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=r.getSize(),d=i[1],f=0;for(let p=0;p<2&&d<l;p++){let g=Ze.decodeDigit(r,a,d,Ze.L_AND_G_PATTERNS);s+=String.fromCharCode(48+g%10);for(let C of a)d+=C;g>=10&&(f|=1<<1-p),p!==1&&(d=r.getNextSet(d),d=r.getNextUnset(d))}if(s.length!==2)throw new F;if(parseInt(s.toString())%4!==f)throw new F;return d}static parseExtensionString(r){return r.length!==2?null:new Map([[ut.ISSUE_NUMBER,parseInt(r)]])}}class Wh{static decodeRow(r,i,s){let a=Ze.findGuardPattern(i,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ao().decodeRow(r,i,a)}catch{return new Bl().decodeRow(r,i,a)}}}Wh.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Re extends Ze{constructor(){super(),this.decodeRowStringBuffer="",Re.L_AND_G_PATTERNS=Re.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let i=Re.L_PATTERNS[r-10],s=new Int32Array(i.length);for(let a=0;a<i.length;a++)s[a]=i[i.length-a-1];Re.L_AND_G_PATTERNS[r]=s}}decodeRow(r,i,s){let a=Re.findStartGuardPattern(i),l=s==null?null:s.get(Ee.NEED_RESULT_POINT_CALLBACK);if(l!=null){let P=new K((a[0]+a[1])/2,r);l.foundPossibleResultPoint(P)}let d=this.decodeMiddle(i,a,this.decodeRowStringBuffer),f=d.rowOffset,p=d.resultString;if(l!=null){let P=new K(f,r);l.foundPossibleResultPoint(P)}let g=this.decodeEnd(i,f);if(l!=null){let P=new K((g[0]+g[1])/2,r);l.foundPossibleResultPoint(P)}let C=g[1],x=C+(C-g[0]);if(x>=i.getSize()||!i.isRange(C,x,!1))throw new F;let v=p.toString();if(v.length<8)throw new H;if(!Re.checkChecksum(v))throw new b;let A=(a[1]+a[0])/2,T=(g[1]+g[0])/2,S=this.getBarcodeFormat(),M=[new K(A,r),new K(T,r)],R=new bt(v,null,0,M,S,new Date().getTime()),B=0;try{let P=Wh.decodeRow(r,i,g[1]);R.putMetadata(ut.UPC_EAN_EXTENSION,P.getText()),R.putAllMetadata(P.getResultMetadata()),R.addResultPoints(P.getResultPoints()),B=P.getText().length}catch{}let Y=s==null?null:s.get(Ee.ALLOWED_EAN_EXTENSIONS);if(Y!=null){let P=!1;for(let we in Y)if(B.toString()===we){P=!0;break}if(!P)throw new F}return R}decodeEnd(r,i){return Re.findGuardPattern(r,i,!1,Re.START_END_PATTERN,new Int32Array(Re.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return Re.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let s=parseInt(r.charAt(i-1),10);return Re.getStandardUPCEANChecksum(r.substring(0,i-1))===s}static getStandardUPCEANChecksum(r){let i=r.length,s=0;for(let a=i-1;a>=0;a-=2){let l=r.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new H;s+=l}s*=3;for(let a=i-2;a>=0;a-=2){let l=r.charAt(a).charCodeAt(0)-48;if(l<0||l>9)throw new H;s+=l}return(1e3-s)%10}}let Qs=(()=>{class m extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,s,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let d=i.getSize(),f=s[1],p=0;for(let C=0;C<6&&f<d;C++){let x=Re.decodeDigit(i,l,f,Re.L_AND_G_PATTERNS);a+=String.fromCharCode(48+x%10);for(let v of l)f+=v;x>=10&&(p|=1<<5-C)}a=m.determineFirstDigit(a,p),f=Re.findGuardPattern(i,f,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&f<d;C++){let x=Re.decodeDigit(i,l,f,Re.L_PATTERNS);a+=String.fromCharCode(48+x);for(let v of l)f+=v}return{rowOffset:f,resultString:a}}getBarcodeFormat(){return re.EAN_13}static determineFirstDigit(i,s){for(let a=0;a<10;a++)if(s===this.FIRST_DIGIT_ENCODINGS[a])return i=String.fromCharCode(48+a)+i,i;throw new F}}return m.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],m})();class $h extends Re{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=r.getSize(),d=i[1];for(let p=0;p<4&&d<l;p++){let g=Re.decodeDigit(r,a,d,Re.L_PATTERNS);s+=String.fromCharCode(48+g);for(let C of a)d+=C}d=Re.findGuardPattern(r,d,!0,Re.MIDDLE_PATTERN,new Int32Array(Re.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&d<l;p++){let g=Re.decodeDigit(r,a,d,Re.L_PATTERNS);s+=String.fromCharCode(48+g);for(let C of a)d+=C}return{rowOffset:d,resultString:s}}getBarcodeFormat(){return re.EAN_8}}class Yh extends Re{constructor(){super(...arguments),this.ean13Reader=new Qs}getBarcodeFormat(){return re.UPC_A}decode(r,i){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,i,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,i,s))}decodeMiddle(r,i,s){return this.ean13Reader.decodeMiddle(r,i,s)}maybeReturnResult(r){let i=r.getText();if(i.charAt(0)==="0"){let s=new bt(i.substring(1),null,null,r.getResultPoints(),re.UPC_A);return r.getResultMetadata()!=null&&s.putAllMetadata(r.getResultMetadata()),s}else throw new F}reset(){this.ean13Reader.reset()}}class wn extends Re{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,i,s){let a=this.decodeMiddleCounters.map(g=>g);a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=r.getSize(),d=i[1],f=0;for(let g=0;g<6&&d<l;g++){let C=wn.decodeDigit(r,a,d,wn.L_AND_G_PATTERNS);s+=String.fromCharCode(48+C%10);for(let x of a)d+=x;C>=10&&(f|=1<<5-g)}let p=wn.determineNumSysAndCheckDigit(s,f);return{rowOffset:d,resultString:p}}decodeEnd(r,i){return wn.findGuardPatternWithoutCounters(r,i,!0,wn.MIDDLE_END_PATTERN)}checkChecksum(r){return Re.checkChecksum(wn.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,i){for(let s=0;s<=1;s++)for(let a=0;a<10;a++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][a]){let l=String.fromCharCode(48+s),d=String.fromCharCode(48+a);return l+r+d}throw F.getNotFoundInstance()}getBarcodeFormat(){return re.UPC_E}static convertUPCEtoUPCA(r){let i=r.slice(1,7).split("").map(l=>l.charCodeAt(0)),s=new Be;s.append(r.charAt(0));let a=i[5];switch(a){case 0:case 1:case 2:s.appendChars(i,0,2),s.append(a),s.append("0000"),s.appendChars(i,2,3);break;case 3:s.appendChars(i,0,3),s.append("00000"),s.appendChars(i,3,2);break;case 4:s.appendChars(i,0,4),s.append("00000"),s.append(i[4]);break;default:s.appendChars(i,0,5),s.append("0000"),s.append(a);break}return r.length>=8&&s.append(r.charAt(7)),s.toString()}}wn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class jl extends Je{constructor(r){super();let i=r==null?null:r.get(Ee.POSSIBLE_FORMATS),s=[];t(i)?(s.push(new Qs),s.push(new Yh),s.push(new $h),s.push(new wn)):(i.indexOf(re.EAN_13)>-1&&s.push(new Qs),i.indexOf(re.UPC_A)>-1&&s.push(new Yh),i.indexOf(re.EAN_8)>-1&&s.push(new $h),i.indexOf(re.UPC_E)>-1&&s.push(new wn)),this.readers=s}decodeRow(r,i,s){for(let a of this.readers)try{let l=a.decodeRow(r,i,s),d=l.getBarcodeFormat()===re.EAN_13&&l.getText().charAt(0)==="0",f=s==null?null:s.get(Ee.POSSIBLE_FORMATS),p=f==null||f.includes(re.UPC_A);if(d&&p){let g=l.getRawBytes(),C=new bt(l.getText().substring(1),g,g?g.length:null,l.getResultPoints(),re.UPC_A);return C.putAllMetadata(l.getResultMetadata()),C}return l}catch{}throw new F}reset(){for(let r of this.readers)r.reset()}}let Vr=(()=>{class m extends Je{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,s){for(let a=0;a<s.length;a++)if(Je.patternMatchVariance(i,s[a],m.MAX_INDIVIDUAL_VARIANCE)<m.MAX_AVG_VARIANCE)return a;throw new F}static count(i){return Se.sum(new Int32Array(i))}static increment(i,s){let a=0,l=s[0];for(let d=1;d<i.length;d++)s[d]>l&&(l=s[d],a=d);i[a]++}static decrement(i,s){let a=0,l=s[0];for(let d=1;d<i.length;d++)s[d]<l&&(l=s[d],a=d);i[a]--}static isFinderPattern(i){let s=i[0]+i[1],a=s+i[2]+i[3],l=s/a;if(l>=m.MIN_FINDER_PATTERN_RATIO&&l<=m.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let p of i)p>f&&(f=p),p<d&&(d=p);return f<10*d}return!1}}return m.MAX_AVG_VARIANCE=.2,m.MAX_INDIVIDUAL_VARIANCE=.45,m.MIN_FINDER_PATTERN_RATIO=9.5/12,m.MAX_FINDER_PATTERN_RATIO=12.5/14,m})();class vi{constructor(r,i){this.value=r,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof vi))return!1;let i=r;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ks{constructor(r,i,s,a,l){this.value=r,this.startEnd=i,this.value=r,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new K(s,l)),this.resultPoints.push(new K(a,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof Ks))return!1;let i=r;return this.value===i.value}hashCode(){return this.value}}class Mn{constructor(){}static getRSSvalue(r,i,s){let a=0;for(let p of r)a+=p;let l=0,d=0,f=r.length;for(let p=0;p<f-1;p++){let g;for(g=1,d|=1<<p;g<r[p];g++,d&=~(1<<p)){let C=Mn.combins(a-g-1,f-p-2);if(s&&d===0&&a-g-(f-p-1)>=f-p-1&&(C-=Mn.combins(a-g-(f-p),f-p-2)),f-p-1>1){let x=0;for(let v=a-g-(f-p-2);v>i;v--)x+=Mn.combins(a-g-v-1,f-p-3);C-=x*(f-1-p)}else a-g>i&&C--;l+=C}a-=g}return l}static combins(r,i){let s,a;r-i>i?(a=i,s=r-i):(a=r-i,s=i);let l=1,d=1;for(let f=r;f>s;f--)l*=f,d<=a&&(l/=d,d++);for(;d<=a;)l/=d,d++;return l}}class Qy{static buildBitArray(r){let i=r.length*2-1;r[r.length-1].getRightChar()==null&&(i-=1);let s=12*i,a=new ge(s),l=0,f=r[0].getRightChar().getValue();for(let p=11;p>=0;--p)(f&1<<p)!=0&&a.set(l),l++;for(let p=1;p<r.length;++p){let g=r[p],C=g.getLeftChar().getValue();for(let x=11;x>=0;--x)(C&1<<x)!=0&&a.set(l),l++;if(g.getRightChar()!=null){let x=g.getRightChar().getValue();for(let v=11;v>=0;--v)(x&1<<v)!=0&&a.set(l),l++}}return a}}class Hr{constructor(r,i){i?this.decodedInformation=null:(this.finished=r,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ul{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}let Cn=(()=>{class m extends Ul{constructor(i,s){super(i),this.value=s}getValue(){return this.value}isFNC1(){return this.value===m.FNC1}}return m.FNC1="$",m})();class zr extends Ul{constructor(r,i,s){super(r),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let Ii=(()=>{class m extends Ul{constructor(i,s,a){if(super(i),s<0||s>10||a<0||a>10)throw new H;this.firstDigit=s,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===m.FNC1}isSecondDigitFNC1(){return this.secondDigit===m.FNC1}isAnyFNC1(){return this.firstDigit===m.FNC1||this.secondDigit===m.FNC1}}return m.FNC1=10,m})();class X{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new F;let i=r.substring(0,2);for(let l of X.TWO_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===X.VARIABLE_LENGTH?X.processVariableAI(2,l[2],r):X.processFixedAI(2,l[1],r);if(r.length<3)throw new F;let s=r.substring(0,3);for(let l of X.THREE_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===X.VARIABLE_LENGTH?X.processVariableAI(3,l[2],r):X.processFixedAI(3,l[1],r);for(let l of X.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===X.VARIABLE_LENGTH?X.processVariableAI(4,l[2],r):X.processFixedAI(4,l[1],r);if(r.length<4)throw new F;let a=r.substring(0,4);for(let l of X.FOUR_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===X.VARIABLE_LENGTH?X.processVariableAI(4,l[2],r):X.processFixedAI(4,l[1],r);throw new F}static processFixedAI(r,i,s){if(s.length<r)throw new F;let a=s.substring(0,r);if(s.length<r+i)throw new F;let l=s.substring(r,r+i),d=s.substring(r+i),f="("+a+")"+l,p=X.parseFieldsInGeneralPurpose(d);return p==null?f:f+p}static processVariableAI(r,i,s){let a=s.substring(0,r),l;s.length<r+i?l=s.length:l=r+i;let d=s.substring(r,l),f=s.substring(l),p="("+a+")"+d,g=X.parseFieldsInGeneralPurpose(f);return g==null?p:p+g}}X.VARIABLE_LENGTH=[],X.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",X.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",X.VARIABLE_LENGTH,20],["22",X.VARIABLE_LENGTH,29],["30",X.VARIABLE_LENGTH,8],["37",X.VARIABLE_LENGTH,8],["90",X.VARIABLE_LENGTH,30],["91",X.VARIABLE_LENGTH,30],["92",X.VARIABLE_LENGTH,30],["93",X.VARIABLE_LENGTH,30],["94",X.VARIABLE_LENGTH,30],["95",X.VARIABLE_LENGTH,30],["96",X.VARIABLE_LENGTH,30],["97",X.VARIABLE_LENGTH,3],["98",X.VARIABLE_LENGTH,30],["99",X.VARIABLE_LENGTH,30]],X.THREE_DIGIT_DATA_LENGTH=[["240",X.VARIABLE_LENGTH,30],["241",X.VARIABLE_LENGTH,30],["242",X.VARIABLE_LENGTH,6],["250",X.VARIABLE_LENGTH,30],["251",X.VARIABLE_LENGTH,30],["253",X.VARIABLE_LENGTH,17],["254",X.VARIABLE_LENGTH,20],["400",X.VARIABLE_LENGTH,30],["401",X.VARIABLE_LENGTH,30],["402",17],["403",X.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",X.VARIABLE_LENGTH,20],["421",X.VARIABLE_LENGTH,15],["422",3],["423",X.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],X.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",X.VARIABLE_LENGTH,15],["391",X.VARIABLE_LENGTH,18],["392",X.VARIABLE_LENGTH,15],["393",X.VARIABLE_LENGTH,18],["703",X.VARIABLE_LENGTH,30]],X.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",X.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",X.VARIABLE_LENGTH,20],["8003",X.VARIABLE_LENGTH,30],["8004",X.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",X.VARIABLE_LENGTH,30],["8008",X.VARIABLE_LENGTH,12],["8018",18],["8020",X.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",X.VARIABLE_LENGTH,70],["8200",X.VARIABLE_LENGTH,70]];class Di{constructor(r){this.buffer=new Be,this.information=r}decodeAllCodes(r,i){let s=i,a=null;do{let l=this.decodeGeneralPurposeField(s,a),d=X.parseFieldsInGeneralPurpose(l.getNewString());if(d!=null&&r.append(d),l.isRemaining()?a=""+l.getRemainingValue():a=null,s===l.getNewPosition())break;s=l.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let i=r;i<r+3;++i)if(this.information.get(i))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(r,4);return l===0?new Ii(this.information.getSize(),Ii.FNC1,Ii.FNC1):new Ii(this.information.getSize(),l-1,Ii.FNC1)}let i=this.extractNumericValueFromBitArray(r,7),s=(i-8)/11,a=(i-8)%11;return new Ii(r+7,s,a)}extractNumericValueFromBitArray(r,i){return Di.extractNumericValueFromBitArray(this.information,r,i)}static extractNumericValueFromBitArray(r,i,s){let a=0;for(let l=0;l<s;++l)r.get(i+l)&&(a|=1<<s-l-1);return a}decodeGeneralPurposeField(r,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(r);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new zr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new zr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,i;do{let s=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),r=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),r=i.isFinished()):(i=this.parseNumericBlock(),r=i.isFinished()),!(s!==this.current.getPosition())&&!r)break}while(!r);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let i;return r.isSecondDigitFNC1()?i=new zr(this.current.getPosition(),this.buffer.toString()):i=new zr(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new Hr(!0,i)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let i=new zr(this.current.getPosition(),this.buffer.toString());return new Hr(!0,i)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Hr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new zr(this.current.getPosition(),this.buffer.toString());return new Hr(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Hr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new zr(this.current.getPosition(),this.buffer.toString());return new Hr(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Hr(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,7);if(s>=64&&s<116)return!0;if(r+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(r,8);return a>=232&&a<253}decodeIsoIec646(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new Cn(r+5,Cn.FNC1);if(i>=5&&i<15)return new Cn(r+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(r,7);if(s>=64&&s<90)return new Cn(r+7,""+(s+1));if(s>=90&&s<116)return new Cn(r+7,""+(s+7));let a=this.extractNumericValueFromBitArray(r,8),l;switch(a){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new H}return new Cn(r+8,l)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,6);return s>=16&&s<63}decodeAlphanumeric(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new Cn(r+5,Cn.FNC1);if(i>=5&&i<15)return new Cn(r+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(r,6);if(s>=32&&s<58)return new Cn(r+6,""+(s+33));let a;switch(s){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new zn("Decoding invalid alphanumeric value: "+s)}return new Cn(r+6,a)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<5&&i+r<this.information.getSize();++i)if(i===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+i))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let i=r;i<r+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<4&&i+r<this.information.getSize();++i)if(this.information.get(r+i))return!1;return!0}}class Vl{constructor(r){this.information=r,this.generalDecoder=new Di(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let xn=(()=>{class m extends Vl{constructor(i){super(i)}encodeCompressedGtin(i,s){i.append("(01)");let a=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,s,a)}encodeCompressedGtinWithoutAI(i,s,a){for(let l=0;l<4;++l){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*l,10);d/100===0&&i.append("0"),d/10===0&&i.append("0"),i.append(d)}m.appendCheckDigit(i,a)}static appendCheckDigit(i,s){let a=0;for(let l=0;l<13;l++){let d=i.charAt(l+s).charCodeAt(0)-48;a+=(l&1)===0?3*d:d}a=10-a%10,a===10&&(a=0),i.append(a)}}return m.GTIN_SIZE=40,m})(),Ky=(()=>{class m extends xn{constructor(i){super(i)}parseInformation(){let i=new Be;i.append("(01)");let s=i.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(m.HEADER_SIZE,4);return i.append(a),this.encodeCompressedGtinWithoutAI(i,m.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(i,m.HEADER_SIZE+44)}}return m.HEADER_SIZE=4,m})(),Jy=(()=>{class m extends Vl{constructor(i){super(i)}parseInformation(){let i=new Be;return this.getGeneralDecoder().decodeAllCodes(i,m.HEADER_SIZE)}}return m.HEADER_SIZE=5,m})();class Js extends xn{constructor(r){super(r)}encodeCompressedWeight(r,i,s){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,s);this.addWeightCode(r,a);let l=this.checkWeight(a),d=1e5;for(let f=0;f<5;++f)l/d===0&&r.append("0"),d/=10;r.append(l)}}let qh=(()=>{class m extends Js{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=m.HEADER_SIZE+Js.GTIN_SIZE+m.WEIGHT_SIZE)throw new F;let i=new Be;return this.encodeCompressedGtin(i,m.HEADER_SIZE),this.encodeCompressedWeight(i,m.HEADER_SIZE+Js.GTIN_SIZE,m.WEIGHT_SIZE),i.toString()}}return m.HEADER_SIZE=5,m.WEIGHT_SIZE=15,m})();class eE extends qh{constructor(r){super(r)}addWeightCode(r,i){r.append("(3103)")}checkWeight(r){return r}}class tE extends qh{constructor(r){super(r)}addWeightCode(r,i){i<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}let nE=(()=>{class m extends xn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<m.HEADER_SIZE+xn.GTIN_SIZE)throw new F;let i=new Be;this.encodeCompressedGtin(i,m.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(m.HEADER_SIZE+xn.GTIN_SIZE,m.LAST_DIGIT_SIZE);i.append("(392"),i.append(s),i.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(m.HEADER_SIZE+xn.GTIN_SIZE+m.LAST_DIGIT_SIZE,null);return i.append(a.getNewString()),i.toString()}}return m.HEADER_SIZE=8,m.LAST_DIGIT_SIZE=2,m})(),rE=(()=>{class m extends xn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<m.HEADER_SIZE+xn.GTIN_SIZE)throw new F;let i=new Be;this.encodeCompressedGtin(i,m.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(m.HEADER_SIZE+xn.GTIN_SIZE,m.LAST_DIGIT_SIZE);i.append("(393"),i.append(s),i.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(m.HEADER_SIZE+xn.GTIN_SIZE+m.LAST_DIGIT_SIZE,m.FIRST_THREE_DIGITS_SIZE);a/100==0&&i.append("0"),a/10==0&&i.append("0"),i.append(a);let l=this.getGeneralDecoder().decodeGeneralPurposeField(m.HEADER_SIZE+xn.GTIN_SIZE+m.LAST_DIGIT_SIZE+m.FIRST_THREE_DIGITS_SIZE,null);return i.append(l.getNewString()),i.toString()}}return m.HEADER_SIZE=8,m.LAST_DIGIT_SIZE=2,m.FIRST_THREE_DIGITS_SIZE=10,m})(),fr=(()=>{class m extends Js{constructor(i,s,a){super(i),this.dateCode=a,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=m.HEADER_SIZE+m.GTIN_SIZE+m.WEIGHT_SIZE+m.DATE_SIZE)throw new F;let i=new Be;return this.encodeCompressedGtin(i,m.HEADER_SIZE),this.encodeCompressedWeight(i,m.HEADER_SIZE+m.GTIN_SIZE,m.WEIGHT_SIZE),this.encodeCompressedDate(i,m.HEADER_SIZE+m.GTIN_SIZE+m.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,s){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(s,m.DATE_SIZE);if(a==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let l=a%32;a/=32;let d=a%12+1;a/=12;let f=a;f/10==0&&i.append("0"),i.append(f),d/10==0&&i.append("0"),i.append(d),l/10==0&&i.append("0"),i.append(l)}addWeightCode(i,s){i.append("("),i.append(this.firstAIdigits),i.append(s/1e5),i.append(")")}checkWeight(i){return i%1e5}}return m.HEADER_SIZE=8,m.WEIGHT_SIZE=20,m.DATE_SIZE=16,m})();function Xh(m){try{if(m.get(1))return new Ky(m);if(!m.get(2))return new Jy(m);switch(Di.extractNumericValueFromBitArray(m,1,4)){case 4:return new eE(m);case 5:return new tE(m)}switch(Di.extractNumericValueFromBitArray(m,1,5)){case 12:return new nE(m);case 13:return new rE(m)}switch(Di.extractNumericValueFromBitArray(m,1,7)){case 56:return new fr(m,"310","11");case 57:return new fr(m,"320","11");case 58:return new fr(m,"310","13");case 59:return new fr(m,"320","13");case 60:return new fr(m,"310","15");case 61:return new fr(m,"320","15");case 62:return new fr(m,"310","17");case 63:return new fr(m,"320","17")}}catch(r){throw console.log(r),new zn("unknown decoder: "+m)}}class hr{constructor(r,i,s,a){this.leftchar=r,this.rightchar=i,this.finderpattern=s,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,i){return r instanceof hr?hr.equalsOrNull(r.leftchar,i.leftchar)&&hr.equalsOrNull(r.rightchar,i.rightchar)&&hr.equalsOrNull(r.finderpattern,i.finderpattern):!1}static equalsOrNull(r,i){return r===null?i===null:hr.equals(r,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Hl{constructor(r,i,s){this.pairs=r,this.rowNumber=i,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,i){return r instanceof Hl?this.checkEqualitity(r,i)&&r.wasReversed===i.wasReversed:!1}checkEqualitity(r,i){if(!r||!i)return;let s;return r.forEach((a,l)=>{i.forEach(d=>{a.getLeftChar().getValue()===d.getLeftChar().getValue()&&a.getRightChar().getValue()===d.getRightChar().getValue()&&a.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(s=!0)})}),s}}class k extends Vr{constructor(r){super(...arguments),this.pairs=new Array(k.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,i,s){this.pairs.length=0,this.startFromEven=!1;try{return k.constructResult(this.decodeRow2pairs(r,i))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,k.constructResult(this.decodeRow2pairs(r,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,i){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,r))}catch(l){if(l instanceof F){if(!this.pairs.length)throw new F;s=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new F}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return r&&(this.rows=this.rows.reverse()),i}checkRows(r,i){for(let s=i;s<this.rows.length;s++){let a=this.rows[s];this.pairs.length=0;for(let d of r)this.pairs.push(d.getPairs());if(this.pairs.push(a.getPairs()),!k.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(r);l.push(a);try{return this.checkRows(l,s+1)}catch(d){this.verbose&&console.log(d)}}throw new F}static isValidSequence(r){for(let i of k.FINDER_PATTERN_SEQUENCES){if(r.length>i.length)continue;let s=!0;for(let a=0;a<r.length;a++)if(r[a].getFinderPattern().getValue()!=i[a]){s=!1;break}if(s)return!0}return!1}storeRow(r,i){let s=0,a=!1,l=!1;for(;s<this.rows.length;){let d=this.rows[s];if(d.getRowNumber()>r){l=d.isEquivalent(this.pairs);break}a=d.isEquivalent(this.pairs),s++}l||a||k.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Hl(this.pairs,r,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,i){for(let s of i)if(s.getPairs().length!==r.length){for(let a of s.getPairs())for(let l of r)if(hr.equals(a,l))break}}static isPartialRow(r,i){for(let s of i){let a=!0;for(let l of r){let d=!1;for(let f of s.getPairs())if(l.equals(f)){d=!0;break}if(!d){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(r){let i=Qy.buildBitArray(r),a=Xh(i).parseInformation(),l=r[0].getFinderPattern().getResultPoints(),d=r[r.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],d[0],d[1]];return new bt(a,null,null,f,re.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),i=r.getLeftChar(),s=r.getRightChar();if(s==null)return!1;let a=s.getChecksumPortion(),l=2;for(let f=1;f<this.pairs.size();++f){let p=this.pairs.get(f);a+=p.getLeftChar().getChecksumPortion(),l++;let g=p.getRightChar();g!=null&&(a+=g.getChecksumPortion(),l++)}return a%=211,211*(l-4)+a==i.getValue()}static getNextSecondBar(r,i){let s;return r.get(i)?(s=r.getNextUnset(i),s=r.getNextSet(s)):(s=r.getNextSet(i),s=r.getNextUnset(s)),s}retrieveNextPair(r,i,s){let a=i.length%2==0;this.startFromEven&&(a=!a);let l,d=!0,f=-1;do this.findNextPair(r,i,f),l=this.parseFoundFinderPattern(r,s,a),l==null?f=k.getNextSecondBar(r,this.startEnd[0]):d=!1;while(d);let p=this.decodeDataCharacter(r,l,a,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new F;let g;try{g=this.decodeDataCharacter(r,l,a,!1)}catch(C){g=null,this.verbose&&console.log(C)}return new hr(p,g,l,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,i,s){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=r.getSize(),d;s>=0?d=s:this.isEmptyPair(i)?d=0:d=i[i.length-1].getFinderPattern().getStartEnd()[1];let f=i.length%2!=0;this.startFromEven&&(f=!f);let p=!1;for(;d<l&&(p=!r.get(d),!!p);)d++;let g=0,C=d;for(let x=d;x<l;x++)if(r.get(x)!=p)a[g]++;else{if(g==3){if(f&&k.reverseCounters(a),k.isFinderPattern(a)){this.startEnd[0]=C,this.startEnd[1]=x;return}f&&k.reverseCounters(a),C+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,g--}else g++;a[g]=1,p=!p}throw new F}static reverseCounters(r){let i=r.length;for(let s=0;s<i/2;++s){let a=r[s];r[s]=r[i-s-1],r[i-s-1]=a}}parseFoundFinderPattern(r,i,s){let a,l,d;if(s){let g=this.startEnd[0]-1;for(;g>=0&&!r.get(g);)g--;g++,a=this.startEnd[0]-g,l=g,d=this.startEnd[1]}else l=this.startEnd[0],d=r.getNextUnset(this.startEnd[1]+1),a=d-this.startEnd[1];let f=this.getDecodeFinderCounters();_.arraycopy(f,0,f,1,f.length-1),f[0]=a;let p;try{p=this.parseFinderValue(f,k.FINDER_PATTERNS)}catch{return null}return new Ks(p,[l,d],l,d,i)}decodeDataCharacter(r,i,s,a){let l=this.getDataCharacterCounters();for(let Ve=0;Ve<l.length;Ve++)l[Ve]=0;if(a)k.recordPatternInReverse(r,i.getStartEnd()[0],l);else{k.recordPattern(r,i.getStartEnd()[1],l);for(let Ve=0,wt=l.length-1;Ve<wt;Ve++,wt--){let Kt=l[Ve];l[Ve]=l[wt],l[wt]=Kt}}let d=17,f=Se.sum(new Int32Array(l))/d,p=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(f-p)/p>.3)throw new F;let g=this.getOddCounts(),C=this.getEvenCounts(),x=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let Ve=0;Ve<l.length;Ve++){let wt=1*l[Ve]/f,Kt=wt+.5;if(Kt<1){if(wt<.3)throw new F;Kt=1}else if(Kt>8){if(wt>8.7)throw new F;Kt=8}let Si=Ve/2;(Ve&1)==0?(g[Si]=Kt,x[Si]=wt-Kt):(C[Si]=Kt,v[Si]=wt-Kt)}this.adjustOddEvenCounts(d);let A=4*i.getValue()+(s?0:2)+(a?0:1)-1,T=0,S=0;for(let Ve=g.length-1;Ve>=0;Ve--){if(k.isNotA1left(i,s,a)){let wt=k.WEIGHTS[A][2*Ve];S+=g[Ve]*wt}T+=g[Ve]}let M=0;for(let Ve=C.length-1;Ve>=0;Ve--)if(k.isNotA1left(i,s,a)){let wt=k.WEIGHTS[A][2*Ve+1];M+=C[Ve]*wt}let R=S+M;if((T&1)!=0||T>13||T<4)throw new F;let B=(13-T)/2,Y=k.SYMBOL_WIDEST[B],P=9-Y,we=Mn.getRSSvalue(g,Y,!0),de=Mn.getRSSvalue(C,P,!1),jt=k.EVEN_TOTAL_SUBSET[B],In=k.GSUM[B],Ut=we*jt+de+In;return new vi(Ut,R)}static isNotA1left(r,i,s){return!(r.getValue()==0&&i&&s)}adjustOddEvenCounts(r){let i=Se.sum(new Int32Array(this.getOddCounts())),s=Se.sum(new Int32Array(this.getEvenCounts())),a=!1,l=!1;i>13?l=!0:i<4&&(a=!0);let d=!1,f=!1;s>13?f=!0:s<4&&(d=!0);let p=i+s-r,g=(i&1)==1,C=(s&1)==0;if(p==1)if(g){if(C)throw new F;l=!0}else{if(!C)throw new F;f=!0}else if(p==-1)if(g){if(C)throw new F;a=!0}else{if(!C)throw new F;d=!0}else if(p==0){if(g){if(!C)throw new F;i<s?(a=!0,f=!0):(l=!0,d=!0)}else if(C)throw new F}else throw new F;if(a){if(l)throw new F;k.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&k.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(f)throw new F;k.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&k.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}k.SYMBOL_WIDEST=[7,5,4,3,1],k.EVEN_TOTAL_SUBSET=[4,20,52,104,204],k.GSUM=[0,348,1388,2948,3988],k.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],k.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],k.FINDER_PAT_A=0,k.FINDER_PAT_B=1,k.FINDER_PAT_C=2,k.FINDER_PAT_D=3,k.FINDER_PAT_E=4,k.FINDER_PAT_F=5,k.FINDER_PATTERN_SEQUENCES=[[k.FINDER_PAT_A,k.FINDER_PAT_A],[k.FINDER_PAT_A,k.FINDER_PAT_B,k.FINDER_PAT_B],[k.FINDER_PAT_A,k.FINDER_PAT_C,k.FINDER_PAT_B,k.FINDER_PAT_D],[k.FINDER_PAT_A,k.FINDER_PAT_E,k.FINDER_PAT_B,k.FINDER_PAT_D,k.FINDER_PAT_C],[k.FINDER_PAT_A,k.FINDER_PAT_E,k.FINDER_PAT_B,k.FINDER_PAT_D,k.FINDER_PAT_D,k.FINDER_PAT_F],[k.FINDER_PAT_A,k.FINDER_PAT_E,k.FINDER_PAT_B,k.FINDER_PAT_D,k.FINDER_PAT_E,k.FINDER_PAT_F,k.FINDER_PAT_F],[k.FINDER_PAT_A,k.FINDER_PAT_A,k.FINDER_PAT_B,k.FINDER_PAT_B,k.FINDER_PAT_C,k.FINDER_PAT_C,k.FINDER_PAT_D,k.FINDER_PAT_D],[k.FINDER_PAT_A,k.FINDER_PAT_A,k.FINDER_PAT_B,k.FINDER_PAT_B,k.FINDER_PAT_C,k.FINDER_PAT_C,k.FINDER_PAT_D,k.FINDER_PAT_E,k.FINDER_PAT_E],[k.FINDER_PAT_A,k.FINDER_PAT_A,k.FINDER_PAT_B,k.FINDER_PAT_B,k.FINDER_PAT_C,k.FINDER_PAT_C,k.FINDER_PAT_D,k.FINDER_PAT_E,k.FINDER_PAT_F,k.FINDER_PAT_F],[k.FINDER_PAT_A,k.FINDER_PAT_A,k.FINDER_PAT_B,k.FINDER_PAT_B,k.FINDER_PAT_C,k.FINDER_PAT_D,k.FINDER_PAT_D,k.FINDER_PAT_E,k.FINDER_PAT_E,k.FINDER_PAT_F,k.FINDER_PAT_F]],k.MAX_PAIRS=11;class iE extends vi{constructor(r,i,s){super(r,i),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Qe extends Vr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,i,s){let a=this.decodePair(i,!1,r,s);Qe.addOrTally(this.possibleLeftPairs,a),i.reverse();let l=this.decodePair(i,!0,r,s);Qe.addOrTally(this.possibleRightPairs,l),i.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&Qe.checkChecksum(d,f))return Qe.constructResult(d,f)}throw new F}static addOrTally(r,i){if(i==null)return;let s=!1;for(let a of r)if(a.getValue()===i.getValue()){a.incrementCount(),s=!0;break}s||r.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,i){let s=4537077*r.getValue()+i.getValue(),a=new String(s).toString(),l=new Be;for(let g=13-a.length;g>0;g--)l.append("0");l.append(a);let d=0;for(let g=0;g<13;g++){let C=l.charAt(g).charCodeAt(0)-48;d+=(g&1)===0?3*C:C}d=10-d%10,d===10&&(d=0),l.append(d.toString());let f=r.getFinderPattern().getResultPoints(),p=i.getFinderPattern().getResultPoints();return new bt(l.toString(),null,0,[f[0],f[1],p[0],p[1]],re.RSS_14,new Date().getTime())}static checkChecksum(r,i){let s=(r.getChecksumPortion()+16*i.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+i.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,s===a}decodePair(r,i,s,a){try{let l=this.findFinderPattern(r,i),d=this.parseFoundFinderPattern(r,s,i,l),f=a==null?null:a.get(Ee.NEED_RESULT_POINT_CALLBACK);if(f!=null){let C=(l[0]+l[1])/2;i&&(C=r.getSize()-1-C),f.foundPossibleResultPoint(new K(C,s))}let p=this.decodeDataCharacter(r,d,!0),g=this.decodeDataCharacter(r,d,!1);return new iE(1597*p.getValue()+g.getValue(),p.getChecksumPortion()+4*g.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(r,i,s){let a=this.getDataCharacterCounters();for(let M=0;M<a.length;M++)a[M]=0;if(s)Je.recordPatternInReverse(r,i.getStartEnd()[0],a);else{Je.recordPattern(r,i.getStartEnd()[1]+1,a);for(let M=0,R=a.length-1;M<R;M++,R--){let B=a[M];a[M]=a[R],a[R]=B}}let l=s?16:15,d=Se.sum(new Int32Array(a))/l,f=this.getOddCounts(),p=this.getEvenCounts(),g=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let M=0;M<a.length;M++){let R=a[M]/d,B=Math.floor(R+.5);B<1?B=1:B>8&&(B=8);let Y=Math.floor(M/2);(M&1)===0?(f[Y]=B,g[Y]=R-B):(p[Y]=B,C[Y]=R-B)}this.adjustOddEvenCounts(s,l);let x=0,v=0;for(let M=f.length-1;M>=0;M--)v*=9,v+=f[M],x+=f[M];let A=0,T=0;for(let M=p.length-1;M>=0;M--)A*=9,A+=p[M],T+=p[M];let S=v+3*A;if(s){if((x&1)!==0||x>12||x<4)throw new F;let M=(12-x)/2,R=Qe.OUTSIDE_ODD_WIDEST[M],B=9-R,Y=Mn.getRSSvalue(f,R,!1),P=Mn.getRSSvalue(p,B,!0),we=Qe.OUTSIDE_EVEN_TOTAL_SUBSET[M],de=Qe.OUTSIDE_GSUM[M];return new vi(Y*we+P+de,S)}else{if((T&1)!==0||T>10||T<4)throw new F;let M=(10-T)/2,R=Qe.INSIDE_ODD_WIDEST[M],B=9-R,Y=Mn.getRSSvalue(f,R,!0),P=Mn.getRSSvalue(p,B,!1),we=Qe.INSIDE_ODD_TOTAL_SUBSET[M],de=Qe.INSIDE_GSUM[M];return new vi(P*we+Y+de,S)}}findFinderPattern(r,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let a=r.getSize(),l=!1,d=0;for(;d<a&&(l=!r.get(d),i!==l);)d++;let f=0,p=d;for(let g=d;g<a;g++)if(r.get(g)!==l)s[f]++;else{if(f===3){if(Vr.isFinderPattern(s))return[p,g];p+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,f--}else f++;s[f]=1,l=!l}throw new F}parseFoundFinderPattern(r,i,s,a){let l=r.get(a[0]),d=a[0]-1;for(;d>=0&&l!==r.get(d);)d--;d++;let f=a[0]-d,p=this.getDecodeFinderCounters(),g=new Int32Array(p.length);_.arraycopy(p,0,g,1,p.length-1),g[0]=f;let C=this.parseFinderValue(g,Qe.FINDER_PATTERNS),x=d,v=a[1];return s&&(x=r.getSize()-1-x,v=r.getSize()-1-v),new Ks(C,[d,a[1]],x,v,i)}adjustOddEvenCounts(r,i){let s=Se.sum(new Int32Array(this.getOddCounts())),a=Se.sum(new Int32Array(this.getEvenCounts())),l=!1,d=!1,f=!1,p=!1;r?(s>12?d=!0:s<4&&(l=!0),a>12?p=!0:a<4&&(f=!0)):(s>11?d=!0:s<5&&(l=!0),a>10?p=!0:a<4&&(f=!0));let g=s+a-i,C=(s&1)===(r?1:0),x=(a&1)===1;if(g===1)if(C){if(x)throw new F;d=!0}else{if(!x)throw new F;p=!0}else if(g===-1)if(C){if(x)throw new F;l=!0}else{if(!x)throw new F;f=!0}else if(g===0){if(C){if(!x)throw new F;s<a?(l=!0,p=!0):(d=!0,f=!0)}else if(x)throw new F}else throw new F;if(l){if(d)throw new F;Vr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&Vr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(p)throw new F;Vr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&Vr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Qe.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Qe.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Qe.OUTSIDE_GSUM=[0,161,961,2015,2715],Qe.INSIDE_GSUM=[0,336,1036,1516],Qe.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Qe.INSIDE_ODD_WIDEST=[2,4,6,8],Qe.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ai extends Je{constructor(r,i){super(),this.readers=[],this.verbose=i===!0;let s=r?r.get(Ee.POSSIBLE_FORMATS):null,a=r&&r.get(Ee.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(re.EAN_13)||s.includes(re.UPC_A)||s.includes(re.EAN_8)||s.includes(re.UPC_E))&&this.readers.push(new jl(r)),s.includes(re.CODE_39)&&this.readers.push(new kl(a)),s.includes(re.CODE_128)&&this.readers.push(new $),s.includes(re.ITF)&&this.readers.push(new je),s.includes(re.RSS_14)&&this.readers.push(new Qe),s.includes(re.RSS_EXPANDED)&&this.readers.push(new k(this.verbose))):(this.readers.push(new jl(r)),this.readers.push(new kl),this.readers.push(new jl(r)),this.readers.push(new $),this.readers.push(new je),this.readers.push(new Qe),this.readers.push(new k(this.verbose)))}decodeRow(r,i,s){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,i,s)}catch{}throw new F}reset(){this.readers.forEach(r=>r.reset())}}class oE extends Ur{constructor(r=500,i){super(new Ai(i),r,i)}}class Fe{constructor(r,i,s){this.ecCodewords=r,this.ecBlocks=[i],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Oe{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ve{constructor(r,i,s,a,l,d){this.versionNumber=r,this.symbolSizeRows=i,this.symbolSizeColumns=s,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=l,this.ecBlocks=d;let f=0,p=d.getECCodewords(),g=d.getECBlocks();for(let C of g)f+=C.getCount()*(C.getDataCodewords()+p);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,i){if((r&1)!==0||(i&1)!==0)throw new H;for(let s of ve.VERSIONS)if(s.symbolSizeRows===r&&s.symbolSizeColumns===i)return s;throw new H}toString(){return""+this.versionNumber}static buildVersions(){return[new ve(1,10,10,8,8,new Fe(5,new Oe(1,3))),new ve(2,12,12,10,10,new Fe(7,new Oe(1,5))),new ve(3,14,14,12,12,new Fe(10,new Oe(1,8))),new ve(4,16,16,14,14,new Fe(12,new Oe(1,12))),new ve(5,18,18,16,16,new Fe(14,new Oe(1,18))),new ve(6,20,20,18,18,new Fe(18,new Oe(1,22))),new ve(7,22,22,20,20,new Fe(20,new Oe(1,30))),new ve(8,24,24,22,22,new Fe(24,new Oe(1,36))),new ve(9,26,26,24,24,new Fe(28,new Oe(1,44))),new ve(10,32,32,14,14,new Fe(36,new Oe(1,62))),new ve(11,36,36,16,16,new Fe(42,new Oe(1,86))),new ve(12,40,40,18,18,new Fe(48,new Oe(1,114))),new ve(13,44,44,20,20,new Fe(56,new Oe(1,144))),new ve(14,48,48,22,22,new Fe(68,new Oe(1,174))),new ve(15,52,52,24,24,new Fe(42,new Oe(2,102))),new ve(16,64,64,14,14,new Fe(56,new Oe(2,140))),new ve(17,72,72,16,16,new Fe(36,new Oe(4,92))),new ve(18,80,80,18,18,new Fe(48,new Oe(4,114))),new ve(19,88,88,20,20,new Fe(56,new Oe(4,144))),new ve(20,96,96,22,22,new Fe(68,new Oe(4,174))),new ve(21,104,104,24,24,new Fe(56,new Oe(6,136))),new ve(22,120,120,18,18,new Fe(68,new Oe(6,175))),new ve(23,132,132,20,20,new Fe(62,new Oe(8,163))),new ve(24,144,144,22,22,new Fe(62,new Oe(8,156),new Oe(2,155))),new ve(25,8,18,6,16,new Fe(7,new Oe(1,5))),new ve(26,8,32,6,14,new Fe(11,new Oe(1,10))),new ve(27,12,26,10,24,new Fe(14,new Oe(1,16))),new ve(28,12,36,10,16,new Fe(18,new Oe(1,22))),new ve(29,16,36,14,16,new Fe(24,new Oe(1,32))),new ve(30,16,48,14,22,new Fe(28,new Oe(1,49)))]}}ve.VERSIONS=ve.buildVersions();class zl{constructor(r){let i=r.getHeight();if(i<8||i>144||(i&1)!==0)throw new H;this.version=zl.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new ct(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){let i=r.getHeight(),s=r.getWidth();return ve.getVersionForDimensions(i,s)}readCodewords(){let r=new Int8Array(this.version.getTotalCodewords()),i=0,s=4,a=0,l=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth(),f=!1,p=!1,g=!1,C=!1;do if(s===l&&a===0&&!f)r[i++]=this.readCorner1(l,d)&255,s-=2,a+=2,f=!0;else if(s===l-2&&a===0&&(d&3)!==0&&!p)r[i++]=this.readCorner2(l,d)&255,s-=2,a+=2,p=!0;else if(s===l+4&&a===2&&(d&7)===0&&!g)r[i++]=this.readCorner3(l,d)&255,s-=2,a+=2,g=!0;else if(s===l-2&&a===0&&(d&7)===4&&!C)r[i++]=this.readCorner4(l,d)&255,s-=2,a+=2,C=!0;else{do s<l&&a>=0&&!this.readMappingMatrix.get(a,s)&&(r[i++]=this.readUtah(s,a,l,d)&255),s-=2,a+=2;while(s>=0&&a<d);s+=1,a+=3;do s>=0&&a<d&&!this.readMappingMatrix.get(a,s)&&(r[i++]=this.readUtah(s,a,l,d)&255),s+=2,a-=2;while(s<l&&a>=0);s+=3,a+=1}while(s<l||a<d);if(i!==this.version.getTotalCodewords())throw new H;return r}readModule(r,i,s,a){return r<0&&(r+=s,i+=4-(s+4&7)),i<0&&(i+=a,r+=4-(a+4&7)),this.readMappingMatrix.set(i,r),this.mappingBitMatrix.get(i,r)}readUtah(r,i,s,a){let l=0;return this.readModule(r-2,i-2,s,a)&&(l|=1),l<<=1,this.readModule(r-2,i-1,s,a)&&(l|=1),l<<=1,this.readModule(r-1,i-2,s,a)&&(l|=1),l<<=1,this.readModule(r-1,i-1,s,a)&&(l|=1),l<<=1,this.readModule(r-1,i,s,a)&&(l|=1),l<<=1,this.readModule(r,i-2,s,a)&&(l|=1),l<<=1,this.readModule(r,i-1,s,a)&&(l|=1),l<<=1,this.readModule(r,i,s,a)&&(l|=1),l}readCorner1(r,i){let s=0;return this.readModule(r-1,0,r,i)&&(s|=1),s<<=1,this.readModule(r-1,1,r,i)&&(s|=1),s<<=1,this.readModule(r-1,2,r,i)&&(s|=1),s<<=1,this.readModule(0,i-2,r,i)&&(s|=1),s<<=1,this.readModule(0,i-1,r,i)&&(s|=1),s<<=1,this.readModule(1,i-1,r,i)&&(s|=1),s<<=1,this.readModule(2,i-1,r,i)&&(s|=1),s<<=1,this.readModule(3,i-1,r,i)&&(s|=1),s}readCorner2(r,i){let s=0;return this.readModule(r-3,0,r,i)&&(s|=1),s<<=1,this.readModule(r-2,0,r,i)&&(s|=1),s<<=1,this.readModule(r-1,0,r,i)&&(s|=1),s<<=1,this.readModule(0,i-4,r,i)&&(s|=1),s<<=1,this.readModule(0,i-3,r,i)&&(s|=1),s<<=1,this.readModule(0,i-2,r,i)&&(s|=1),s<<=1,this.readModule(0,i-1,r,i)&&(s|=1),s<<=1,this.readModule(1,i-1,r,i)&&(s|=1),s}readCorner3(r,i){let s=0;return this.readModule(r-1,0,r,i)&&(s|=1),s<<=1,this.readModule(r-1,i-1,r,i)&&(s|=1),s<<=1,this.readModule(0,i-3,r,i)&&(s|=1),s<<=1,this.readModule(0,i-2,r,i)&&(s|=1),s<<=1,this.readModule(0,i-1,r,i)&&(s|=1),s<<=1,this.readModule(1,i-3,r,i)&&(s|=1),s<<=1,this.readModule(1,i-2,r,i)&&(s|=1),s<<=1,this.readModule(1,i-1,r,i)&&(s|=1),s}readCorner4(r,i){let s=0;return this.readModule(r-3,0,r,i)&&(s|=1),s<<=1,this.readModule(r-2,0,r,i)&&(s|=1),s<<=1,this.readModule(r-1,0,r,i)&&(s|=1),s<<=1,this.readModule(0,i-2,r,i)&&(s|=1),s<<=1,this.readModule(0,i-1,r,i)&&(s|=1),s<<=1,this.readModule(1,i-1,r,i)&&(s|=1),s<<=1,this.readModule(2,i-1,r,i)&&(s|=1),s<<=1,this.readModule(3,i-1,r,i)&&(s|=1),s}extractDataRegion(r){let i=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(r.getHeight()!==i)throw new E("Dimension of bitMatrix must match the version size");let a=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),d=i/a|0,f=s/l|0,p=d*a,g=f*l,C=new ct(g,p);for(let x=0;x<d;++x){let v=x*a;for(let A=0;A<f;++A){let T=A*l;for(let S=0;S<a;++S){let M=x*(a+2)+1+S,R=v+S;for(let B=0;B<l;++B){let Y=A*(l+2)+1+B;if(r.get(Y,M)){let P=T+B;C.set(P,R)}}}}}return C}}class Gl{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i){let s=i.getECBlocks(),a=0,l=s.getECBlocks();for(let S of l)a+=S.getCount();let d=new Array(a),f=0;for(let S of l)for(let M=0;M<S.getCount();M++){let R=S.getDataCodewords(),B=s.getECCodewords()+R;d[f++]=new Gl(R,new Uint8Array(B))}let g=d[0].codewords.length-s.getECCodewords(),C=g-1,x=0;for(let S=0;S<C;S++)for(let M=0;M<f;M++)d[M].codewords[S]=r[x++];let v=i.getVersionNumber()===24,A=v?8:f;for(let S=0;S<A;S++)d[S].codewords[g-1]=r[x++];let T=d[0].codewords.length;for(let S=g;S<T;S++)for(let M=0;M<f;M++){let R=v?(M+8)%f:M,B=v&&R>7?S-1:S;d[R].codewords[B]=r[x++]}if(x!==r.length)throw new E;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Wl{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new E(""+r);let i=0,s=this.bitOffset,a=this.byteOffset,l=this.bytes;if(s>0){let d=8-s,f=r<d?r:d,p=d-f,g=255>>8-f<<p;i=(l[a]&g)>>p,r-=f,s+=f,s===8&&(s=0,a++)}if(r>0){for(;r>=8;)i=i<<8|l[a]&255,a++,r-=8;if(r>0){let d=8-r,f=255>>d<<d;i=i<<r|(l[a]&f)>>d,s+=r}}return this.bitOffset=s,this.byteOffset=a,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var dt=function(m){return m[m.PAD_ENCODE=0]="PAD_ENCODE",m[m.ASCII_ENCODE=1]="ASCII_ENCODE",m[m.C40_ENCODE=2]="C40_ENCODE",m[m.TEXT_ENCODE=3]="TEXT_ENCODE",m[m.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",m[m.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",m[m.BASE256_ENCODE=6]="BASE256_ENCODE",m}(dt||{});class pr{static decode(r){let i=new Wl(r),s=new Be,a=new Be,l=new Array,d=dt.ASCII_ENCODE;do if(d===dt.ASCII_ENCODE)d=this.decodeAsciiSegment(i,s,a);else{switch(d){case dt.C40_ENCODE:this.decodeC40Segment(i,s);break;case dt.TEXT_ENCODE:this.decodeTextSegment(i,s);break;case dt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,s);break;case dt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,s);break;case dt.BASE256_ENCODE:this.decodeBase256Segment(i,s,l);break;default:throw new H}d=dt.ASCII_ENCODE}while(d!==dt.PAD_ENCODE&&i.available()>0);return a.length()>0&&s.append(a.toString()),new xo(r,s.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(r,i,s){let a=!1;do{let l=r.readBits(8);if(l===0)throw new H;if(l<=128)return a&&(l+=128),i.append(String.fromCharCode(l-1)),dt.ASCII_ENCODE;if(l===129)return dt.PAD_ENCODE;if(l<=229){let d=l-130;d<10&&i.append("0"),i.append(""+d)}else switch(l){case 230:return dt.C40_ENCODE;case 231:return dt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:a=!0;break;case 236:i.append("[)>05"),s.insert(0,"");break;case 237:i.append("[)>06"),s.insert(0,"");break;case 238:return dt.ANSIX12_ENCODE;case 239:return dt.TEXT_ENCODE;case 240:return dt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||r.available()!==0)throw new H;break}}while(r.available()>0);return dt.ASCII_ENCODE}static decodeC40Segment(r,i){let s=!1,a=[],l=0;do{if(r.available()===8)return;let d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),a);for(let f=0;f<3;f++){let p=a[f];switch(l){case 0:if(p<3)l=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){let g=this.C40_BASIC_SET_CHARS[p];s?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):i.append(g)}else throw new H;break;case 1:s?(i.append(String.fromCharCode(p+128)),s=!1):i.append(String.fromCharCode(p)),l=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){let g=this.C40_SHIFT2_SET_CHARS[p];s?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):i.append(g)}else switch(p){case 27:i.append("");break;case 30:s=!0;break;default:throw new H}l=0;break;case 3:s?(i.append(String.fromCharCode(p+224)),s=!1):i.append(String.fromCharCode(p+96)),l=0;break;default:throw new H}}}while(r.available()>0)}static decodeTextSegment(r,i){let s=!1,a=[],l=0;do{if(r.available()===8)return;let d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),a);for(let f=0;f<3;f++){let p=a[f];switch(l){case 0:if(p<3)l=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){let g=this.TEXT_BASIC_SET_CHARS[p];s?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):i.append(g)}else throw new H;break;case 1:s?(i.append(String.fromCharCode(p+128)),s=!1):i.append(String.fromCharCode(p)),l=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){let g=this.TEXT_SHIFT2_SET_CHARS[p];s?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):i.append(g)}else switch(p){case 27:i.append("");break;case 30:s=!0;break;default:throw new H}l=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){let g=this.TEXT_SHIFT3_SET_CHARS[p];s?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),s=!1):i.append(g),l=0}else throw new H;break;default:throw new H}}}while(r.available()>0)}static decodeAnsiX12Segment(r,i){let s=[];do{if(r.available()===8)return;let a=r.readBits(8);if(a===254)return;this.parseTwoBytes(a,r.readBits(8),s);for(let l=0;l<3;l++){let d=s[l];switch(d){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(d<14)i.append(String.fromCharCode(d+44));else if(d<40)i.append(String.fromCharCode(d+51));else throw new H;break}}}while(r.available()>0)}static parseTwoBytes(r,i,s){let a=(r<<8)+i-1,l=Math.floor(a/1600);s[0]=l,a-=l*1600,l=Math.floor(a/40),s[1]=l,s[2]=a-l*40}static decodeEdifactSegment(r,i){do{if(r.available()<=16)return;for(let s=0;s<4;s++){let a=r.readBits(6);if(a===31){let l=8-r.getBitOffset();l!==8&&r.readBits(l);return}(a&32)===0&&(a|=64),i.append(String.fromCharCode(a))}}while(r.available()>0)}static decodeBase256Segment(r,i,s){let a=1+r.getByteOffset(),l=this.unrandomize255State(r.readBits(8),a++),d;if(l===0?d=r.available()/8|0:l<250?d=l:d=250*(l-249)+this.unrandomize255State(r.readBits(8),a++),d<0)throw new H;let f=new Uint8Array(d);for(let p=0;p<d;p++){if(r.available()<8)throw new H;f[p]=this.unrandomize255State(r.readBits(8),a++)}s.push(f);try{i.append(Ft.decode(f,ce.ISO88591))}catch(p){throw new zn("Platform does not support required encoding: "+p.message)}}static unrandomize255State(r,i){let s=149*i%255+1,a=r-s;return a>=0?a:a+256}}pr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],pr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],pr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],pr.TEXT_SHIFT2_SET_CHARS=pr.C40_SHIFT2_SET_CHARS,pr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~","\x7F"];class sE{constructor(){this.rsDecoder=new Do(Ne.DATA_MATRIX_FIELD_256)}decode(r){let i=new zl(r),s=i.getVersion(),a=i.readCodewords(),l=Gl.getDataBlocks(a,s),d=0;for(let g of l)d+=g.getNumDataCodewords();let f=new Uint8Array(d),p=l.length;for(let g=0;g<p;g++){let C=l[g],x=C.getCodewords(),v=C.getNumDataCodewords();this.correctErrors(x,v);for(let A=0;A<v;A++)f[A*p+g]=x[A]}return pr.decode(f)}correctErrors(r,i){let s=new Int32Array(r);try{this.rsDecoder.decode(s,r.length-i)}catch{throw new b}for(let a=0;a<i;a++)r[a]=s[a]}}class Ke{constructor(r){this.image=r,this.rectangleDetector=new Xs(this.image)}detect(){let r=this.rectangleDetector.detect(),i=this.detectSolid1(r);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new F;i=this.shiftToModuleCenter(i);let s=i[0],a=i[1],l=i[2],d=i[3],f=this.transitionsBetween(s,d)+1,p=this.transitionsBetween(l,d)+1;(f&1)===1&&(f+=1),(p&1)===1&&(p+=1),4*f<7*p&&4*p<7*f&&(f=p=Math.max(f,p));let g=Ke.sampleGrid(this.image,s,a,l,d,f,p);return new qs(g,[s,a,l,d])}static shiftPoint(r,i,s){let a=(i.getX()-r.getX())/(s+1),l=(i.getY()-r.getY())/(s+1);return new K(r.getX()+a,r.getY()+l)}static moveAway(r,i,s){let a=r.getX(),l=r.getY();return a<i?a-=1:a+=1,l<s?l-=1:l+=1,new K(a,l)}detectSolid1(r){let i=r[0],s=r[1],a=r[3],l=r[2],d=this.transitionsBetween(i,s),f=this.transitionsBetween(s,a),p=this.transitionsBetween(a,l),g=this.transitionsBetween(l,i),C=d,x=[l,i,s,a];return C>f&&(C=f,x[0]=i,x[1]=s,x[2]=a,x[3]=l),C>p&&(C=p,x[0]=s,x[1]=a,x[2]=l,x[3]=i),C>g&&(x[0]=a,x[1]=l,x[2]=i,x[3]=s),x}detectSolid2(r){let i=r[0],s=r[1],a=r[2],l=r[3],d=this.transitionsBetween(i,l),f=Ke.shiftPoint(s,a,(d+1)*4),p=Ke.shiftPoint(a,s,(d+1)*4),g=this.transitionsBetween(f,i),C=this.transitionsBetween(p,l);return g<C?(r[0]=i,r[1]=s,r[2]=a,r[3]=l):(r[0]=s,r[1]=a,r[2]=l,r[3]=i),r}correctTopRight(r){let i=r[0],s=r[1],a=r[2],l=r[3],d=this.transitionsBetween(i,l),f=this.transitionsBetween(s,l),p=Ke.shiftPoint(i,s,(f+1)*4),g=Ke.shiftPoint(a,s,(d+1)*4);d=this.transitionsBetween(p,l),f=this.transitionsBetween(g,l);let C=new K(l.getX()+(a.getX()-s.getX())/(d+1),l.getY()+(a.getY()-s.getY())/(d+1)),x=new K(l.getX()+(i.getX()-s.getX())/(f+1),l.getY()+(i.getY()-s.getY())/(f+1));if(!this.isValid(C))return this.isValid(x)?x:null;if(!this.isValid(x))return C;let v=this.transitionsBetween(p,C)+this.transitionsBetween(g,C),A=this.transitionsBetween(p,x)+this.transitionsBetween(g,x);return v>A?C:x}shiftToModuleCenter(r){let i=r[0],s=r[1],a=r[2],l=r[3],d=this.transitionsBetween(i,l)+1,f=this.transitionsBetween(a,l)+1,p=Ke.shiftPoint(i,s,f*4),g=Ke.shiftPoint(a,s,d*4);d=this.transitionsBetween(p,l)+1,f=this.transitionsBetween(g,l)+1,(d&1)===1&&(d+=1),(f&1)===1&&(f+=1);let C=(i.getX()+s.getX()+a.getX()+l.getX())/4,x=(i.getY()+s.getY()+a.getY()+l.getY())/4;i=Ke.moveAway(i,C,x),s=Ke.moveAway(s,C,x),a=Ke.moveAway(a,C,x),l=Ke.moveAway(l,C,x);let v,A;return p=Ke.shiftPoint(i,s,f*4),p=Ke.shiftPoint(p,l,d*4),v=Ke.shiftPoint(s,i,f*4),v=Ke.shiftPoint(v,a,d*4),g=Ke.shiftPoint(a,l,f*4),g=Ke.shiftPoint(g,s,d*4),A=Ke.shiftPoint(l,a,f*4),A=Ke.shiftPoint(A,i,d*4),[p,v,g,A]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,i,s,a,l,d,f){return dr.getInstance().sampleGrid(r,d,f,.5,.5,d-.5,.5,d-.5,f-.5,.5,f-.5,i.getX(),i.getY(),l.getX(),l.getY(),a.getX(),a.getY(),s.getX(),s.getY())}transitionsBetween(r,i){let s=Math.trunc(r.getX()),a=Math.trunc(r.getY()),l=Math.trunc(i.getX()),d=Math.trunc(i.getY()),f=Math.abs(d-a)>Math.abs(l-s);if(f){let S=s;s=a,a=S,S=l,l=d,d=S}let p=Math.abs(l-s),g=Math.abs(d-a),C=-p/2,x=a<d?1:-1,v=s<l?1:-1,A=0,T=this.image.get(f?a:s,f?s:a);for(let S=s,M=a;S!==l;S+=v){let R=this.image.get(f?M:S,f?S:M);if(R!==T&&(A++,T=R),C+=g,C>0){if(M===d)break;M+=x,C-=p}}return A}}let ea=(()=>{class m{constructor(){this.decoder=new sE}decode(i,s=null){let a,l;if(s!=null&&s.has(Ee.PURE_BARCODE)){let C=m.extractPureBits(i.getBlackMatrix());a=this.decoder.decode(C),l=m.NO_POINTS}else{let C=new Ke(i.getBlackMatrix()).detect();a=this.decoder.decode(C.getBits()),l=C.getPoints()}let d=a.getRawBytes(),f=new bt(a.getText(),d,8*d.length,l,re.DATA_MATRIX,_.currentTimeMillis()),p=a.getByteSegments();p!=null&&f.putMetadata(ut.BYTE_SEGMENTS,p);let g=a.getECLevel();return g!=null&&f.putMetadata(ut.ERROR_CORRECTION_LEVEL,g),f}reset(){}static extractPureBits(i){let s=i.getTopLeftOnBit(),a=i.getBottomRightOnBit();if(s==null||a==null)throw new F;let l=this.moduleSize(s,i),d=s[1],f=a[1],p=s[0],C=(a[0]-p+1)/l,x=(f-d+1)/l;if(C<=0||x<=0)throw new F;let v=l/2;d+=v,p+=v;let A=new ct(C,x);for(let T=0;T<x;T++){let S=d+T*l;for(let M=0;M<C;M++)i.get(p+M*l,S)&&A.set(M,T)}return A}static moduleSize(i,s){let a=s.getWidth(),l=i[0],d=i[1];for(;l<a&&s.get(l,d);)l++;if(l===a)throw new F;let f=l-i[0];if(f===0)throw new F;return f}}return m.NO_POINTS=[],m})();class aE extends Ur{constructor(r=500){super(new ea,r)}}var To=function(m){return m[m.L=0]="L",m[m.M=1]="M",m[m.Q=2]="Q",m[m.H=3]="H",m}(To||{});class ze{constructor(r,i,s){this.value=r,this.stringValue=i,this.bits=s,ze.FOR_BITS.set(s,this),ze.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return ze.L;case"M":return ze.M;case"Q":return ze.Q;case"H":return ze.H;default:throw new w(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof ze))return!1;let i=r;return this.value===i.value}static forBits(r){if(r<0||r>=ze.FOR_BITS.size)throw new E;return ze.FOR_BITS.get(r)}}ze.FOR_BITS=new Map,ze.FOR_VALUE=new Map,ze.L=new ze(To.L,"L",1),ze.M=new ze(To.M,"M",0),ze.Q=new ze(To.Q,"Q",3),ze.H=new ze(To.H,"H",2);class At{constructor(r){this.errorCorrectionLevel=ze.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,i){return V.bitCount(r^i)}static decodeFormatInformation(r,i){let s=At.doDecodeFormatInformation(r,i);return s!==null?s:At.doDecodeFormatInformation(r^At.FORMAT_INFO_MASK_QR,i^At.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,i){let s=Number.MAX_SAFE_INTEGER,a=0;for(let l of At.FORMAT_INFO_DECODE_LOOKUP){let d=l[0];if(d===r||d===i)return new At(l[1]);let f=At.numBitsDiffering(r,d);f<s&&(a=l[1],s=f),r!==i&&(f=At.numBitsDiffering(i,d),f<s&&(a=l[1],s=f))}return s<=3?new At(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof At))return!1;let i=r;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}At.FORMAT_INFO_MASK_QR=21522,At.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class N{constructor(r,...i){this.ecCodewordsPerBlock=r,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0,i=this.ecBlocks;for(let s of i)r+=s.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ee{constructor(r,i,...s){this.versionNumber=r,this.alignmentPatternCenters=i,this.ecBlocks=s;let a=0,l=s[0].getECCodewordsPerBlock(),d=s[0].getECBlocks();for(let f of d)a+=f.getCount()*(f.getDataCodewords()+l);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new H;try{return this.getVersionForNumber((r-17)/4)}catch{throw new H}}static getVersionForNumber(r){if(r<1||r>40)throw new E;return ee.VERSIONS[r-1]}static decodeVersionInformation(r){let i=Number.MAX_SAFE_INTEGER,s=0;for(let a=0;a<ee.VERSION_DECODE_INFO.length;a++){let l=ee.VERSION_DECODE_INFO[a];if(l===r)return ee.getVersionForNumber(a+7);let d=At.numBitsDiffering(r,l);d<i&&(s=a+7,i=d)}return i<=3?ee.getVersionForNumber(s):null}buildFunctionPattern(){let r=this.getDimensionForVersion(),i=new ct(r);i.setRegion(0,0,9,9),i.setRegion(r-8,0,8,9),i.setRegion(0,r-8,9,8);let s=this.alignmentPatternCenters.length;for(let a=0;a<s;a++){let l=this.alignmentPatternCenters[a]-2;for(let d=0;d<s;d++)a===0&&(d===0||d===s-1)||a===s-1&&d===0||i.setRegion(this.alignmentPatternCenters[d]-2,l,5,5)}return i.setRegion(6,9,1,r-17),i.setRegion(9,6,r-17,1),this.versionNumber>6&&(i.setRegion(r-11,0,3,6),i.setRegion(0,r-11,6,3)),i}toString(){return""+this.versionNumber}}ee.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ee.VERSIONS=[new ee(1,new Int32Array(0),new N(7,new D(1,19)),new N(10,new D(1,16)),new N(13,new D(1,13)),new N(17,new D(1,9))),new ee(2,Int32Array.from([6,18]),new N(10,new D(1,34)),new N(16,new D(1,28)),new N(22,new D(1,22)),new N(28,new D(1,16))),new ee(3,Int32Array.from([6,22]),new N(15,new D(1,55)),new N(26,new D(1,44)),new N(18,new D(2,17)),new N(22,new D(2,13))),new ee(4,Int32Array.from([6,26]),new N(20,new D(1,80)),new N(18,new D(2,32)),new N(26,new D(2,24)),new N(16,new D(4,9))),new ee(5,Int32Array.from([6,30]),new N(26,new D(1,108)),new N(24,new D(2,43)),new N(18,new D(2,15),new D(2,16)),new N(22,new D(2,11),new D(2,12))),new ee(6,Int32Array.from([6,34]),new N(18,new D(2,68)),new N(16,new D(4,27)),new N(24,new D(4,19)),new N(28,new D(4,15))),new ee(7,Int32Array.from([6,22,38]),new N(20,new D(2,78)),new N(18,new D(4,31)),new N(18,new D(2,14),new D(4,15)),new N(26,new D(4,13),new D(1,14))),new ee(8,Int32Array.from([6,24,42]),new N(24,new D(2,97)),new N(22,new D(2,38),new D(2,39)),new N(22,new D(4,18),new D(2,19)),new N(26,new D(4,14),new D(2,15))),new ee(9,Int32Array.from([6,26,46]),new N(30,new D(2,116)),new N(22,new D(3,36),new D(2,37)),new N(20,new D(4,16),new D(4,17)),new N(24,new D(4,12),new D(4,13))),new ee(10,Int32Array.from([6,28,50]),new N(18,new D(2,68),new D(2,69)),new N(26,new D(4,43),new D(1,44)),new N(24,new D(6,19),new D(2,20)),new N(28,new D(6,15),new D(2,16))),new ee(11,Int32Array.from([6,30,54]),new N(20,new D(4,81)),new N(30,new D(1,50),new D(4,51)),new N(28,new D(4,22),new D(4,23)),new N(24,new D(3,12),new D(8,13))),new ee(12,Int32Array.from([6,32,58]),new N(24,new D(2,92),new D(2,93)),new N(22,new D(6,36),new D(2,37)),new N(26,new D(4,20),new D(6,21)),new N(28,new D(7,14),new D(4,15))),new ee(13,Int32Array.from([6,34,62]),new N(26,new D(4,107)),new N(22,new D(8,37),new D(1,38)),new N(24,new D(8,20),new D(4,21)),new N(22,new D(12,11),new D(4,12))),new ee(14,Int32Array.from([6,26,46,66]),new N(30,new D(3,115),new D(1,116)),new N(24,new D(4,40),new D(5,41)),new N(20,new D(11,16),new D(5,17)),new N(24,new D(11,12),new D(5,13))),new ee(15,Int32Array.from([6,26,48,70]),new N(22,new D(5,87),new D(1,88)),new N(24,new D(5,41),new D(5,42)),new N(30,new D(5,24),new D(7,25)),new N(24,new D(11,12),new D(7,13))),new ee(16,Int32Array.from([6,26,50,74]),new N(24,new D(5,98),new D(1,99)),new N(28,new D(7,45),new D(3,46)),new N(24,new D(15,19),new D(2,20)),new N(30,new D(3,15),new D(13,16))),new ee(17,Int32Array.from([6,30,54,78]),new N(28,new D(1,107),new D(5,108)),new N(28,new D(10,46),new D(1,47)),new N(28,new D(1,22),new D(15,23)),new N(28,new D(2,14),new D(17,15))),new ee(18,Int32Array.from([6,30,56,82]),new N(30,new D(5,120),new D(1,121)),new N(26,new D(9,43),new D(4,44)),new N(28,new D(17,22),new D(1,23)),new N(28,new D(2,14),new D(19,15))),new ee(19,Int32Array.from([6,30,58,86]),new N(28,new D(3,113),new D(4,114)),new N(26,new D(3,44),new D(11,45)),new N(26,new D(17,21),new D(4,22)),new N(26,new D(9,13),new D(16,14))),new ee(20,Int32Array.from([6,34,62,90]),new N(28,new D(3,107),new D(5,108)),new N(26,new D(3,41),new D(13,42)),new N(30,new D(15,24),new D(5,25)),new N(28,new D(15,15),new D(10,16))),new ee(21,Int32Array.from([6,28,50,72,94]),new N(28,new D(4,116),new D(4,117)),new N(26,new D(17,42)),new N(28,new D(17,22),new D(6,23)),new N(30,new D(19,16),new D(6,17))),new ee(22,Int32Array.from([6,26,50,74,98]),new N(28,new D(2,111),new D(7,112)),new N(28,new D(17,46)),new N(30,new D(7,24),new D(16,25)),new N(24,new D(34,13))),new ee(23,Int32Array.from([6,30,54,78,102]),new N(30,new D(4,121),new D(5,122)),new N(28,new D(4,47),new D(14,48)),new N(30,new D(11,24),new D(14,25)),new N(30,new D(16,15),new D(14,16))),new ee(24,Int32Array.from([6,28,54,80,106]),new N(30,new D(6,117),new D(4,118)),new N(28,new D(6,45),new D(14,46)),new N(30,new D(11,24),new D(16,25)),new N(30,new D(30,16),new D(2,17))),new ee(25,Int32Array.from([6,32,58,84,110]),new N(26,new D(8,106),new D(4,107)),new N(28,new D(8,47),new D(13,48)),new N(30,new D(7,24),new D(22,25)),new N(30,new D(22,15),new D(13,16))),new ee(26,Int32Array.from([6,30,58,86,114]),new N(28,new D(10,114),new D(2,115)),new N(28,new D(19,46),new D(4,47)),new N(28,new D(28,22),new D(6,23)),new N(30,new D(33,16),new D(4,17))),new ee(27,Int32Array.from([6,34,62,90,118]),new N(30,new D(8,122),new D(4,123)),new N(28,new D(22,45),new D(3,46)),new N(30,new D(8,23),new D(26,24)),new N(30,new D(12,15),new D(28,16))),new ee(28,Int32Array.from([6,26,50,74,98,122]),new N(30,new D(3,117),new D(10,118)),new N(28,new D(3,45),new D(23,46)),new N(30,new D(4,24),new D(31,25)),new N(30,new D(11,15),new D(31,16))),new ee(29,Int32Array.from([6,30,54,78,102,126]),new N(30,new D(7,116),new D(7,117)),new N(28,new D(21,45),new D(7,46)),new N(30,new D(1,23),new D(37,24)),new N(30,new D(19,15),new D(26,16))),new ee(30,Int32Array.from([6,26,52,78,104,130]),new N(30,new D(5,115),new D(10,116)),new N(28,new D(19,47),new D(10,48)),new N(30,new D(15,24),new D(25,25)),new N(30,new D(23,15),new D(25,16))),new ee(31,Int32Array.from([6,30,56,82,108,134]),new N(30,new D(13,115),new D(3,116)),new N(28,new D(2,46),new D(29,47)),new N(30,new D(42,24),new D(1,25)),new N(30,new D(23,15),new D(28,16))),new ee(32,Int32Array.from([6,34,60,86,112,138]),new N(30,new D(17,115)),new N(28,new D(10,46),new D(23,47)),new N(30,new D(10,24),new D(35,25)),new N(30,new D(19,15),new D(35,16))),new ee(33,Int32Array.from([6,30,58,86,114,142]),new N(30,new D(17,115),new D(1,116)),new N(28,new D(14,46),new D(21,47)),new N(30,new D(29,24),new D(19,25)),new N(30,new D(11,15),new D(46,16))),new ee(34,Int32Array.from([6,34,62,90,118,146]),new N(30,new D(13,115),new D(6,116)),new N(28,new D(14,46),new D(23,47)),new N(30,new D(44,24),new D(7,25)),new N(30,new D(59,16),new D(1,17))),new ee(35,Int32Array.from([6,30,54,78,102,126,150]),new N(30,new D(12,121),new D(7,122)),new N(28,new D(12,47),new D(26,48)),new N(30,new D(39,24),new D(14,25)),new N(30,new D(22,15),new D(41,16))),new ee(36,Int32Array.from([6,24,50,76,102,128,154]),new N(30,new D(6,121),new D(14,122)),new N(28,new D(6,47),new D(34,48)),new N(30,new D(46,24),new D(10,25)),new N(30,new D(2,15),new D(64,16))),new ee(37,Int32Array.from([6,28,54,80,106,132,158]),new N(30,new D(17,122),new D(4,123)),new N(28,new D(29,46),new D(14,47)),new N(30,new D(49,24),new D(10,25)),new N(30,new D(24,15),new D(46,16))),new ee(38,Int32Array.from([6,32,58,84,110,136,162]),new N(30,new D(4,122),new D(18,123)),new N(28,new D(13,46),new D(32,47)),new N(30,new D(48,24),new D(14,25)),new N(30,new D(42,15),new D(32,16))),new ee(39,Int32Array.from([6,26,54,82,110,138,166]),new N(30,new D(20,117),new D(4,118)),new N(28,new D(40,47),new D(7,48)),new N(30,new D(43,24),new D(22,25)),new N(30,new D(10,15),new D(67,16))),new ee(40,Int32Array.from([6,30,58,86,114,142,170]),new N(30,new D(19,118),new D(6,119)),new N(28,new D(18,47),new D(31,48)),new N(30,new D(34,24),new D(34,25)),new N(30,new D(20,15),new D(61,16)))];var mt=function(m){return m[m.DATA_MASK_000=0]="DATA_MASK_000",m[m.DATA_MASK_001=1]="DATA_MASK_001",m[m.DATA_MASK_010=2]="DATA_MASK_010",m[m.DATA_MASK_011=3]="DATA_MASK_011",m[m.DATA_MASK_100=4]="DATA_MASK_100",m[m.DATA_MASK_101=5]="DATA_MASK_101",m[m.DATA_MASK_110=6]="DATA_MASK_110",m[m.DATA_MASK_111=7]="DATA_MASK_111",m}(mt||{});class cn{constructor(r,i){this.value=r,this.isMasked=i}unmaskBitMatrix(r,i){for(let s=0;s<i;s++)for(let a=0;a<i;a++)this.isMasked(s,a)&&r.flip(a,s)}}cn.values=new Map([[mt.DATA_MASK_000,new cn(mt.DATA_MASK_000,(m,r)=>(m+r&1)===0)],[mt.DATA_MASK_001,new cn(mt.DATA_MASK_001,(m,r)=>(m&1)===0)],[mt.DATA_MASK_010,new cn(mt.DATA_MASK_010,(m,r)=>r%3===0)],[mt.DATA_MASK_011,new cn(mt.DATA_MASK_011,(m,r)=>(m+r)%3===0)],[mt.DATA_MASK_100,new cn(mt.DATA_MASK_100,(m,r)=>(Math.floor(m/2)+Math.floor(r/3)&1)===0)],[mt.DATA_MASK_101,new cn(mt.DATA_MASK_101,(m,r)=>m*r%6===0)],[mt.DATA_MASK_110,new cn(mt.DATA_MASK_110,(m,r)=>m*r%6<3)],[mt.DATA_MASK_111,new cn(mt.DATA_MASK_111,(m,r)=>(m+r+m*r%3&1)===0)]]);class cE{constructor(r){let i=r.getHeight();if(i<21||(i&3)!==1)throw new H;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let l=0;l<6;l++)r=this.copyBit(l,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let l=5;l>=0;l--)r=this.copyBit(8,l,r);let i=this.bitMatrix.getHeight(),s=0,a=i-7;for(let l=i-1;l>=a;l--)s=this.copyBit(8,l,s);for(let l=i-8;l<i;l++)s=this.copyBit(l,8,s);if(this.parsedFormatInfo=At.decodeFormatInformation(r,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new H}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;let r=this.bitMatrix.getHeight(),i=Math.floor((r-17)/4);if(i<=6)return ee.getVersionForNumber(i);let s=0,a=r-11;for(let d=5;d>=0;d--)for(let f=r-9;f>=a;f--)s=this.copyBit(f,d,s);let l=ee.decodeVersionInformation(s);if(l!==null&&l.getDimensionForVersion()===r)return this.parsedVersion=l,l;s=0;for(let d=5;d>=0;d--)for(let f=r-9;f>=a;f--)s=this.copyBit(d,f,s);if(l=ee.decodeVersionInformation(s),l!==null&&l.getDimensionForVersion()===r)return this.parsedVersion=l,l;throw new H}copyBit(r,i,s){return(this.isMirror?this.bitMatrix.get(i,r):this.bitMatrix.get(r,i))?s<<1|1:s<<1}readCodewords(){let r=this.readFormatInformation(),i=this.readVersion(),s=cn.values.get(r.getDataMask()),a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a);let l=i.buildFunctionPattern(),d=!0,f=new Uint8Array(i.getTotalCodewords()),p=0,g=0,C=0;for(let x=a-1;x>0;x-=2){x===6&&x--;for(let v=0;v<a;v++){let A=d?a-1-v:v;for(let T=0;T<2;T++)l.get(x-T,A)||(C++,g<<=1,this.bitMatrix.get(x-T,A)&&(g|=1),C===8&&(f[p++]=g,C=0,g=0))}d=!d}if(p!==i.getTotalCodewords())throw new H;return f}remask(){if(this.parsedFormatInfo===null)return;let r=cn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){let r=this.bitMatrix;for(let i=0,s=r.getWidth();i<s;i++)for(let a=i+1,l=r.getHeight();a<l;a++)r.get(i,a)!==r.get(a,i)&&(r.flip(a,i),r.flip(i,a))}}class $l{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i,s){if(r.length!==i.getTotalCodewords())throw new E;let a=i.getECBlocksForLevel(s),l=0,d=a.getECBlocks();for(let T of d)l+=T.getCount();let f=new Array(l),p=0;for(let T of d)for(let S=0;S<T.getCount();S++){let M=T.getDataCodewords(),R=a.getECCodewordsPerBlock()+M;f[p++]=new $l(M,new Uint8Array(R))}let g=f[0].codewords.length,C=f.length-1;for(;C>=0&&f[C].codewords.length!==g;)C--;C++;let x=g-a.getECCodewordsPerBlock(),v=0;for(let T=0;T<x;T++)for(let S=0;S<p;S++)f[S].codewords[T]=r[v++];for(let T=C;T<p;T++)f[T].codewords[x]=r[v++];let A=f[0].codewords.length;for(let T=x;T<A;T++)for(let S=0;S<p;S++){let M=S<C?T:T+1;f[S].codewords[M]=r[v++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var vn=function(m){return m[m.TERMINATOR=0]="TERMINATOR",m[m.NUMERIC=1]="NUMERIC",m[m.ALPHANUMERIC=2]="ALPHANUMERIC",m[m.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",m[m.BYTE=4]="BYTE",m[m.ECI=5]="ECI",m[m.KANJI=6]="KANJI",m[m.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",m[m.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",m[m.HANZI=9]="HANZI",m}(vn||{});class ne{constructor(r,i,s,a){this.value=r,this.stringValue=i,this.characterCountBitsForVersions=s,this.bits=a,ne.FOR_BITS.set(a,this),ne.FOR_VALUE.set(r,this)}static forBits(r){let i=ne.FOR_BITS.get(r);if(i===void 0)throw new E;return i}getCharacterCountBits(r){let i=r.getVersionNumber(),s;return i<=9?s=0:i<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof ne))return!1;let i=r;return this.value===i.value}toString(){return this.stringValue}}ne.FOR_BITS=new Map,ne.FOR_VALUE=new Map,ne.TERMINATOR=new ne(vn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ne.NUMERIC=new ne(vn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ne.ALPHANUMERIC=new ne(vn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ne.STRUCTURED_APPEND=new ne(vn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ne.BYTE=new ne(vn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ne.ECI=new ne(vn.ECI,"ECI",Int32Array.from([0,0,0]),7),ne.KANJI=new ne(vn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ne.FNC1_FIRST_POSITION=new ne(vn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ne.FNC1_SECOND_POSITION=new ne(vn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ne.HANZI=new ne(vn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let Zh=(()=>{class m{static decode(i,s,a,l){let d=new Wl(i),f=new Be,p=new Array,g=-1,C=-1;try{let x=null,v=!1,A;do{if(d.available()<4)A=ne.TERMINATOR;else{let T=d.readBits(4);A=ne.forBits(T)}switch(A){case ne.TERMINATOR:break;case ne.FNC1_FIRST_POSITION:case ne.FNC1_SECOND_POSITION:v=!0;break;case ne.STRUCTURED_APPEND:if(d.available()<16)throw new H;g=d.readBits(8),C=d.readBits(8);break;case ne.ECI:let T=m.parseECIValue(d);if(x=z.getCharacterSetECIByValue(T),x===null)throw new H;break;case ne.HANZI:let S=d.readBits(4),M=d.readBits(A.getCharacterCountBits(s));S===m.GB2312_SUBSET&&m.decodeHanziSegment(d,f,M);break;default:let R=d.readBits(A.getCharacterCountBits(s));switch(A){case ne.NUMERIC:m.decodeNumericSegment(d,f,R);break;case ne.ALPHANUMERIC:m.decodeAlphanumericSegment(d,f,R,v);break;case ne.BYTE:m.decodeByteSegment(d,f,R,x,p,l);break;case ne.KANJI:m.decodeKanjiSegment(d,f,R);break;default:throw new H}break}}while(A!==ne.TERMINATOR)}catch{throw new H}return new xo(i,f.toString(),p.length===0?null:p,a===null?null:a.toString(),g,C)}static decodeHanziSegment(i,s,a){if(a*13>i.available())throw new H;let l=new Uint8Array(2*a),d=0;for(;a>0;){let f=i.readBits(13),p=f/96<<8&4294967295|f%96;p<959?p+=41377:p+=42657,l[d]=p>>8&255,l[d+1]=p&255,d+=2,a--}try{s.append(Ft.decode(l,ce.GB2312))}catch(f){throw new H(f)}}static decodeKanjiSegment(i,s,a){if(a*13>i.available())throw new H;let l=new Uint8Array(2*a),d=0;for(;a>0;){let f=i.readBits(13),p=f/192<<8&4294967295|f%192;p<7936?p+=33088:p+=49472,l[d]=p>>8,l[d+1]=p,d+=2,a--}try{s.append(Ft.decode(l,ce.SHIFT_JIS))}catch(f){throw new H(f)}}static decodeByteSegment(i,s,a,l,d,f){if(8*a>i.available())throw new H;let p=new Uint8Array(a);for(let C=0;C<a;C++)p[C]=i.readBits(8);let g;l===null?g=ce.guessEncoding(p,f):g=l.getName();try{s.append(Ft.decode(p,g))}catch(C){throw new H(C)}d.push(p)}static toAlphaNumericChar(i){if(i>=m.ALPHANUMERIC_CHARS.length)throw new H;return m.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,s,a,l){let d=s.length();for(;a>1;){if(i.available()<11)throw new H;let f=i.readBits(11);s.append(m.toAlphaNumericChar(Math.floor(f/45))),s.append(m.toAlphaNumericChar(f%45)),a-=2}if(a===1){if(i.available()<6)throw new H;s.append(m.toAlphaNumericChar(i.readBits(6)))}if(l)for(let f=d;f<s.length();f++)s.charAt(f)==="%"&&(f<s.length()-1&&s.charAt(f+1)==="%"?s.deleteCharAt(f+1):s.setCharAt(f,""))}static decodeNumericSegment(i,s,a){for(;a>=3;){if(i.available()<10)throw new H;let l=i.readBits(10);if(l>=1e3)throw new H;s.append(m.toAlphaNumericChar(Math.floor(l/100))),s.append(m.toAlphaNumericChar(Math.floor(l/10)%10)),s.append(m.toAlphaNumericChar(l%10)),a-=3}if(a===2){if(i.available()<7)throw new H;let l=i.readBits(7);if(l>=100)throw new H;s.append(m.toAlphaNumericChar(Math.floor(l/10))),s.append(m.toAlphaNumericChar(l%10))}else if(a===1){if(i.available()<4)throw new H;let l=i.readBits(4);if(l>=10)throw new H;s.append(m.toAlphaNumericChar(l))}}static parseECIValue(i){let s=i.readBits(8);if((s&128)===0)return s&127;if((s&192)===128){let a=i.readBits(8);return(s&63)<<8&4294967295|a}if((s&224)===192){let a=i.readBits(16);return(s&31)<<16&4294967295|a}throw new H}}return m.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",m.GB2312_SUBSET=1,m})();class Qh{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;let i=r[0];r[0]=r[2],r[2]=i}}class lE{constructor(){this.rsDecoder=new Do(Ne.QR_CODE_FIELD_256)}decodeBooleanArray(r,i){return this.decodeBitMatrix(ct.parseFromBooleanArray(r),i)}decodeBitMatrix(r,i){let s=new cE(r),a=null;try{return this.decodeBitMatrixParser(s,i)}catch(l){a=l}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();let l=this.decodeBitMatrixParser(s,i);return l.setOther(new Qh(!0)),l}catch(l){throw a!==null?a:l}}decodeBitMatrixParser(r,i){let s=r.readVersion(),a=r.readFormatInformation().getErrorCorrectionLevel(),l=r.readCodewords(),d=$l.getDataBlocks(l,s,a),f=0;for(let C of d)f+=C.getNumDataCodewords();let p=new Uint8Array(f),g=0;for(let C of d){let x=C.getCodewords(),v=C.getNumDataCodewords();this.correctErrors(x,v);for(let A=0;A<v;A++)p[g++]=x[A]}return Zh.decode(p,s,a,i)}correctErrors(r,i){let s=new Int32Array(r);try{this.rsDecoder.decode(s,r.length-i)}catch{throw new b}for(let a=0;a<i;a++)r[a]=s[a]}}class Yl extends K{constructor(r,i,s){super(r,i),this.estimatedModuleSize=s}aboutEquals(r,i,s){if(Math.abs(i-this.getY())<=r&&Math.abs(s-this.getX())<=r){let a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(r,i,s){let a=(this.getX()+i)/2,l=(this.getY()+r)/2,d=(this.estimatedModuleSize+s)/2;return new Yl(a,l,d)}}class ta{constructor(r,i,s,a,l,d,f){this.image=r,this.startX=i,this.startY=s,this.width=a,this.height=l,this.moduleSize=d,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){let r=this.startX,i=this.height,s=this.width,a=r+s,l=this.startY+i/2,d=new Int32Array(3),f=this.image;for(let p=0;p<i;p++){let g=l+((p&1)===0?Math.floor((p+1)/2):-Math.floor((p+1)/2));d[0]=0,d[1]=0,d[2]=0;let C=r;for(;C<a&&!f.get(C,g);)C++;let x=0;for(;C<a;){if(f.get(C,g))if(x===1)d[1]++;else if(x===2){if(this.foundPatternCross(d)){let v=this.handlePossibleCenter(d,g,C);if(v!==null)return v}d[0]=d[2],d[1]=1,d[2]=0,x=1}else d[++x]++;else x===1&&x++,d[x]++;C++}if(this.foundPatternCross(d)){let v=this.handlePossibleCenter(d,g,a);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new F}static centerFromEnd(r,i){return i-r[2]-r[1]/2}foundPatternCross(r){let i=this.moduleSize,s=i/2;for(let a=0;a<3;a++)if(Math.abs(i-r[a])>=s)return!1;return!0}crossCheckVertical(r,i,s,a){let l=this.image,d=l.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let p=r;for(;p>=0&&l.get(i,p)&&f[1]<=s;)f[1]++,p--;if(p<0||f[1]>s)return NaN;for(;p>=0&&!l.get(i,p)&&f[0]<=s;)f[0]++,p--;if(f[0]>s)return NaN;for(p=r+1;p<d&&l.get(i,p)&&f[1]<=s;)f[1]++,p++;if(p===d||f[1]>s)return NaN;for(;p<d&&!l.get(i,p)&&f[2]<=s;)f[2]++,p++;if(f[2]>s)return NaN;let g=f[0]+f[1]+f[2];return 5*Math.abs(g-a)>=2*a?NaN:this.foundPatternCross(f)?ta.centerFromEnd(f,p):NaN}handlePossibleCenter(r,i,s){let a=r[0]+r[1]+r[2],l=ta.centerFromEnd(r,s),d=this.crossCheckVertical(i,l,2*r[1],a);if(!isNaN(d)){let f=(r[0]+r[1]+r[2])/3;for(let g of this.possibleCenters)if(g.aboutEquals(f,d,l))return g.combineEstimate(d,l,f);let p=new Yl(l,d,f);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class ql extends K{constructor(r,i,s,a){super(r,i),this.estimatedModuleSize=s,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,i,s){if(Math.abs(i-this.getY())<=r&&Math.abs(s-this.getX())<=r){let a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(r,i,s){let a=this.count+1,l=(this.count*this.getX()+i)/a,d=(this.count*this.getY()+r)/a,f=(this.count*this.estimatedModuleSize+s)/a;return new ql(l,d,f,a)}}class uE{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let dE=(()=>{class m{constructor(i,s){this.image=i,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){let s=i!=null&&i.get(Ee.TRY_HARDER)!==void 0,a=i!=null&&i.get(Ee.PURE_BARCODE)!==void 0,l=this.image,d=l.getHeight(),f=l.getWidth(),p=Math.floor(3*d/(4*m.MAX_MODULES));(p<m.MIN_SKIP||s)&&(p=m.MIN_SKIP);let g=!1,C=new Int32Array(5);for(let v=p-1;v<d&&!g;v+=p){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let A=0;for(let T=0;T<f;T++)if(l.get(T,v))(A&1)===1&&A++,C[A]++;else if((A&1)===0)if(A===4)if(m.foundPatternCross(C)){if(this.handlePossibleCenter(C,v,T,a)===!0)if(p=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{let M=this.findRowSkip();M>C[2]&&(v+=M-C[2]-p,T=f-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,A=3;continue}A=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,A=3;else C[++A]++;else C[A]++;m.foundPatternCross(C)&&this.handlePossibleCenter(C,v,f,a)===!0&&(p=C[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}let x=this.selectBestPatterns();return K.orderBestPatterns(x),new uE(x)}static centerFromEnd(i,s){return s-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let s=0;for(let d=0;d<5;d++){let f=i[d];if(f===0)return!1;s+=f}if(s<7)return!1;let a=s/7,l=a/2;return Math.abs(a-i[0])<l&&Math.abs(a-i[1])<l&&Math.abs(3*a-i[2])<3*l&&Math.abs(a-i[3])<l&&Math.abs(a-i[4])<l}getCrossCheckStateCount(){let i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,s,a,l){let d=this.getCrossCheckStateCount(),f=0,p=this.image;for(;i>=f&&s>=f&&p.get(s-f,i-f);)d[2]++,f++;if(i<f||s<f)return!1;for(;i>=f&&s>=f&&!p.get(s-f,i-f)&&d[1]<=a;)d[1]++,f++;if(i<f||s<f||d[1]>a)return!1;for(;i>=f&&s>=f&&p.get(s-f,i-f)&&d[0]<=a;)d[0]++,f++;if(d[0]>a)return!1;let g=p.getHeight(),C=p.getWidth();for(f=1;i+f<g&&s+f<C&&p.get(s+f,i+f);)d[2]++,f++;if(i+f>=g||s+f>=C)return!1;for(;i+f<g&&s+f<C&&!p.get(s+f,i+f)&&d[3]<a;)d[3]++,f++;if(i+f>=g||s+f>=C||d[3]>=a)return!1;for(;i+f<g&&s+f<C&&p.get(s+f,i+f)&&d[4]<a;)d[4]++,f++;if(d[4]>=a)return!1;let x=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(x-l)<2*l&&m.foundPatternCross(d)}crossCheckVertical(i,s,a,l){let d=this.image,f=d.getHeight(),p=this.getCrossCheckStateCount(),g=i;for(;g>=0&&d.get(s,g);)p[2]++,g--;if(g<0)return NaN;for(;g>=0&&!d.get(s,g)&&p[1]<=a;)p[1]++,g--;if(g<0||p[1]>a)return NaN;for(;g>=0&&d.get(s,g)&&p[0]<=a;)p[0]++,g--;if(p[0]>a)return NaN;for(g=i+1;g<f&&d.get(s,g);)p[2]++,g++;if(g===f)return NaN;for(;g<f&&!d.get(s,g)&&p[3]<a;)p[3]++,g++;if(g===f||p[3]>=a)return NaN;for(;g<f&&d.get(s,g)&&p[4]<a;)p[4]++,g++;if(p[4]>=a)return NaN;let C=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(C-l)>=2*l?NaN:m.foundPatternCross(p)?m.centerFromEnd(p,g):NaN}crossCheckHorizontal(i,s,a,l){let d=this.image,f=d.getWidth(),p=this.getCrossCheckStateCount(),g=i;for(;g>=0&&d.get(g,s);)p[2]++,g--;if(g<0)return NaN;for(;g>=0&&!d.get(g,s)&&p[1]<=a;)p[1]++,g--;if(g<0||p[1]>a)return NaN;for(;g>=0&&d.get(g,s)&&p[0]<=a;)p[0]++,g--;if(p[0]>a)return NaN;for(g=i+1;g<f&&d.get(g,s);)p[2]++,g++;if(g===f)return NaN;for(;g<f&&!d.get(g,s)&&p[3]<a;)p[3]++,g++;if(g===f||p[3]>=a)return NaN;for(;g<f&&d.get(g,s)&&p[4]<a;)p[4]++,g++;if(p[4]>=a)return NaN;let C=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(C-l)>=l?NaN:m.foundPatternCross(p)?m.centerFromEnd(p,g):NaN}handlePossibleCenter(i,s,a,l){let d=i[0]+i[1]+i[2]+i[3]+i[4],f=m.centerFromEnd(i,a),p=this.crossCheckVertical(s,Math.floor(f),i[2],d);if(!isNaN(p)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(p),i[2],d),!isNaN(f)&&(!l||this.crossCheckDiagonal(Math.floor(p),Math.floor(f),i[2],d)))){let g=d/7,C=!1,x=this.possibleCenters;for(let v=0,A=x.length;v<A;v++){let T=x[v];if(T.aboutEquals(g,p,f)){x[v]=T.combineEstimate(p,f,g),C=!0;break}}if(!C){let v=new ql(f,p,g);x.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(let a of this.possibleCenters)if(a.getCount()>=m.CENTER_QUORUM)if(s==null)s=a;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-a.getX())-Math.abs(s.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,s=0,a=this.possibleCenters.length;for(let f of this.possibleCenters)f.getCount()>=m.CENTER_QUORUM&&(i++,s+=f.getEstimatedModuleSize());if(i<3)return!1;let l=s/a,d=0;for(let f of this.possibleCenters)d+=Math.abs(f.getEstimatedModuleSize()-l);return d<=.05*s}selectBestPatterns(){let i=this.possibleCenters.length;if(i<3)throw new F;let s=this.possibleCenters,a;if(i>3){let l=0,d=0;for(let g of this.possibleCenters){let C=g.getEstimatedModuleSize();l+=C,d+=C*C}a=l/i;let f=Math.sqrt(d/i-a*a);s.sort((g,C)=>{let x=Math.abs(C.getEstimatedModuleSize()-a),v=Math.abs(g.getEstimatedModuleSize()-a);return x<v?-1:x>v?1:0});let p=Math.max(.2*a,f);for(let g=0;g<s.length&&s.length>3;g++){let C=s[g];Math.abs(C.getEstimatedModuleSize()-a)>p&&(s.splice(g,1),g--)}}if(s.length>3){let l=0;for(let d of s)l+=d.getEstimatedModuleSize();a=l/s.length,s.sort((d,f)=>{if(f.getCount()===d.getCount()){let p=Math.abs(f.getEstimatedModuleSize()-a),g=Math.abs(d.getEstimatedModuleSize()-a);return p<g?1:p>g?-1:0}else return f.getCount()-d.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}return m.CENTER_QUORUM=2,m.MIN_SKIP=3,m.MAX_MODULES=57,m})();class bo{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(Ee.NEED_RESULT_POINT_CALLBACK);let s=new dE(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(s)}processFinderPatternInfo(r){let i=r.getTopLeft(),s=r.getTopRight(),a=r.getBottomLeft(),l=this.calculateModuleSize(i,s,a);if(l<1)throw new F("No pattern found in proccess finder.");let d=bo.computeDimension(i,s,a,l),f=ee.getProvisionalVersionForDimension(d),p=f.getDimensionForVersion()-7,g=null;if(f.getAlignmentPatternCenters().length>0){let A=s.getX()-i.getX()+a.getX(),T=s.getY()-i.getY()+a.getY(),S=1-3/p,M=Math.floor(i.getX()+S*(A-i.getX())),R=Math.floor(i.getY()+S*(T-i.getY()));for(let B=4;B<=16;B<<=1)try{g=this.findAlignmentInRegion(l,M,R,B);break}catch(Y){if(!(Y instanceof F))throw Y}}let C=bo.createTransform(i,s,a,g,d),x=bo.sampleGrid(this.image,C,d),v;return g===null?v=[a,i,s]:v=[a,i,s,g],new qs(x,v)}static createTransform(r,i,s,a,l){let d=l-3.5,f,p,g,C;return a!==null?(f=a.getX(),p=a.getY(),g=d-3,C=g):(f=i.getX()-r.getX()+s.getX(),p=i.getY()-r.getY()+s.getY(),g=d,C=d),En.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,g,C,3.5,d,r.getX(),r.getY(),i.getX(),i.getY(),f,p,s.getX(),s.getY())}static sampleGrid(r,i,s){return dr.getInstance().sampleGridWithTransform(r,s,s,i)}static computeDimension(r,i,s,a){let l=Se.round(K.distance(r,i)/a),d=Se.round(K.distance(r,s)/a),f=Math.floor((l+d)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new F("Dimensions could be not found.")}return f}calculateModuleSize(r,i,s){return(this.calculateModuleSizeOneWay(r,i)+this.calculateModuleSizeOneWay(r,s))/2}calculateModuleSizeOneWay(r,i){let s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(i.getX()),Math.floor(i.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(s)?a/7:isNaN(a)?s/7:(s+a)/14}sizeOfBlackWhiteBlackRunBothWays(r,i,s,a){let l=this.sizeOfBlackWhiteBlackRun(r,i,s,a),d=1,f=r-(s-r);f<0?(d=r/(r-f),f=0):f>=this.image.getWidth()&&(d=(this.image.getWidth()-1-r)/(f-r),f=this.image.getWidth()-1);let p=Math.floor(i-(a-i)*d);return d=1,p<0?(d=i/(i-p),p=0):p>=this.image.getHeight()&&(d=(this.image.getHeight()-1-i)/(p-i),p=this.image.getHeight()-1),f=Math.floor(r+(f-r)*d),l+=this.sizeOfBlackWhiteBlackRun(r,i,f,p),l-1}sizeOfBlackWhiteBlackRun(r,i,s,a){let l=Math.abs(a-i)>Math.abs(s-r);if(l){let A=r;r=i,i=A,A=s,s=a,a=A}let d=Math.abs(s-r),f=Math.abs(a-i),p=-d/2,g=r<s?1:-1,C=i<a?1:-1,x=0,v=s+g;for(let A=r,T=i;A!==v;A+=g){let S=l?T:A,M=l?A:T;if(x===1===this.image.get(S,M)){if(x===2)return Se.distance(A,T,r,i);x++}if(p+=f,p>0){if(T===a)break;T+=C,p-=d}}return x===2?Se.distance(s+g,a,r,i):NaN}findAlignmentInRegion(r,i,s,a){let l=Math.floor(a*r),d=Math.max(0,i-l),f=Math.min(this.image.getWidth()-1,i+l);if(f-d<r*3)throw new F("Alignment top exceeds estimated module size.");let p=Math.max(0,s-l),g=Math.min(this.image.getHeight()-1,s+l);if(g-p<r*3)throw new F("Alignment bottom exceeds estimated module size.");return new ta(this.image,d,p,f-d,g-p,r,this.resultPointCallback).find()}}class gr{constructor(){this.decoder=new lE}getDecoder(){return this.decoder}decode(r,i){let s,a;if(i!=null&&i.get(Ee.PURE_BARCODE)!==void 0){let p=gr.extractPureBits(r.getBlackMatrix());s=this.decoder.decodeBitMatrix(p,i),a=gr.NO_POINTS}else{let p=new bo(r.getBlackMatrix()).detect(i);s=this.decoder.decodeBitMatrix(p.getBits(),i),a=p.getPoints()}s.getOther()instanceof Qh&&s.getOther().applyMirroredCorrection(a);let l=new bt(s.getText(),s.getRawBytes(),void 0,a,re.QR_CODE,void 0),d=s.getByteSegments();d!==null&&l.putMetadata(ut.BYTE_SEGMENTS,d);let f=s.getECLevel();return f!==null&&l.putMetadata(ut.ERROR_CORRECTION_LEVEL,f),s.hasStructuredAppend()&&(l.putMetadata(ut.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),l.putMetadata(ut.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),l}reset(){}static extractPureBits(r){let i=r.getTopLeftOnBit(),s=r.getBottomRightOnBit();if(i===null||s===null)throw new F;let a=this.moduleSize(i,r),l=i[1],d=s[1],f=i[0],p=s[0];if(f>=p||l>=d)throw new F;if(d-l!==p-f&&(p=f+(d-l),p>=r.getWidth()))throw new F;let g=Math.round((p-f+1)/a),C=Math.round((d-l+1)/a);if(g<=0||C<=0)throw new F;if(C!==g)throw new F;let x=Math.floor(a/2);l+=x,f+=x;let v=f+Math.floor((g-1)*a)-p;if(v>0){if(v>x)throw new F;f-=v}let A=l+Math.floor((C-1)*a)-d;if(A>0){if(A>x)throw new F;l-=A}let T=new ct(g,C);for(let S=0;S<C;S++){let M=l+Math.floor(S*a);for(let R=0;R<g;R++)r.get(f+Math.floor(R*a),M)&&T.set(R,S)}return T}static moduleSize(r,i){let s=i.getHeight(),a=i.getWidth(),l=r[0],d=r[1],f=!0,p=0;for(;l<a&&d<s;){if(f!==i.get(l,d)){if(++p===5)break;f=!f}l++,d++}if(l===a||d===s)throw new F;return(l-r[0])/7}}gr.NO_POINTS=new Array;class oe{PDF417Common(){}static getBitCountSum(r){return Se.sum(r)}static toIntArray(r){if(r==null||!r.length)return oe.EMPTY_INT_ARRAY;let i=new Int32Array(r.length),s=0;for(let a of r)i[s++]=a;return i}static getCodeword(r){let i=U.binarySearch(oe.SYMBOL_TABLE,r&262143);return i<0?-1:(oe.CODEWORD_TABLE[i]-1)%oe.NUMBER_OF_CODEWORDS}}oe.NUMBER_OF_CODEWORDS=929,oe.MAX_CODEWORDS_IN_BARCODE=oe.NUMBER_OF_CODEWORDS-1,oe.MIN_ROWS_IN_BARCODE=3,oe.MAX_ROWS_IN_BARCODE=90,oe.MODULES_IN_CODEWORD=17,oe.MODULES_IN_STOP_PATTERN=18,oe.BARS_IN_MODULE=8,oe.EMPTY_INT_ARRAY=new Int32Array([]),oe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),oe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class fE{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class pe{static detectMultiple(r,i,s){let a=r.getBlackMatrix(),l=pe.detect(s,a);return l.length||(a=a.clone(),a.rotate180(),l=pe.detect(s,a)),new fE(a,l)}static detect(r,i){let s=new Array,a=0,l=0,d=!1;for(;a<i.getHeight();){let f=pe.findVertices(i,a,l);if(f[0]==null&&f[3]==null){if(!d)break;d=!1,l=0;for(let p of s)p[1]!=null&&(a=Math.trunc(Math.max(a,p[1].getY()))),p[3]!=null&&(a=Math.max(a,Math.trunc(p[3].getY())));a+=pe.ROW_STEP;continue}if(d=!0,s.push(f),!r)break;f[2]!=null?(l=Math.trunc(f[2].getX()),a=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY()))}return s}static findVertices(r,i,s){let a=r.getHeight(),l=r.getWidth(),d=new Array(8);return pe.copyToResult(d,pe.findRowsWithPattern(r,a,l,i,s,pe.START_PATTERN),pe.INDEXES_START_PATTERN),d[4]!=null&&(s=Math.trunc(d[4].getX()),i=Math.trunc(d[4].getY())),pe.copyToResult(d,pe.findRowsWithPattern(r,a,l,i,s,pe.STOP_PATTERN),pe.INDEXES_STOP_PATTERN),d}static copyToResult(r,i,s){for(let a=0;a<s.length;a++)r[s[a]]=i[a]}static findRowsWithPattern(r,i,s,a,l,d){let f=new Array(4),p=!1,g=new Int32Array(d.length);for(;a<i;a+=pe.ROW_STEP){let x=pe.findGuardPattern(r,l,a,s,!1,d,g);if(x!=null){for(;a>0;){let v=pe.findGuardPattern(r,l,--a,s,!1,d,g);if(v!=null)x=v;else{a++;break}}f[0]=new K(x[0],a),f[1]=new K(x[1],a),p=!0;break}}let C=a+1;if(p){let x=0,v=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;C<i;C++){let A=pe.findGuardPattern(r,v[0],C,s,!1,d,g);if(A!=null&&Math.abs(v[0]-A[0])<pe.MAX_PATTERN_DRIFT&&Math.abs(v[1]-A[1])<pe.MAX_PATTERN_DRIFT)v=A,x=0;else{if(x>pe.SKIPPED_ROW_COUNT_MAX)break;x++}}C-=x+1,f[2]=new K(v[0],C),f[3]=new K(v[1],C)}return C-a<pe.BARCODE_MIN_HEIGHT&&U.fill(f,null),f}static findGuardPattern(r,i,s,a,l,d,f){U.fillWithin(f,0,f.length,0);let p=i,g=0;for(;r.get(p,s)&&p>0&&g++<pe.MAX_PIXEL_DRIFT;)p--;let C=p,x=0,v=d.length;for(let A=l;C<a;C++)if(r.get(C,s)!==A)f[x]++;else{if(x===v-1){if(pe.patternMatchVariance(f,d,pe.MAX_INDIVIDUAL_VARIANCE)<pe.MAX_AVG_VARIANCE)return new Int32Array([p,C]);p+=f[0]+f[1],_.arraycopy(f,2,f,0,x-1),f[x-1]=0,f[x]=0,x--}else x++;f[x]=1,A=!A}return x===v-1&&pe.patternMatchVariance(f,d,pe.MAX_INDIVIDUAL_VARIANCE)<pe.MAX_AVG_VARIANCE?new Int32Array([p,C-1]):null}static patternMatchVariance(r,i,s){let a=r.length,l=0,d=0;for(let g=0;g<a;g++)l+=r[g],d+=i[g];if(l<d)return 1/0;let f=l/d;s*=f;let p=0;for(let g=0;g<a;g++){let C=r[g],x=i[g]*f,v=C>x?C-x:x-C;if(v>s)return 1/0;p+=v}return p/l}}pe.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),pe.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),pe.MAX_AVG_VARIANCE=.42,pe.MAX_INDIVIDUAL_VARIANCE=.8,pe.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),pe.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),pe.MAX_PIXEL_DRIFT=3,pe.MAX_PATTERN_DRIFT=5,pe.SKIPPED_ROW_COUNT_MAX=25,pe.ROW_STEP=5,pe.BARCODE_MIN_HEIGHT=10;class yt{constructor(r,i){if(i.length===0)throw new E;this.field=r;let s=i.length;if(s>1&&i[0]===0){let a=1;for(;a<s&&i[a]===0;)a++;a===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-a),_.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let a=0;for(let l of this.coefficients)a=this.field.add(a,l);return a}let i=this.coefficients[0],s=this.coefficients.length;for(let a=1;a<s;a++)i=this.field.add(this.field.multiply(r,i),this.coefficients[a]);return i}add(r){if(!this.field.equals(r.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,s=r.coefficients;if(i.length>s.length){let d=i;i=s,s=d}let a=new Int32Array(s.length),l=s.length-i.length;_.arraycopy(s,0,a,0,l);for(let d=l;d<s.length;d++)a[d]=this.field.add(i[d-l],s[d]);return new yt(this.field,a)}subtract(r){if(!this.field.equals(r.field))throw new E("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof yt?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new yt(this.field,new Int32Array([0]));let i=this.coefficients,s=i.length,a=r.coefficients,l=a.length,d=new Int32Array(s+l-1);for(let f=0;f<s;f++){let p=i[f];for(let g=0;g<l;g++)d[f+g]=this.field.add(d[f+g],this.field.multiply(p,a[g]))}return new yt(this.field,d)}negative(){let r=this.coefficients.length,i=new Int32Array(r);for(let s=0;s<r;s++)i[s]=this.field.subtract(0,this.coefficients[s]);return new yt(this.field,i)}multiplyScalar(r){if(r===0)return new yt(this.field,new Int32Array([0]));if(r===1)return this;let i=this.coefficients.length,s=new Int32Array(i);for(let a=0;a<i;a++)s[a]=this.field.multiply(this.coefficients[a],r);return new yt(this.field,s)}multiplyByMonomial(r,i){if(r<0)throw new E;if(i===0)return new yt(this.field,new Int32Array([0]));let s=this.coefficients.length,a=new Int32Array(s+r);for(let l=0;l<s;l++)a[l]=this.field.multiply(this.coefficients[l],i);return new yt(this.field,a)}toString(){let r=new Be;for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);s!==0&&(s<0?(r.append(" - "),s=-s):r.length()>0&&r.append(" + "),(i===0||s!==1)&&r.append(s),i!==0&&(i===1?r.append("x"):(r.append("x^"),r.append(i))))}return r.toString()}}class hE{add(r,i){return(r+i)%this.modulus}subtract(r,i){return(this.modulus+r-i)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new E;return this.logTable[r]}inverse(r){if(r===0)throw new Ll;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Xl extends hE{constructor(r,i){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let s=1;for(let a=0;a<r;a++)this.expTable[a]=s,s=s*i%r;for(let a=0;a<r-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new yt(this,new Int32Array([0])),this.one=new yt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new E;if(i===0)return this.zero;let s=new Int32Array(r+1);return s[0]=i,new yt(this,s)}}Xl.PDF417_GF=new Xl(oe.NUMBER_OF_CODEWORDS,3);class Kh{constructor(){this.field=Xl.PDF417_GF}decode(r,i,s){let a=new yt(this.field,r),l=new Int32Array(i),d=!1;for(let T=i;T>0;T--){let S=a.evaluateAt(this.field.exp(T));l[i-T]=S,S!==0&&(d=!0)}if(!d)return 0;let f=this.field.getOne();if(s!=null)for(let T of s){let S=this.field.exp(r.length-1-T),M=new yt(this.field,new Int32Array([this.field.subtract(0,S),1]));f=f.multiply(M)}let p=new yt(this.field,l),g=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),p,i),C=g[0],x=g[1],v=this.findErrorLocations(C),A=this.findErrorMagnitudes(x,C,v);for(let T=0;T<v.length;T++){let S=r.length-1-this.field.log(v[T]);if(S<0)throw b.getChecksumInstance();r[S]=this.field.subtract(r[S],A[T])}return v.length}runEuclideanAlgorithm(r,i,s){if(r.getDegree()<i.getDegree()){let v=r;r=i,i=v}let a=r,l=i,d=this.field.getZero(),f=this.field.getOne();for(;l.getDegree()>=Math.round(s/2);){let v=a,A=d;if(a=l,d=f,a.isZero())throw b.getChecksumInstance();l=v;let T=this.field.getZero(),S=a.getCoefficient(a.getDegree()),M=this.field.inverse(S);for(;l.getDegree()>=a.getDegree()&&!l.isZero();){let R=l.getDegree()-a.getDegree(),B=this.field.multiply(l.getCoefficient(l.getDegree()),M);T=T.add(this.field.buildMonomial(R,B)),l=l.subtract(a.multiplyByMonomial(R,B))}f=T.multiply(d).subtract(A).negative()}let p=f.getCoefficient(0);if(p===0)throw b.getChecksumInstance();let g=this.field.inverse(p),C=f.multiply(g),x=l.multiply(g);return[C,x]}findErrorLocations(r){let i=r.getDegree(),s=new Int32Array(i),a=0;for(let l=1;l<this.field.getSize()&&a<i;l++)r.evaluateAt(l)===0&&(s[a]=this.field.inverse(l),a++);if(a!==i)throw b.getChecksumInstance();return s}findErrorMagnitudes(r,i,s){let a=i.getDegree(),l=new Int32Array(a);for(let g=1;g<=a;g++)l[a-g]=this.field.multiply(g,i.getCoefficient(g));let d=new yt(this.field,l),f=s.length,p=new Int32Array(f);for(let g=0;g<f;g++){let C=this.field.inverse(s[g]),x=this.field.subtract(0,r.evaluateAt(C)),v=this.field.inverse(d.evaluateAt(C));p[g]=this.field.multiply(x,v)}return p}}class Gr{constructor(r,i,s,a,l){r instanceof Gr?this.constructor_2(r):this.constructor_1(r,i,s,a,l)}constructor_1(r,i,s,a,l){let d=i==null||s==null,f=a==null||l==null;if(d&&f)throw new F;d?(i=new K(0,a.getY()),s=new K(0,l.getY())):f&&(a=new K(r.getWidth()-1,i.getY()),l=new K(r.getWidth()-1,s.getY())),this.image=r,this.topLeft=i,this.bottomLeft=s,this.topRight=a,this.bottomRight=l,this.minX=Math.trunc(Math.min(i.getX(),s.getX())),this.maxX=Math.trunc(Math.max(a.getX(),l.getX())),this.minY=Math.trunc(Math.min(i.getY(),a.getY())),this.maxY=Math.trunc(Math.max(s.getY(),l.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,i){return r==null?i:i==null?r:new Gr(r.image,r.topLeft,r.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(r,i,s){let a=this.topLeft,l=this.bottomLeft,d=this.topRight,f=this.bottomRight;if(r>0){let p=s?this.topLeft:this.topRight,g=Math.trunc(p.getY()-r);g<0&&(g=0);let C=new K(p.getX(),g);s?a=C:d=C}if(i>0){let p=s?this.bottomLeft:this.bottomRight,g=Math.trunc(p.getY()+i);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let C=new K(p.getX(),g);s?l=C:f=C}return new Gr(this.image,a,l,d,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class pE{constructor(r,i,s,a){this.columnCount=r,this.errorCorrectionLevel=a,this.rowCountUpperPart=i,this.rowCountLowerPart=s,this.rowCount=i+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class So{constructor(){this.buffer=""}static form(r,i){let s=-1;function a(d,f,p,g,C,x){if(d==="%%")return"%";if(i[++s]===void 0)return;d=g?parseInt(g.substr(1)):void 0;let v=C?parseInt(C.substr(1)):void 0,A;switch(x){case"s":A=i[s];break;case"c":A=i[s][0];break;case"f":A=parseFloat(i[s]).toFixed(d);break;case"p":A=parseFloat(i[s]).toPrecision(d);break;case"e":A=parseFloat(i[s]).toExponential(d);break;case"x":A=parseInt(i[s]).toString(v||16);break;case"d":A=parseFloat(parseInt(i[s],v||10).toPrecision(d)).toFixed(0);break}A=typeof A=="object"?JSON.stringify(A):(+A).toString(v);let T=parseInt(p),S=p&&p[0]+""=="0"?"0":" ";for(;A.length<T;)A=f!==void 0?A+S:S+A;return A}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(l,a)}format(r,...i){this.buffer+=So.form(r,i)}toString(){return this.buffer}}let Jh=(()=>{class m{constructor(i){this.boundingBox=new Gr(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let s=this.getCodeword(i);if(s!=null)return s;for(let a=1;a<m.MAX_NEARBY_DISTANCE;a++){let l=this.imageRowToCodewordIndex(i)-a;if(l>=0&&(s=this.codewords[l],s!=null)||(l=this.imageRowToCodewordIndex(i)+a,l<this.codewords.length&&(s=this.codewords[l],s!=null)))return s}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,s){this.codewords[this.imageRowToCodewordIndex(i)]=s}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){let i=new So,s=0;for(let a of this.codewords){if(a==null){i.format("%3d:    |   %n",s++);continue}i.format("%3d: %3d|%3d%n",s++,a.getRowNumber(),a.getValue())}return i.toString()}}return m.MAX_NEARBY_DISTANCE=5,m})();class _o{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let i=this.values.get(r);i==null&&(i=0),i++,this.values.set(r,i)}getValue(){let r=-1,i=new Array;for(let[s,a]of this.values.entries()){let l={getKey:()=>s,getValue:()=>a};l.getValue()>r?(r=l.getValue(),i=[],i.push(l.getKey())):l.getValue()===r&&i.push(l.getKey())}return oe.toIntArray(i)}getConfidence(r){return this.values.get(r)}}class ep extends Jh{constructor(r,i){super(r),this._isLeft=i}setRowNumbers(){for(let r of this.getCodewords())r?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,r);let s=this.getBoundingBox(),a=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),p=-1,g=1,C=0;for(let x=d;x<f;x++){if(i[x]==null)continue;let v=i[x],A=v.getRowNumber()-p;if(A===0)C++;else if(A===1)g=Math.max(g,C),C=1,p=v.getRowNumber();else if(A<0||v.getRowNumber()>=r.getRowCount()||A>x)i[x]=null;else{let T;g>2?T=(g-2)*A:T=A;let S=T>=x;for(let M=1;M<=T&&!S;M++)S=i[x-M]!=null;S?i[x]=null:(p=v.getRowNumber(),C=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let i=new Int32Array(r.getRowCount());for(let s of this.getCodewords())if(s!=null){let a=s.getRowNumber();if(a>=i.length)continue;i[a]++}return i}adjustIncompleteIndicatorColumnRowNumbers(r){let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),d=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.getCodewords(),p=-1;for(let g=l;g<d;g++){if(f[g]==null)continue;let C=f[g];C.setRowNumberAsRowIndicatorColumn();let x=C.getRowNumber()-p;x===0||(x===1?p=C.getRowNumber():C.getRowNumber()>=r.getRowCount()?f[g]=null:p=C.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),i=new _o,s=new _o,a=new _o,l=new _o;for(let f of r){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let p=f.getValue()%30,g=f.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:s.setValue(p*3+1);break;case 1:l.setValue(p/3),a.setValue(p%3);break;case 2:i.setValue(p+1);break}}if(i.getValue().length===0||s.getValue().length===0||a.getValue().length===0||l.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+a.getValue()[0]<oe.MIN_ROWS_IN_BARCODE||s.getValue()[0]+a.getValue()[0]>oe.MAX_ROWS_IN_BARCODE)return null;let d=new pE(i.getValue()[0],s.getValue()[0],a.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(r,d),d}removeIncorrectCodewords(r,i){for(let s=0;s<r.length;s++){let a=r[s];if(r[s]==null)continue;let l=a.getValue()%30,d=a.getRowNumber();if(d>i.getRowCount()){r[s]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:l*3+1!==i.getRowCountUpperPart()&&(r[s]=null);break;case 1:(Math.trunc(l/3)!==i.getErrorCorrectionLevel()||l%3!==i.getRowCountLowerPart())&&(r[s]=null);break;case 2:l+1!==i.getColumnCount()&&(r[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Mo{constructor(r,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=oe.MAX_CODEWORDS_IN_BARCODE,i;do i=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let s=this.detectionResultColumns[i].getCodewords();for(let a=0;a<s.length;a++)s[a]!=null&&(s[a].hasValidRowNumber()||this.adjustRowNumbers(i,a,s))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<r.length;s++)if(r[s]!=null&&i[s]!=null&&r[s].getRowNumber()===i[s].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let l=this.detectionResultColumns[a].getCodewords()[s];l!=null&&(l.setRowNumber(r[s].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let a=i[s].getRowNumber(),l=0;for(let d=this.barcodeColumnCount+1;d>0&&l<this.ADJUST_ROW_NUMBER_SKIP;d--){let f=this.detectionResultColumns[d].getCodewords()[s];f!=null&&(l=Mo.adjustRowNumberIfValid(a,l,f),f.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,i=this.detectionResultColumns[0].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let a=i[s].getRowNumber(),l=0;for(let d=1;d<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;d++){let f=this.detectionResultColumns[d].getCodewords()[s];f!=null&&(l=Mo.adjustRowNumberIfValid(a,l,f),f.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,i,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(r)?(s.setRowNumber(r),i=0):++i),i}adjustRowNumbers(r,i,s){if(!this.detectionResultColumns[r-1])return;let a=s[i],l=this.detectionResultColumns[r-1].getCodewords(),d=l;this.detectionResultColumns[r+1]!=null&&(d=this.detectionResultColumns[r+1].getCodewords());let f=new Array(14);f[2]=l[i],f[3]=d[i],i>0&&(f[0]=s[i-1],f[4]=l[i-1],f[5]=d[i-1]),i>1&&(f[8]=s[i-2],f[10]=l[i-2],f[11]=d[i-2]),i<s.length-1&&(f[1]=s[i+1],f[6]=l[i+1],f[7]=d[i+1]),i<s.length-2&&(f[9]=s[i+2],f[12]=l[i+2],f[13]=d[i+2]);for(let p of f)if(Mo.adjustRowNumber(a,p))return}static adjustRowNumber(r,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===r.getBucket()?(r.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,i){this.detectionResultColumns[r]=i}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new So;for(let s=0;s<r.getCodewords().length;s++){i.format("CW %3d:",s);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){i.format("    |   ");continue}let l=this.detectionResultColumns[a].getCodewords()[s];if(l==null){i.format("    |   ");continue}i.format(" %3d|%3d",l.getRowNumber(),l.getValue())}i.format("%n")}return i.toString()}}let gE=(()=>{class m{constructor(i,s,a,l){this.rowNumber=m.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(s),this.bucket=Math.trunc(a),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==m.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}return m.BARCODE_ROW_UNKNOWN=-1,m})();class Bt{static initialize(){for(let r=0;r<oe.SYMBOL_TABLE.length;r++){let i=oe.SYMBOL_TABLE[r],s=i&1;for(let a=0;a<oe.BARS_IN_MODULE;a++){let l=0;for(;(i&1)===s;)l+=1,i>>=1;s=i&1,Bt.RATIOS_TABLE[r]||(Bt.RATIOS_TABLE[r]=new Array(oe.BARS_IN_MODULE)),Bt.RATIOS_TABLE[r][oe.BARS_IN_MODULE-a-1]=Math.fround(l/oe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let i=Bt.getDecodedCodewordValue(Bt.sampleBitCounts(r));return i!==-1?i:Bt.getClosestDecodedValue(r)}static sampleBitCounts(r){let i=Se.sum(r),s=new Int32Array(oe.BARS_IN_MODULE),a=0,l=0;for(let d=0;d<oe.MODULES_IN_CODEWORD;d++){let f=i/(2*oe.MODULES_IN_CODEWORD)+d*i/oe.MODULES_IN_CODEWORD;l+r[a]<=f&&(l+=r[a],a++),s[a]++}return s}static getDecodedCodewordValue(r){let i=Bt.getBitValue(r);return oe.getCodeword(i)===-1?-1:i}static getBitValue(r){let i=0;for(let s=0;s<r.length;s++)for(let a=0;a<r[s];a++)i=i<<1|(s%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(r){let i=Se.sum(r),s=new Array(oe.BARS_IN_MODULE);if(i>1)for(let d=0;d<s.length;d++)s[d]=Math.fround(r[d]/i);let a=Ys.MAX_VALUE,l=-1;this.bSymbolTableReady||Bt.initialize();for(let d=0;d<Bt.RATIOS_TABLE.length;d++){let f=0,p=Bt.RATIOS_TABLE[d];for(let g=0;g<oe.BARS_IN_MODULE;g++){let C=Math.fround(p[g]-s[g]);if(f+=Math.fround(C*C),f>=a)break}f<a&&(a=f,l=oe.SYMBOL_TABLE[d])}return l}}Bt.bSymbolTableReady=!1,Bt.RATIOS_TABLE=new Array(oe.SYMBOL_TABLE.length).map(m=>m=new Array(oe.BARS_IN_MODULE));class tp{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class np{static parseLong(r,i=void 0){return parseInt(r,i)}}let mE=(()=>{class m extends y{}return m.kind="NullPointerException",m})();class yE{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,i,s){if(r==null)throw new mE;if(i<0||i>r.length||s<0||i+s>r.length||i+s<0)throw new G;if(s===0)return;for(let a=0;a<s;a++)this.write(r[i+a])}flush(){}close(){}}class EE extends y{}class wE extends yE{constructor(r=32){if(super(),this.count=0,r<0)throw new E("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let s=this.buf.length<<1;if(s-r<0&&(s=r),s<0){if(r<0)throw new EE;s=V.MAX_VALUE}this.buf=U.copyOfUint8Array(this.buf,s)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,i,s){if(i<0||i>r.length||s<0||i+s-r.length>0)throw new G;this.ensureCapacity(this.count+s),_.arraycopy(r,i,this.buf,this.count,s),this.count+=s}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return U.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var Ue=function(m){return m[m.ALPHA=0]="ALPHA",m[m.LOWER=1]="LOWER",m[m.MIXED=2]="MIXED",m[m.PUNCT=3]="PUNCT",m[m.ALPHA_SHIFT=4]="ALPHA_SHIFT",m[m.PUNCT_SHIFT=5]="PUNCT_SHIFT",m}(Ue||{});function rp(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let na;function mr(m){if(typeof na>"u"&&(na=rp()),na===null)throw new Error("BigInt is not supported!");return na(m)}function CE(){let m=[];m[0]=mr(1);let r=mr(900);m[1]=r;for(let i=2;i<16;i++)m[i]=m[i-1]*r;return m}class O{static decode(r,i){let s=new Be(""),a=z.ISO8859_1;s.enableDecoding(a);let l=1,d=r[l++],f=new tp;for(;l<r[0];){switch(d){case O.TEXT_COMPACTION_MODE_LATCH:l=O.textCompaction(r,l,s);break;case O.BYTE_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH_6:l=O.byteCompaction(d,r,a,l,s);break;case O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[l++]);break;case O.NUMERIC_COMPACTION_MODE_LATCH:l=O.numericCompaction(r,l,s);break;case O.ECI_CHARSET:let g=z.getCharacterSetECIByValue(r[l++]);break;case O.ECI_GENERAL_PURPOSE:l+=2;break;case O.ECI_USER_DEFINED:l++;break;case O.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=O.decodeMacroBlock(r,l,f);break;case O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case O.MACRO_PDF417_TERMINATOR:throw new H;default:l--,l=O.textCompaction(r,l,s);break}if(l<r.length)d=r[l++];else throw H.getFormatInstance()}if(s.length()===0)throw H.getFormatInstance();let p=new xo(null,s.toString(),null,i);return p.setOther(f),p}static decodeMacroBlock(r,i,s){if(i+O.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw H.getFormatInstance();let a=new Int32Array(O.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<O.NUMBER_OF_SEQUENCE_CODEWORDS;f++,i++)a[f]=r[i];s.setSegmentIndex(V.parseInt(O.decodeBase900toBase10(a,O.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new Be;i=O.textCompaction(r,i,l),s.setFileId(l.toString());let d=-1;for(r[i]===O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=i+1);i<r[0];)switch(r[i]){case O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,r[i]){case O.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new Be;i=O.textCompaction(r,i+1,f),s.setFileName(f.toString());break;case O.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new Be;i=O.textCompaction(r,i+1,p),s.setSender(p.toString());break;case O.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new Be;i=O.textCompaction(r,i+1,g),s.setAddressee(g.toString());break;case O.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Be;i=O.numericCompaction(r,i+1,C),s.setSegmentCount(V.parseInt(C.toString()));break;case O.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let x=new Be;i=O.numericCompaction(r,i+1,x),s.setTimestamp(np.parseLong(x.toString()));break;case O.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let v=new Be;i=O.numericCompaction(r,i+1,v),s.setChecksum(V.parseInt(v.toString()));break;case O.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let A=new Be;i=O.numericCompaction(r,i+1,A),s.setFileSize(np.parseLong(A.toString()));break;default:throw H.getFormatInstance()}break;case O.MACRO_PDF417_TERMINATOR:i++,s.setLastSegment(!0);break;default:throw H.getFormatInstance()}if(d!==-1){let f=i-d;s.isLastSegment()&&f--,s.setOptionalData(U.copyOfRange(r,d,d+f))}return i}static textCompaction(r,i,s){let a=new Int32Array((r[0]-i)*2),l=new Int32Array((r[0]-i)*2),d=0,f=!1;for(;i<r[0]&&!f;){let p=r[i++];if(p<O.TEXT_COMPACTION_MODE_LATCH)a[d]=p/30,a[d+1]=p%30,d+=2;else switch(p){case O.TEXT_COMPACTION_MODE_LATCH:a[d++]=O.TEXT_COMPACTION_MODE_LATCH;break;case O.BYTE_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH_6:case O.NUMERIC_COMPACTION_MODE_LATCH:case O.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case O.MACRO_PDF417_TERMINATOR:i--,f=!0;break;case O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[d]=O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=r[i++],l[d]=p,d++;break}}return O.decodeTextCompaction(a,l,d,s),i}static decodeTextCompaction(r,i,s,a){let l=Ue.ALPHA,d=Ue.ALPHA,f=0;for(;f<s;){let p=r[f],g="";switch(l){case Ue.ALPHA:if(p<26)g=String.fromCharCode(65+p);else switch(p){case 26:g=" ";break;case O.LL:l=Ue.LOWER;break;case O.ML:l=Ue.MIXED;break;case O.PS:d=l,l=Ue.PUNCT_SHIFT;break;case O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case O.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.LOWER:if(p<26)g=String.fromCharCode(97+p);else switch(p){case 26:g=" ";break;case O.AS:d=l,l=Ue.ALPHA_SHIFT;break;case O.ML:l=Ue.MIXED;break;case O.PS:d=l,l=Ue.PUNCT_SHIFT;break;case O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case O.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.MIXED:if(p<O.PL)g=O.MIXED_CHARS[p];else switch(p){case O.PL:l=Ue.PUNCT;break;case 26:g=" ";break;case O.LL:l=Ue.LOWER;break;case O.AL:l=Ue.ALPHA;break;case O.PS:d=l,l=Ue.PUNCT_SHIFT;break;case O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case O.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.PUNCT:if(p<O.PAL)g=O.PUNCT_CHARS[p];else switch(p){case O.PAL:l=Ue.ALPHA;break;case O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case O.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.ALPHA_SHIFT:if(l=d,p<26)g=String.fromCharCode(65+p);else switch(p){case 26:g=" ";break;case O.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break;case Ue.PUNCT_SHIFT:if(l=d,p<O.PAL)g=O.PUNCT_CHARS[p];else switch(p){case O.PAL:l=Ue.ALPHA;break;case O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[f]);break;case O.TEXT_COMPACTION_MODE_LATCH:l=Ue.ALPHA;break}break}g!==""&&a.append(g),f++}}static byteCompaction(r,i,s,a,l){let d=new wE,f=0,p=0,g=!1;switch(r){case O.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),x=i[a++];for(;a<i[0]&&!g;)switch(C[f++]=x,p=900*p+x,x=i[a++],x){case O.TEXT_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH:case O.NUMERIC_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH_6:case O.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case O.MACRO_PDF417_TERMINATOR:a--,g=!0;break;default:if(f%5===0&&f>0){for(let v=0;v<6;++v)d.write(Number(mr(p)>>mr(8*(5-v))));p=0,f=0}break}a===i[0]&&x<O.TEXT_COMPACTION_MODE_LATCH&&(C[f++]=x);for(let v=0;v<f;v++)d.write(C[v]);break;case O.BYTE_COMPACTION_MODE_LATCH_6:for(;a<i[0]&&!g;){let v=i[a++];if(v<O.TEXT_COMPACTION_MODE_LATCH)f++,p=900*p+v;else switch(v){case O.TEXT_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH:case O.NUMERIC_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH_6:case O.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case O.MACRO_PDF417_TERMINATOR:a--,g=!0;break}if(f%5===0&&f>0){for(let A=0;A<6;++A)d.write(Number(mr(p)>>mr(8*(5-A))));p=0,f=0}}break}return l.append(Ft.decode(d.toByteArray(),s)),a}static numericCompaction(r,i,s){let a=0,l=!1,d=new Int32Array(O.MAX_NUMERIC_CODEWORDS);for(;i<r[0]&&!l;){let f=r[i++];if(i===r[0]&&(l=!0),f<O.TEXT_COMPACTION_MODE_LATCH)d[a]=f,a++;else switch(f){case O.TEXT_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH:case O.BYTE_COMPACTION_MODE_LATCH_6:case O.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case O.MACRO_PDF417_TERMINATOR:i--,l=!0;break}(a%O.MAX_NUMERIC_CODEWORDS===0||f===O.NUMERIC_COMPACTION_MODE_LATCH||l)&&a>0&&(s.append(O.decodeBase900toBase10(d,a)),a=0)}return i}static decodeBase900toBase10(r,i){let s=mr(0);for(let l=0;l<i;l++)s+=O.EXP900[i-l-1]*mr(r[l]);let a=s.toString();if(a.charAt(0)!=="1")throw new H;return a.substring(1)}}O.TEXT_COMPACTION_MODE_LATCH=900,O.BYTE_COMPACTION_MODE_LATCH=901,O.NUMERIC_COMPACTION_MODE_LATCH=902,O.BYTE_COMPACTION_MODE_LATCH_6=924,O.ECI_USER_DEFINED=925,O.ECI_GENERAL_PURPOSE=926,O.ECI_CHARSET=927,O.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,O.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,O.MACRO_PDF417_TERMINATOR=922,O.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,O.MAX_NUMERIC_CODEWORDS=15,O.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,O.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,O.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,O.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,O.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,O.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,O.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,O.PL=25,O.LL=27,O.AS=27,O.ML=28,O.AL=28,O.PS=29,O.PAL=29,O.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,O.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",O.EXP900=rp()?CE():[],O.NUMBER_OF_SEQUENCE_CODEWORDS=2;class me{constructor(){}static decode(r,i,s,a,l,d,f){let p=new Gr(r,i,s,a,l),g=null,C=null,x;for(let T=!0;;T=!1){if(i!=null&&(g=me.getRowIndicatorColumn(r,p,i,!0,d,f)),a!=null&&(C=me.getRowIndicatorColumn(r,p,a,!1,d,f)),x=me.merge(g,C),x==null)throw F.getNotFoundInstance();let S=x.getBoundingBox();if(T&&S!=null&&(S.getMinY()<p.getMinY()||S.getMaxY()>p.getMaxY()))p=S;else break}x.setBoundingBox(p);let v=x.getBarcodeColumnCount()+1;x.setDetectionResultColumn(0,g),x.setDetectionResultColumn(v,C);let A=g!=null;for(let T=1;T<=v;T++){let S=A?T:v-T;if(x.getDetectionResultColumn(S)!==void 0)continue;let M;S===0||S===v?M=new ep(p,S===0):M=new Jh(p),x.setDetectionResultColumn(S,M);let R=-1,B=R;for(let Y=p.getMinY();Y<=p.getMaxY();Y++){if(R=me.getStartColumn(x,S,Y,A),R<0||R>p.getMaxX()){if(B===-1)continue;R=B}let P=me.detectCodeword(r,p.getMinX(),p.getMaxX(),A,R,Y,d,f);P!=null&&(M.setCodeword(Y,P),B=R,d=Math.min(d,P.getWidth()),f=Math.max(f,P.getWidth()))}}return me.createDecoderResult(x)}static merge(r,i){if(r==null&&i==null)return null;let s=me.getBarcodeMetadata(r,i);if(s==null)return null;let a=Gr.merge(me.adjustBoundingBox(r),me.adjustBoundingBox(i));return new Mo(s,a)}static adjustBoundingBox(r){if(r==null)return null;let i=r.getRowHeights();if(i==null)return null;let s=me.getMax(i),a=0;for(let f of i)if(a+=s-f,f>0)break;let l=r.getCodewords();for(let f=0;a>0&&l[f]==null;f++)a--;let d=0;for(let f=i.length-1;f>=0&&(d+=s-i[f],!(i[f]>0));f--);for(let f=l.length-1;d>0&&l[f]==null;f--)d--;return r.getBoundingBox().addMissingRows(a,d,r.isLeft())}static getMax(r){let i=-1;for(let s of r)i=Math.max(i,s);return i}static getBarcodeMetadata(r,i){let s;if(r==null||(s=r.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let a;return i==null||(a=i.getBarcodeMetadata())==null?s:s.getColumnCount()!==a.getColumnCount()&&s.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&s.getRowCount()!==a.getRowCount()?null:s}static getRowIndicatorColumn(r,i,s,a,l,d){let f=new ep(i,a);for(let p=0;p<2;p++){let g=p===0?1:-1,C=Math.trunc(Math.trunc(s.getX()));for(let x=Math.trunc(Math.trunc(s.getY()));x<=i.getMaxY()&&x>=i.getMinY();x+=g){let v=me.detectCodeword(r,0,r.getWidth(),a,C,x,l,d);v!=null&&(f.setCodeword(x,v),a?C=v.getStartX():C=v.getEndX())}}return f}static adjustCodewordCount(r,i){let s=i[0][1],a=s.getValue(),l=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-me.getNumberOfECCodeWords(r.getBarcodeECLevel());if(a.length===0){if(l<1||l>oe.MAX_CODEWORDS_IN_BARCODE)throw F.getNotFoundInstance();s.setValue(l)}else a[0]!==l&&s.setValue(l)}static createDecoderResult(r){let i=me.createBarcodeMatrix(r);me.adjustCodewordCount(r,i);let s=new Array,a=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),l=[],d=new Array;for(let p=0;p<r.getBarcodeRowCount();p++)for(let g=0;g<r.getBarcodeColumnCount();g++){let C=i[p][g+1].getValue(),x=p*r.getBarcodeColumnCount()+g;C.length===0?s.push(x):C.length===1?a[x]=C[0]:(d.push(x),l.push(C))}let f=new Array(l.length);for(let p=0;p<f.length;p++)f[p]=l[p];return me.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),a,oe.toIntArray(s),oe.toIntArray(d),f)}static createDecoderResultFromAmbiguousValues(r,i,s,a,l){let d=new Int32Array(a.length),f=100;for(;f-- >0;){for(let p=0;p<d.length;p++)i[a[p]]=l[p][d[p]];try{return me.decodeCodewords(i,r,s)}catch(p){if(!(p instanceof b))throw p}if(d.length===0)throw b.getChecksumInstance();for(let p=0;p<d.length;p++)if(d[p]<l[p].length-1){d[p]++;break}else if(d[p]=0,p===d.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(r){let i=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let a=0;a<i.length;a++)for(let l=0;l<i[a].length;l++)i[a][l]=new _o;let s=0;for(let a of r.getDetectionResultColumns()){if(a!=null){for(let l of a.getCodewords())if(l!=null){let d=l.getRowNumber();if(d>=0){if(d>=i.length)continue;i[d][s].setValue(l.getValue())}}}s++}return i}static isValidBarcodeColumn(r,i){return i>=0&&i<=r.getBarcodeColumnCount()+1}static getStartColumn(r,i,s,a){let l=a?1:-1,d=null;if(me.isValidBarcodeColumn(r,i-l)&&(d=r.getDetectionResultColumn(i-l).getCodeword(s)),d!=null)return a?d.getEndX():d.getStartX();if(d=r.getDetectionResultColumn(i).getCodewordNearby(s),d!=null)return a?d.getStartX():d.getEndX();if(me.isValidBarcodeColumn(r,i-l)&&(d=r.getDetectionResultColumn(i-l).getCodewordNearby(s)),d!=null)return a?d.getEndX():d.getStartX();let f=0;for(;me.isValidBarcodeColumn(r,i-l);){i-=l;for(let p of r.getDetectionResultColumn(i).getCodewords())if(p!=null)return(a?p.getEndX():p.getStartX())+l*f*(p.getEndX()-p.getStartX());f++}return a?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,i,s,a,l,d,f,p){l=me.adjustCodewordStartColumn(r,i,s,a,l,d);let g=me.getModuleBitCount(r,i,s,a,l,d);if(g==null)return null;let C,x=Se.sum(g);if(a)C=l+x;else{for(let T=0;T<g.length/2;T++){let S=g[T];g[T]=g[g.length-1-T],g[g.length-1-T]=S}C=l,l=C-x}if(!me.checkCodewordSkew(x,f,p))return null;let v=Bt.getDecodedValue(g),A=oe.getCodeword(v);return A===-1?null:new gE(l,C,me.getCodewordBucketNumber(v),A)}static getModuleBitCount(r,i,s,a,l,d){let f=l,p=new Int32Array(8),g=0,C=a?1:-1,x=a;for(;(a?f<s:f>=i)&&g<p.length;)r.get(f,d)===x?(p[g]++,f+=C):(g++,x=!x);return g===p.length||f===(a?s:i)&&g===p.length-1?p:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,i,s,a,l,d){let f=l,p=a?-1:1;for(let g=0;g<2;g++){for(;(a?f>=i:f<s)&&a===r.get(f,d);){if(Math.abs(l-f)>me.CODEWORD_SKEW_SIZE)return l;f+=p}p=-p,a=!a}return f}static checkCodewordSkew(r,i,s){return i-me.CODEWORD_SKEW_SIZE<=r&&r<=s+me.CODEWORD_SKEW_SIZE}static decodeCodewords(r,i,s){if(r.length===0)throw H.getFormatInstance();let a=1<<i+1,l=me.correctErrors(r,s,a);me.verifyCodewordCount(r,a);let d=O.decode(r,""+i);return d.setErrorsCorrected(l),d.setErasures(s.length),d}static correctErrors(r,i,s){if(i!=null&&i.length>s/2+me.MAX_ERRORS||s<0||s>me.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return me.errorCorrection.decode(r,s,i)}static verifyCodewordCount(r,i){if(r.length<4)throw H.getFormatInstance();let s=r[0];if(s>r.length)throw H.getFormatInstance();if(s===0)if(i<r.length)r[0]=r.length-i;else throw H.getFormatInstance()}static getBitCountForCodeword(r){let i=new Int32Array(8),s=0,a=i.length-1;for(;!((r&1)!==s&&(s=r&1,a--,a<0));)i[a]++,r>>=1;return i}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return me.getCodewordBucketNumber(me.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let i=new So;for(let s=0;s<r.length;s++){i.format("Row %2d: ",s);for(let a=0;a<r[s].length;a++){let l=r[s][a];l.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}i.format("%n")}return i.toString()}}me.CODEWORD_SKEW_SIZE=2,me.MAX_ERRORS=3,me.MAX_EC_CODEWORDS=512,me.errorCorrection=new Kh;class Et{decode(r,i=null){let s=Et.decode(r,i,!1);if(s==null||s.length===0||s[0]==null)throw F.getNotFoundInstance();return s[0]}decodeMultiple(r,i=null){try{return Et.decode(r,i,!0)}catch(s){throw s instanceof H||s instanceof b?F.getNotFoundInstance():s}}static decode(r,i,s){let a=new Array,l=pe.detectMultiple(r,i,s);for(let d of l.getPoints()){let f=me.decode(l.getBits(),d[4],d[5],d[6],d[7],Et.getMinCodewordWidth(d),Et.getMaxCodewordWidth(d)),p=new bt(f.getText(),f.getRawBytes(),void 0,d,re.PDF_417);p.putMetadata(ut.ERROR_CORRECTION_LEVEL,f.getECLevel());let g=f.getOther();g!=null&&p.putMetadata(ut.PDF417_EXTRA_METADATA,g),a.push(p)}return a.map(d=>d)}static getMaxWidth(r,i){return r==null||i==null?0:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMinWidth(r,i){return r==null||i==null?V.MAX_VALUE:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(Et.getMaxWidth(r[0],r[4]),Et.getMaxWidth(r[6],r[2])*oe.MODULES_IN_CODEWORD/oe.MODULES_IN_STOP_PATTERN),Math.max(Et.getMaxWidth(r[1],r[5]),Et.getMaxWidth(r[7],r[3])*oe.MODULES_IN_CODEWORD/oe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(Et.getMinWidth(r[0],r[4]),Et.getMinWidth(r[6],r[2])*oe.MODULES_IN_CODEWORD/oe.MODULES_IN_STOP_PATTERN),Math.min(Et.getMinWidth(r[1],r[5]),Et.getMinWidth(r[7],r[3])*oe.MODULES_IN_CODEWORD/oe.MODULES_IN_STOP_PATTERN)))}reset(){}}let Zl=(()=>{class m extends y{}return m.kind="ReaderException",m})();class ip{constructor(r,i){this.verbose=r===!0,i&&this.setHints(i)}decode(r,i){return i&&this.setHints(i),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;let i=!t(r)&&r.get(Ee.TRY_HARDER)===!0,s=t(r)?null:r.get(Ee.POSSIBLE_FORMATS),a=new Array;if(!t(s)){let l=s.some(d=>d===re.UPC_A||d===re.UPC_E||d===re.EAN_13||d===re.EAN_8||d===re.CODABAR||d===re.CODE_39||d===re.CODE_93||d===re.CODE_128||d===re.ITF||d===re.RSS_14||d===re.RSS_EXPANDED);l&&!i&&a.push(new Ai(r,this.verbose)),s.includes(re.QR_CODE)&&a.push(new gr),s.includes(re.DATA_MATRIX)&&a.push(new ea),s.includes(re.AZTEC)&&a.push(new Zs),s.includes(re.PDF_417)&&a.push(new Et),l&&i&&a.push(new Ai(r,this.verbose))}a.length===0&&(i||a.push(new Ai(r,this.verbose)),a.push(new gr),a.push(new ea),a.push(new Zs),a.push(new Et),i&&a.push(new Ai(r,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(let r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new Zl("No readers where selected, nothing can be read.");for(let i of this.readers)try{return i.decode(r,this.hints)}catch(s){if(s instanceof Zl)continue}throw new F("No MultiFormat Readers were able to detect the code.")}}class xE extends Ur{constructor(r=null,i=500){let s=new ip;s.setHints(r),super(s,i)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class vE extends Ur{constructor(r=500){super(new Et,r)}}class IE extends Ur{constructor(r=500){super(new gr,r)}}var op=function(m){return m[m.ERROR_CORRECTION=0]="ERROR_CORRECTION",m[m.CHARACTER_SET=1]="CHARACTER_SET",m[m.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",m[m.MIN_SIZE=3]="MIN_SIZE",m[m.MAX_SIZE=4]="MAX_SIZE",m[m.MARGIN=5]="MARGIN",m[m.PDF417_COMPACT=6]="PDF417_COMPACT",m[m.PDF417_COMPACTION=7]="PDF417_COMPACTION",m[m.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",m[m.AZTEC_LAYERS=9]="AZTEC_LAYERS",m[m.QR_VERSION=10]="QR_VERSION",m}(op||{}),it=op;class Ql{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new kt(r,Int32Array.from([1])))}buildGenerator(r){let i=this.cachedGenerators;if(r>=i.length){let s=i[i.length-1],a=this.field;for(let l=i.length;l<=r;l++){let d=s.multiply(new kt(a,Int32Array.from([1,a.exp(l-1+a.getGeneratorBase())])));i.push(d),s=d}}return i[r]}encode(r,i){if(i===0)throw new E("No error correction bytes");let s=r.length-i;if(s<=0)throw new E("No data bytes provided");let a=this.buildGenerator(i),l=new Int32Array(s);_.arraycopy(r,0,l,0,s);let d=new kt(this.field,l);d=d.multiplyByMonomial(i,1);let p=d.divide(a)[1].getCoefficients(),g=i-p.length;for(let C=0;C<g;C++)r[s+C]=0;_.arraycopy(p,0,r,s+g,p.length)}}let Ti=(()=>{class m{constructor(){}static applyMaskPenaltyRule1(i){return m.applyMaskPenaltyRule1Internal(i,!0)+m.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let s=0,a=i.getArray(),l=i.getWidth(),d=i.getHeight();for(let f=0;f<d-1;f++){let p=a[f];for(let g=0;g<l-1;g++){let C=p[g];C===p[g+1]&&C===a[f+1][g]&&C===a[f+1][g+1]&&s++}}return m.N2*s}static applyMaskPenaltyRule3(i){let s=0,a=i.getArray(),l=i.getWidth(),d=i.getHeight();for(let f=0;f<d;f++)for(let p=0;p<l;p++){let g=a[f];p+6<l&&g[p]===1&&g[p+1]===0&&g[p+2]===1&&g[p+3]===1&&g[p+4]===1&&g[p+5]===0&&g[p+6]===1&&(m.isWhiteHorizontal(g,p-4,p)||m.isWhiteHorizontal(g,p+7,p+11))&&s++,f+6<d&&a[f][p]===1&&a[f+1][p]===0&&a[f+2][p]===1&&a[f+3][p]===1&&a[f+4][p]===1&&a[f+5][p]===0&&a[f+6][p]===1&&(m.isWhiteVertical(a,p,f-4,f)||m.isWhiteVertical(a,p,f+7,f+11))&&s++}return s*m.N3}static isWhiteHorizontal(i,s,a){s=Math.max(s,0),a=Math.min(a,i.length);for(let l=s;l<a;l++)if(i[l]===1)return!1;return!0}static isWhiteVertical(i,s,a,l){a=Math.max(a,0),l=Math.min(l,i.length);for(let d=a;d<l;d++)if(i[d][s]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let s=0,a=i.getArray(),l=i.getWidth(),d=i.getHeight();for(let g=0;g<d;g++){let C=a[g];for(let x=0;x<l;x++)C[x]===1&&s++}let f=i.getHeight()*i.getWidth();return Math.floor(Math.abs(s*2-f)*10/f)*m.N4}static getDataMaskBit(i,s,a){let l,d;switch(i){case 0:l=a+s&1;break;case 1:l=a&1;break;case 2:l=s%3;break;case 3:l=(a+s)%3;break;case 4:l=Math.floor(a/2)+Math.floor(s/3)&1;break;case 5:d=a*s,l=(d&1)+d%3;break;case 6:d=a*s,l=(d&1)+d%3&1;break;case 7:d=a*s,l=d%3+(a+s&1)&1;break;default:throw new E("Invalid mask pattern: "+i)}return l===0}static applyMaskPenaltyRule1Internal(i,s){let a=0,l=s?i.getHeight():i.getWidth(),d=s?i.getWidth():i.getHeight(),f=i.getArray();for(let p=0;p<l;p++){let g=0,C=-1;for(let x=0;x<d;x++){let v=s?f[p][x]:f[x][p];v===C?g++:(g>=5&&(a+=m.N1+(g-5)),g=1,C=v)}g>=5&&(a+=m.N1+(g-5))}return a}}return m.N1=3,m.N2=3,m.N3=40,m.N4=10,m})();class ra{constructor(r,i){this.width=r,this.height=i;let s=new Array(i);for(let a=0;a!==i;a++)s[a]=new Uint8Array(r);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(r,i){return this.bytes[i][r]}getArray(){return this.bytes}setNumber(r,i,s){this.bytes[i][r]=s}setBoolean(r,i,s){this.bytes[i][r]=s?1:0}clear(r){for(let i of this.bytes)U.fill(i,r)}equals(r){if(!(r instanceof ra))return!1;let i=r;if(this.width!==i.width||this.height!==i.height)return!1;for(let s=0,a=this.height;s<a;++s){let l=this.bytes[s],d=i.bytes[s];for(let f=0,p=this.width;f<p;++f)if(l[f]!==d[f])return!1}return!0}toString(){let r=new Be;for(let i=0,s=this.height;i<s;++i){let a=this.bytes[i];for(let l=0,d=this.width;l<d;++l)switch(a[l]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}let ia=(()=>{class m{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){let i=new Be;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<m.NUM_MASK_PATTERNS}}return m.NUM_MASK_PATTERNS=8,m})(),Ge=(()=>{class m extends y{}return m.kind="WriterException",m})();class ie{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,i,s,a,l){ie.clearMatrix(l),ie.embedBasicPatterns(s,l),ie.embedTypeInfo(i,a,l),ie.maybeEmbedVersionInfo(s,l),ie.embedDataBits(r,a,l)}static embedBasicPatterns(r,i){ie.embedPositionDetectionPatternsAndSeparators(i),ie.embedDarkDotAtLeftBottomCorner(i),ie.maybeEmbedPositionAdjustmentPatterns(r,i),ie.embedTimingPatterns(i)}static embedTypeInfo(r,i,s){let a=new ge;ie.makeTypeInfoBits(r,i,a);for(let l=0,d=a.getSize();l<d;++l){let f=a.get(a.getSize()-1-l),p=ie.TYPE_INFO_COORDINATES[l],g=p[0],C=p[1];if(s.setBoolean(g,C,f),l<8){let x=s.getWidth()-l-1;s.setBoolean(x,8,f)}else{let v=s.getHeight()-7+(l-8);s.setBoolean(8,v,f)}}}static maybeEmbedVersionInfo(r,i){if(r.getVersionNumber()<7)return;let s=new ge;ie.makeVersionInfoBits(r,s);let a=6*3-1;for(let l=0;l<6;++l)for(let d=0;d<3;++d){let f=s.get(a);a--,i.setBoolean(l,i.getHeight()-11+d,f),i.setBoolean(i.getHeight()-11+d,l,f)}}static embedDataBits(r,i,s){let a=0,l=-1,d=s.getWidth()-1,f=s.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);f>=0&&f<s.getHeight();){for(let p=0;p<2;++p){let g=d-p;if(!ie.isEmpty(s.get(g,f)))continue;let C;a<r.getSize()?(C=r.get(a),++a):C=!1,i!==255&&Ti.getDataMaskBit(i,g,f)&&(C=!C),s.setBoolean(g,f,C)}f+=l}l=-l,f+=l,d-=2}if(a!==r.getSize())throw new Ge("Not all bits consumed: "+a+"/"+r.getSize())}static findMSBSet(r){return 32-V.numberOfLeadingZeros(r)}static calculateBCHCode(r,i){if(i===0)throw new E("0 polynomial");let s=ie.findMSBSet(i);for(r<<=s-1;ie.findMSBSet(r)>=s;)r^=i<<ie.findMSBSet(r)-s;return r}static makeTypeInfoBits(r,i,s){if(!ia.isValidMaskPattern(i))throw new Ge("Invalid mask pattern");let a=r.getBits()<<3|i;s.appendBits(a,5);let l=ie.calculateBCHCode(a,ie.TYPE_INFO_POLY);s.appendBits(l,10);let d=new ge;if(d.appendBits(ie.TYPE_INFO_MASK_PATTERN,15),s.xor(d),s.getSize()!==15)throw new Ge("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(r,i){i.appendBits(r.getVersionNumber(),6);let s=ie.calculateBCHCode(r.getVersionNumber(),ie.VERSION_INFO_POLY);if(i.appendBits(s,12),i.getSize()!==18)throw new Ge("should not happen but we got: "+i.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let i=8;i<r.getWidth()-8;++i){let s=(i+1)%2;ie.isEmpty(r.get(i,6))&&r.setNumber(i,6,s),ie.isEmpty(r.get(6,i))&&r.setNumber(6,i,s)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new Ge;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,i,s){for(let a=0;a<8;++a){if(!ie.isEmpty(s.get(r+a,i)))throw new Ge;s.setNumber(r+a,i,0)}}static embedVerticalSeparationPattern(r,i,s){for(let a=0;a<7;++a){if(!ie.isEmpty(s.get(r,i+a)))throw new Ge;s.setNumber(r,i+a,0)}}static embedPositionAdjustmentPattern(r,i,s){for(let a=0;a<5;++a){let l=ie.POSITION_ADJUSTMENT_PATTERN[a];for(let d=0;d<5;++d)s.setNumber(r+d,i+a,l[d])}}static embedPositionDetectionPattern(r,i,s){for(let a=0;a<7;++a){let l=ie.POSITION_DETECTION_PATTERN[a];for(let d=0;d<7;++d)s.setNumber(r+d,i+a,l[d])}}static embedPositionDetectionPatternsAndSeparators(r){let i=ie.POSITION_DETECTION_PATTERN[0].length;ie.embedPositionDetectionPattern(0,0,r),ie.embedPositionDetectionPattern(r.getWidth()-i,0,r),ie.embedPositionDetectionPattern(0,r.getWidth()-i,r);let s=8;ie.embedHorizontalSeparationPattern(0,s-1,r),ie.embedHorizontalSeparationPattern(r.getWidth()-s,s-1,r),ie.embedHorizontalSeparationPattern(0,r.getWidth()-s,r);let a=7;ie.embedVerticalSeparationPattern(a,0,r),ie.embedVerticalSeparationPattern(r.getHeight()-a-1,0,r),ie.embedVerticalSeparationPattern(a,r.getHeight()-a,r)}static maybeEmbedPositionAdjustmentPatterns(r,i){if(r.getVersionNumber()<2)return;let s=r.getVersionNumber()-1,a=ie.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let l=0,d=a.length;l!==d;l++){let f=a[l];if(f>=0)for(let p=0;p!==d;p++){let g=a[p];g>=0&&ie.isEmpty(i.get(g,f))&&ie.embedPositionAdjustmentPattern(g-2,f-2,i)}}}}ie.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ie.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ie.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ie.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ie.VERSION_INFO_POLY=7973,ie.TYPE_INFO_POLY=1335,ie.TYPE_INFO_MASK_PATTERN=21522;class DE{constructor(r,i){this.dataBytes=r,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class We{constructor(){}static calculateMaskPenalty(r){return Ti.applyMaskPenaltyRule1(r)+Ti.applyMaskPenaltyRule2(r)+Ti.applyMaskPenaltyRule3(r)+Ti.applyMaskPenaltyRule4(r)}static encode(r,i,s=null){let a=We.DEFAULT_BYTE_MODE_ENCODING,l=s!==null&&s.get(it.CHARACTER_SET)!==void 0;l&&(a=s.get(it.CHARACTER_SET).toString());let d=this.chooseMode(r,a),f=new ge;if(d===ne.BYTE&&(l||We.DEFAULT_BYTE_MODE_ENCODING!==a)){let Y=z.getCharacterSetECIByName(a);Y!==void 0&&this.appendECI(Y,f)}this.appendModeInfo(d,f);let p=new ge;this.appendBytes(r,d,p,a);let g;if(s!==null&&s.get(it.QR_VERSION)!==void 0){let Y=Number.parseInt(s.get(it.QR_VERSION).toString(),10);g=ee.getVersionForNumber(Y);let P=this.calculateBitsNeeded(d,f,p,g);if(!this.willFit(P,g,i))throw new Ge("Data too big for requested version")}else g=this.recommendVersion(i,d,f,p);let C=new ge;C.appendBitArray(f);let x=d===ne.BYTE?p.getSizeInBytes():r.length;this.appendLengthInfo(x,g,d,C),C.appendBitArray(p);let v=g.getECBlocksForLevel(i),A=g.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(A,C);let T=this.interleaveWithECBytes(C,g.getTotalCodewords(),A,v.getNumBlocks()),S=new ia;S.setECLevel(i),S.setMode(d),S.setVersion(g);let M=g.getDimensionForVersion(),R=new ra(M,M),B=this.chooseMaskPattern(T,i,g,R);return S.setMaskPattern(B),ie.buildMatrix(T,i,g,B,R),S.setMatrix(R),S}static recommendVersion(r,i,s,a){let l=this.calculateBitsNeeded(i,s,a,ee.getVersionForNumber(1)),d=this.chooseVersion(l,r),f=this.calculateBitsNeeded(i,s,a,d);return this.chooseVersion(f,r)}static calculateBitsNeeded(r,i,s,a){return i.getSize()+r.getCharacterCountBits(a)+s.getSize()}static getAlphanumericCode(r){return r<We.ALPHANUMERIC_TABLE.length?We.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,i=null){if(z.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(r))return ne.KANJI;let s=!1,a=!1;for(let l=0,d=r.length;l<d;++l){let f=r.charAt(l);if(We.isDigit(f))s=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)a=!0;else return ne.BYTE}return a?ne.ALPHANUMERIC:s?ne.NUMERIC:ne.BYTE}static isOnlyDoubleByteKanji(r){let i;try{i=Ft.encode(r,z.SJIS)}catch{return!1}let s=i.length;if(s%2!==0)return!1;for(let a=0;a<s;a+=2){let l=i[a]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(r,i,s,a){let l=Number.MAX_SAFE_INTEGER,d=-1;for(let f=0;f<ia.NUM_MASK_PATTERNS;f++){ie.buildMatrix(r,i,s,f,a);let p=this.calculateMaskPenalty(a);p<l&&(l=p,d=f)}return d}static chooseVersion(r,i){for(let s=1;s<=40;s++){let a=ee.getVersionForNumber(s);if(We.willFit(r,a,i))return a}throw new Ge("Data too big")}static willFit(r,i,s){let a=i.getTotalCodewords(),d=i.getECBlocksForLevel(s).getTotalECCodewords(),f=a-d,p=(r+7)/8;return f>=p}static terminateBits(r,i){let s=r*8;if(i.getSize()>s)throw new Ge("data bits cannot fit in the QR Code"+i.getSize()+" > "+s);for(let d=0;d<4&&i.getSize()<s;++d)i.appendBit(!1);let a=i.getSize()&7;if(a>0)for(let d=a;d<8;d++)i.appendBit(!1);let l=r-i.getSizeInBytes();for(let d=0;d<l;++d)i.appendBits((d&1)===0?236:17,8);if(i.getSize()!==s)throw new Ge("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,i,s,a,l,d){if(a>=s)throw new Ge("Block ID too large");let f=r%s,p=s-f,g=Math.floor(r/s),C=g+1,x=Math.floor(i/s),v=x+1,A=g-x,T=C-v;if(A!==T)throw new Ge("EC bytes mismatch");if(s!==p+f)throw new Ge("RS blocks mismatch");if(r!==(x+A)*p+(v+T)*f)throw new Ge("Total bytes mismatch");a<p?(l[0]=x,d[0]=A):(l[0]=v,d[0]=T)}static interleaveWithECBytes(r,i,s,a){if(r.getSizeInBytes()!==s)throw new Ge("Number of bits and data bytes does not match");let l=0,d=0,f=0,p=new Array;for(let C=0;C<a;++C){let x=new Int32Array(1),v=new Int32Array(1);We.getNumDataBytesAndNumECBytesForBlockID(i,s,a,C,x,v);let A=x[0],T=new Uint8Array(A);r.toBytes(8*l,T,0,A);let S=We.generateECBytes(T,v[0]);p.push(new DE(T,S)),d=Math.max(d,A),f=Math.max(f,S.length),l+=x[0]}if(s!==l)throw new Ge("Data bytes does not match offset");let g=new ge;for(let C=0;C<d;++C)for(let x of p){let v=x.getDataBytes();C<v.length&&g.appendBits(v[C],8)}for(let C=0;C<f;++C)for(let x of p){let v=x.getErrorCorrectionBytes();C<v.length&&g.appendBits(v[C],8)}if(i!==g.getSizeInBytes())throw new Ge("Interleaving error: "+i+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(r,i){let s=r.length,a=new Int32Array(s+i);for(let d=0;d<s;d++)a[d]=r[d]&255;new Ql(Ne.QR_CODE_FIELD_256).encode(a,i);let l=new Uint8Array(i);for(let d=0;d<i;d++)l[d]=a[s+d];return l}static appendModeInfo(r,i){i.appendBits(r.getBits(),4)}static appendLengthInfo(r,i,s,a){let l=s.getCharacterCountBits(i);if(r>=1<<l)throw new Ge(r+" is bigger than "+((1<<l)-1));a.appendBits(r,l)}static appendBytes(r,i,s,a){switch(i){case ne.NUMERIC:We.appendNumericBytes(r,s);break;case ne.ALPHANUMERIC:We.appendAlphanumericBytes(r,s);break;case ne.BYTE:We.append8BitBytes(r,s,a);break;case ne.KANJI:We.appendKanjiBytes(r,s);break;default:throw new Ge("Invalid mode: "+i)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){let i=We.getDigit(r);return i>=0&&i<=9}static appendNumericBytes(r,i){let s=r.length,a=0;for(;a<s;){let l=We.getDigit(r.charAt(a));if(a+2<s){let d=We.getDigit(r.charAt(a+1)),f=We.getDigit(r.charAt(a+2));i.appendBits(l*100+d*10+f,10),a+=3}else if(a+1<s){let d=We.getDigit(r.charAt(a+1));i.appendBits(l*10+d,7),a+=2}else i.appendBits(l,4),a++}}static appendAlphanumericBytes(r,i){let s=r.length,a=0;for(;a<s;){let l=We.getAlphanumericCode(r.charCodeAt(a));if(l===-1)throw new Ge;if(a+1<s){let d=We.getAlphanumericCode(r.charCodeAt(a+1));if(d===-1)throw new Ge;i.appendBits(l*45+d,11),a+=2}else i.appendBits(l,6),a++}}static append8BitBytes(r,i,s){let a;try{a=Ft.encode(r,s)}catch(l){throw new Ge(l)}for(let l=0,d=a.length;l!==d;l++){let f=a[l];i.appendBits(f,8)}}static appendKanjiBytes(r,i){let s;try{s=Ft.encode(r,z.SJIS)}catch(l){throw new Ge(l)}let a=s.length;for(let l=0;l<a;l+=2){let d=s[l]&255,f=s[l+1]&255,p=d<<8&4294967295|f,g=-1;if(p>=33088&&p<=40956?g=p-33088:p>=57408&&p<=60351&&(g=p-49472),g===-1)throw new Ge("Invalid byte sequence");let C=(g>>8)*192+(g&255);i.appendBits(C,13)}}static appendECI(r,i){i.appendBits(ne.ECI.getBits(),4),i.appendBits(r.getValue(),8)}}We.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),We.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();let AE=(()=>{class m{write(i,s,a,l=null){if(i.length===0)throw new E("Found empty contents");if(s<0||a<0)throw new E("Requested dimensions are too small: "+s+"x"+a);let d=ze.L,f=m.QUIET_ZONE_SIZE;l!==null&&(l.get(it.ERROR_CORRECTION)!==void 0&&(d=ze.fromString(l.get(it.ERROR_CORRECTION).toString())),l.get(it.MARGIN)!==void 0&&(f=Number.parseInt(l.get(it.MARGIN).toString(),10)));let p=We.encode(i,d,l);return this.renderResult(p,s,a,f)}writeToDom(i,s,a,l,d=null){typeof i=="string"&&(i=document.querySelector(i));let f=this.write(s,a,l,d);i&&i.appendChild(f)}renderResult(i,s,a,l){let d=i.getMatrix();if(d===null)throw new zn;let f=d.getWidth(),p=d.getHeight(),g=f+l*2,C=p+l*2,x=Math.max(s,g),v=Math.max(a,C),A=Math.min(Math.floor(x/g),Math.floor(v/C)),T=Math.floor((x-f*A)/2),S=Math.floor((v-p*A)/2),M=this.createSVGElement(x,v);for(let R=0,B=S;R<p;R++,B+=A)for(let Y=0,P=T;Y<f;Y++,P+=A)if(d.get(Y,R)===1){let we=this.createSvgRectElement(P,B,A,A);M.appendChild(we)}return M}createSVGElement(i,s){let a=document.createElementNS(m.SVG_NS,"svg");return a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",s.toString()),a}createSvgRectElement(i,s,a,l){let d=document.createElementNS(m.SVG_NS,"rect");return d.setAttributeNS(null,"x",i.toString()),d.setAttributeNS(null,"y",s.toString()),d.setAttributeNS(null,"height",a.toString()),d.setAttributeNS(null,"width",l.toString()),d.setAttributeNS(null,"fill","#000000"),d}}return m.QUIET_ZONE_SIZE=4,m.SVG_NS="http://www.w3.org/2000/svg",m})(),sp=(()=>{class m{encode(i,s,a,l,d){if(i.length===0)throw new E("Found empty contents");if(s!==re.QR_CODE)throw new E("Can only encode QR_CODE, but got "+s);if(a<0||l<0)throw new E(`Requested dimensions are too small: ${a}x${l}`);let f=ze.L,p=m.QUIET_ZONE_SIZE;d!==null&&(d.get(it.ERROR_CORRECTION)!==void 0&&(f=ze.fromString(d.get(it.ERROR_CORRECTION).toString())),d.get(it.MARGIN)!==void 0&&(p=Number.parseInt(d.get(it.MARGIN).toString(),10)));let g=We.encode(i,f,d);return m.renderResult(g,a,l,p)}static renderResult(i,s,a,l){let d=i.getMatrix();if(d===null)throw new zn;let f=d.getWidth(),p=d.getHeight(),g=f+l*2,C=p+l*2,x=Math.max(s,g),v=Math.max(a,C),A=Math.min(Math.floor(x/g),Math.floor(v/C)),T=Math.floor((x-f*A)/2),S=Math.floor((v-p*A)/2),M=new ct(x,v);for(let R=0,B=S;R<p;R++,B+=A)for(let Y=0,P=T;Y<f;Y++,P+=A)d.get(Y,R)===1&&M.setRegion(P,B,A,A);return M}}return m.QUIET_ZONE_SIZE=4,m})();class TE{encode(r,i,s,a,l){let d;switch(i){case re.QR_CODE:d=new sp;break;default:throw new E("No encoder available for format "+i)}return d.encode(r,i,s,a,l)}}let bE=(()=>{class m extends Co{constructor(i,s,a,l,d,f,p,g){if(super(f,p),this.yuvData=i,this.dataWidth=s,this.dataHeight=a,this.left=l,this.top=d,l+f>s||d+p>a)throw new E("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(f,p)}getRow(i,s){if(i<0||i>=this.getHeight())throw new E("Requested row is outside the image: "+i);let a=this.getWidth();(s==null||s.length<a)&&(s=new Uint8ClampedArray(a));let l=(i+this.top)*this.dataWidth+this.left;return _.arraycopy(this.yuvData,l,s,0,a),s}getMatrix(){let i=this.getWidth(),s=this.getHeight();if(i===this.dataWidth&&s===this.dataHeight)return this.yuvData;let a=i*s,l=new Uint8ClampedArray(a),d=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return _.arraycopy(this.yuvData,d,l,0,a),l;for(let f=0;f<s;f++){let p=f*i;_.arraycopy(this.yuvData,d,l,p,i),d+=this.dataWidth}return l}isCropSupported(){return!0}crop(i,s,a,l){return new m(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+s,a,l,!1)}renderThumbnail(){let i=this.getWidth()/m.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/m.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(i*s),l=this.yuvData,d=this.top*this.dataWidth+this.left;for(let f=0;f<s;f++){let p=f*i;for(let g=0;g<i;g++){let C=l[d+g*m.THUMBNAIL_SCALE_FACTOR]&255;a[p+g]=4278190080|C*65793}d+=this.dataWidth*m.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/m.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/m.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,s){let a=this.yuvData;for(let l=0,d=this.top*this.dataWidth+this.left;l<s;l++,d+=this.dataWidth){let f=d+i/2;for(let p=d,g=d+i-1;p<f;p++,g--){let C=a[p];a[p]=a[g],a[g]=C}}}invert(){return new lr(this)}}return m.THUMBNAIL_SCALE_FACTOR=2,m})();class Kl extends Co{constructor(r,i,s,a,l,d,f){if(super(i,s),this.dataWidth=a,this.dataHeight=l,this.left=d,this.top=f,r.BYTES_PER_ELEMENT===4){let p=i*s,g=new Uint8ClampedArray(p);for(let C=0;C<p;C++){let x=r[C],v=x>>16&255,A=x>>7&510,T=x&255;g[C]=(v+A+T)/4&255}this.luminances=g}else this.luminances=r;if(a===void 0&&(this.dataWidth=i),l===void 0&&(this.dataHeight=s),d===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+s>this.dataHeight)throw new E("Crop rectangle does not fit within image data.")}getRow(r,i){if(r<0||r>=this.getHeight())throw new E("Requested row is outside the image: "+r);let s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));let a=(r+this.top)*this.dataWidth+this.left;return _.arraycopy(this.luminances,a,i,0,s),i}getMatrix(){let r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.luminances;let s=r*i,a=new Uint8ClampedArray(s),l=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return _.arraycopy(this.luminances,l,a,0,s),a;for(let d=0;d<i;d++){let f=d*r;_.arraycopy(this.luminances,l,a,f,r),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(r,i,s,a){return new Kl(this.luminances,s,a,this.dataWidth,this.dataHeight,this.left+r,this.top+i)}invert(){return new lr(this)}}class ap extends z{static forName(r){return this.getCharacterSetECIByName(r)}}class Jl{}Jl.ISO_8859_1=z.ISO8859_1;class cp{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class lp{static singletonList(r){return[r]}static min(r,i){return r.sort(i)[0]}}class SE{constructor(r){this.previous=r}getPrevious(){return this.previous}}class bi extends SE{constructor(r,i,s){super(r),this.value=i,this.bitCount=s}appendTo(r,i){r.appendBits(this.value,this.bitCount)}add(r,i){return new bi(this,r,i)}addBinaryShift(r,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new bi(this,r,i)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+V.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class eu extends bi{constructor(r,i,s){super(r,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=s}appendTo(r,i){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):s===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(i[this.binaryShiftStart+s],8)}addBinaryShift(r,i){return new eu(this,r,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function _E(m,r,i){return new eu(m,r,i)}function No(m,r,i){return new bi(m,r,i)}let ME=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],yr=0,oa=1,ln=2,up=3,Nn=4,NE=new bi(null,0,0),tu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function RE(m){for(let r of m)U.fill(r,-1);return m[yr][Nn]=0,m[oa][Nn]=0,m[oa][yr]=28,m[up][Nn]=0,m[ln][Nn]=0,m[ln][yr]=15,m}let dp=RE(U.createInt32Array(6,6));class Rn{constructor(r,i,s,a){this.token=r,this.mode=i,this.binaryShiftByteCount=s,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,i){let s=this.bitCount,a=this.token;if(r!==this.mode){let d=tu[this.mode][r];a=No(a,d&65535,d>>16),s+=d>>16}let l=r===ln?4:5;return a=No(a,i,l),new Rn(a,r,0,s+l)}shiftAndAppend(r,i){let s=this.token,a=this.mode===ln?4:5;return s=No(s,dp[this.mode][r],a),s=No(s,i,5),new Rn(s,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(r){let i=this.token,s=this.mode,a=this.bitCount;if(this.mode===Nn||this.mode===ln){let f=tu[s][yr];i=No(i,f&65535,f>>16),a+=f>>16,s=yr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new Rn(i,s,this.binaryShiftByteCount+1,a+l);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(r+1)),d}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=_E(i,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new Rn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let i=this.bitCount+(tu[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?i+=Rn.calculateBinaryShiftCost(r)-Rn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(i+=10),i<=r.bitCount}toBitArray(r){let i=[];for(let a=this.endBinaryShift(r.length).token;a!==null;a=a.getPrevious())i.unshift(a);let s=new ge;for(let a of i)a.appendTo(s,r);return s}toString(){return ce.format("%s bits=%d bytes=%d",ME[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}Rn.INITIAL_STATE=new Rn(NE,yr,0,0);function OE(m){let r=ce.getCharCode(" "),i=ce.getCharCode("."),s=ce.getCharCode(",");m[yr][r]=1;let a=ce.getCharCode("Z"),l=ce.getCharCode("A");for(let v=l;v<=a;v++)m[yr][v]=v-l+2;m[oa][r]=1;let d=ce.getCharCode("z"),f=ce.getCharCode("a");for(let v=f;v<=d;v++)m[oa][v]=v-f+2;m[ln][r]=1;let p=ce.getCharCode("9"),g=ce.getCharCode("0");for(let v=g;v<=p;v++)m[ln][v]=v-g+2;m[ln][s]=12,m[ln][i]=13;let C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"];for(let v=0;v<C.length;v++)m[up][ce.getCharCode(C[v])]=v;let x=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let v=0;v<x.length;v++)ce.getCharCode(x[v])>0&&(m[Nn][ce.getCharCode(x[v])]=v);return m}let nu=OE(U.createInt32Array(5,256));class Ro{constructor(r){this.text=r}encode(){let r=ce.getCharCode(" "),i=ce.getCharCode(`
`),s=lp.singletonList(Rn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let d,f=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ce.getCharCode("\r"):d=f===i?2:0;break;case ce.getCharCode("."):d=f===r?3:0;break;case ce.getCharCode(","):d=f===r?4:0;break;case ce.getCharCode(":"):d=f===r?5:0;break;default:d=0}d>0?(s=Ro.updateStateListForPair(s,l,d),l++):s=this.updateStateListForChar(s,l)}return lp.min(s,(l,d)=>l.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,i){let s=[];for(let a of r)this.updateStateForChar(a,i,s);return Ro.simplifyStates(s)}updateStateForChar(r,i,s){let a=this.text[i]&255,l=nu[r.getMode()][a]>0,d=null;for(let f=0;f<=Nn;f++){let p=nu[f][a];if(p>0){if(d==null&&(d=r.endBinaryShift(i)),!l||f===r.getMode()||f===ln){let g=d.latchAndAppend(f,p);s.push(g)}if(!l&&dp[r.getMode()][f]>=0){let g=d.shiftAndAppend(f,p);s.push(g)}}}if(r.getBinaryShiftByteCount()>0||nu[r.getMode()][a]===0){let f=r.addBinaryShiftChar(i);s.push(f)}}static updateStateListForPair(r,i,s){let a=[];for(let l of r)this.updateStateForPair(l,i,s,a);return this.simplifyStates(a)}static updateStateForPair(r,i,s,a){let l=r.endBinaryShift(i);if(a.push(l.latchAndAppend(Nn,s)),r.getMode()!==Nn&&a.push(l.shiftAndAppend(Nn,s)),s===3||s===4){let d=l.latchAndAppend(ln,16-s).latchAndAppend(ln,1);a.push(d)}if(r.getBinaryShiftByteCount()>0){let d=r.addBinaryShiftChar(i).addBinaryShiftChar(i+1);a.push(d)}}static simplifyStates(r){let i=[];for(let s of r){let a=!0;for(let l of i){if(l.isBetterThanOrEqualTo(s)){a=!1;break}s.isBetterThanOrEqualTo(l)&&(i=i.filter(d=>d!==l))}a&&i.push(s)}return i}}class _e{constructor(){}static encodeBytes(r){return _e.encode(r,_e.DEFAULT_EC_PERCENT,_e.DEFAULT_AZTEC_LAYERS)}static encode(r,i,s){let a=new Ro(r).encode(),l=V.truncDivision(a.getSize()*i,100)+11,d=a.getSize()+l,f,p,g,C,x;if(s!==_e.DEFAULT_AZTEC_LAYERS){if(f=s<0,p=Math.abs(s),p>(f?_e.MAX_NB_BITS_COMPACT:_e.MAX_NB_BITS))throw new E(ce.format("Illegal value %s for layers",s));g=_e.totalBitsInLayer(p,f),C=_e.WORD_SIZE[p];let P=g-g%C;if(x=_e.stuffBits(a,C),x.getSize()+l>P)throw new E("Data to large for user specified layer");if(f&&x.getSize()>C*64)throw new E("Data to large for user specified layer")}else{C=0,x=null;for(let P=0;;P++){if(P>_e.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(f=P<=3,p=f?P+1:P,g=_e.totalBitsInLayer(p,f),d>g)continue;(x==null||C!==_e.WORD_SIZE[p])&&(C=_e.WORD_SIZE[p],x=_e.stuffBits(a,C));let we=g-g%C;if(!(f&&x.getSize()>C*64)&&x.getSize()+l<=we)break}}let v=_e.generateCheckWords(x,g,C),A=x.getSize()/C,T=_e.generateModeMessage(f,p,A),S=(f?11:14)+p*4,M=new Int32Array(S),R;if(f){R=S;for(let P=0;P<M.length;P++)M[P]=P}else{R=S+1+2*V.truncDivision(V.truncDivision(S,2)-1,15);let P=V.truncDivision(S,2),we=V.truncDivision(R,2);for(let de=0;de<P;de++){let jt=de+V.truncDivision(de,15);M[P-de-1]=we-jt-1,M[P+de]=we+jt+1}}let B=new ct(R);for(let P=0,we=0;P<p;P++){let de=(p-P)*4+(f?9:12);for(let jt=0;jt<de;jt++){let In=jt*2;for(let Ut=0;Ut<2;Ut++)v.get(we+In+Ut)&&B.set(M[P*2+Ut],M[P*2+jt]),v.get(we+de*2+In+Ut)&&B.set(M[P*2+jt],M[S-1-P*2-Ut]),v.get(we+de*4+In+Ut)&&B.set(M[S-1-P*2-Ut],M[S-1-P*2-jt]),v.get(we+de*6+In+Ut)&&B.set(M[S-1-P*2-jt],M[P*2+Ut])}we+=de*8}if(_e.drawModeMessage(B,f,R,T),f)_e.drawBullsEye(B,V.truncDivision(R,2),5);else{_e.drawBullsEye(B,V.truncDivision(R,2),7);for(let P=0,we=0;P<V.truncDivision(S,2)-1;P+=15,we+=16)for(let de=V.truncDivision(R,2)&1;de<R;de+=2)B.set(V.truncDivision(R,2)-we,de),B.set(V.truncDivision(R,2)+we,de),B.set(de,V.truncDivision(R,2)-we),B.set(de,V.truncDivision(R,2)+we)}let Y=new cp;return Y.setCompact(f),Y.setSize(R),Y.setLayers(p),Y.setCodeWords(A),Y.setMatrix(B),Y}static drawBullsEye(r,i,s){for(let a=0;a<s;a+=2)for(let l=i-a;l<=i+a;l++)r.set(l,i-a),r.set(l,i+a),r.set(i-a,l),r.set(i+a,l);r.set(i-s,i-s),r.set(i-s+1,i-s),r.set(i-s,i-s+1),r.set(i+s,i-s),r.set(i+s,i-s+1),r.set(i+s,i+s-1)}static generateModeMessage(r,i,s){let a=new ge;return r?(a.appendBits(i-1,2),a.appendBits(s-1,6),a=_e.generateCheckWords(a,28,4)):(a.appendBits(i-1,5),a.appendBits(s-1,11),a=_e.generateCheckWords(a,40,4)),a}static drawModeMessage(r,i,s,a){let l=V.truncDivision(s,2);if(i)for(let d=0;d<7;d++){let f=l-3+d;a.get(d)&&r.set(f,l-5),a.get(d+7)&&r.set(l+5,f),a.get(20-d)&&r.set(f,l+5),a.get(27-d)&&r.set(l-5,f)}else for(let d=0;d<10;d++){let f=l-5+d+V.truncDivision(d,5);a.get(d)&&r.set(f,l-7),a.get(d+10)&&r.set(l+7,f),a.get(29-d)&&r.set(f,l+7),a.get(39-d)&&r.set(l-7,f)}}static generateCheckWords(r,i,s){let a=r.getSize()/s,l=new Ql(_e.getGF(s)),d=V.truncDivision(i,s),f=_e.bitsToWords(r,s,d);l.encode(f,d-a);let p=i%s,g=new ge;g.appendBits(0,p);for(let C of Array.from(f))g.appendBits(C,s);return g}static bitsToWords(r,i,s){let a=new Int32Array(s),l,d;for(l=0,d=r.getSize()/i;l<d;l++){let f=0;for(let p=0;p<i;p++)f|=r.get(l*i+p)?1<<i-p-1:0;a[l]=f}return a}static getGF(r){switch(r){case 4:return Ne.AZTEC_PARAM;case 6:return Ne.AZTEC_DATA_6;case 8:return Ne.AZTEC_DATA_8;case 10:return Ne.AZTEC_DATA_10;case 12:return Ne.AZTEC_DATA_12;default:throw new E("Unsupported word size "+r)}}static stuffBits(r,i){let s=new ge,a=r.getSize(),l=(1<<i)-2;for(let d=0;d<a;d+=i){let f=0;for(let p=0;p<i;p++)(d+p>=a||r.get(d+p))&&(f|=1<<i-1-p);(f&l)===l?(s.appendBits(f&l,i),d--):(f&l)===0?(s.appendBits(f|1,i),d--):s.appendBits(f,i)}return s}static totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}_e.DEFAULT_EC_PERCENT=33,_e.DEFAULT_AZTEC_LAYERS=0,_e.MAX_NB_BITS=32,_e.MAX_NB_BITS_COMPACT=4,_e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class sa{encode(r,i,s,a){return this.encodeWithHints(r,i,s,a,null)}encodeWithHints(r,i,s,a,l){let d=Jl.ISO_8859_1,f=_e.DEFAULT_EC_PERCENT,p=_e.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(it.CHARACTER_SET)&&(d=ap.forName(l.get(it.CHARACTER_SET).toString())),l.has(it.ERROR_CORRECTION)&&(f=V.parseInt(l.get(it.ERROR_CORRECTION).toString())),l.has(it.AZTEC_LAYERS)&&(p=V.parseInt(l.get(it.AZTEC_LAYERS).toString()))),sa.encodeLayers(r,i,s,a,d,f,p)}static encodeLayers(r,i,s,a,l,d,f){if(i!==re.AZTEC)throw new E("Can only encode AZTEC, but got "+i);let p=_e.encode(ce.getBytes(r,l),d,f);return sa.renderResult(p,s,a)}static renderResult(r,i,s){let a=r.getMatrix();if(a==null)throw new zn;let l=a.getWidth(),d=a.getHeight(),f=Math.max(i,l),p=Math.max(s,d),g=Math.min(f/l,p/d),C=(f-l*g)/2,x=(p-d*g)/2,v=new ct(f,p);for(let A=0,T=x;A<d;A++,T+=g)for(let S=0,M=C;S<l;S++,M+=g)a.get(S,A)&&v.setRegion(M,T,g,g);return v}}e.AbstractExpandedDecoder=Vl,e.ArgumentException=w,e.ArithmeticException=Ll,e.AztecCode=cp,e.AztecCodeReader=Zs,e.AztecCodeWriter=sa,e.AztecDecoder=Pl,e.AztecDetector=Gh,e.AztecDetectorResult=Hh,e.AztecEncoder=_e,e.AztecHighLevelEncoder=Ro,e.AztecPoint=St,e.BarcodeFormat=re,e.Binarizer=L,e.BinaryBitmap=I,e.BitArray=ge,e.BitMatrix=ct,e.BitSource=Wl,e.BrowserAztecCodeReader=Zy,e.BrowserBarcodeReader=oE,e.BrowserCodeReader=Ur,e.BrowserDatamatrixCodeReader=aE,e.BrowserMultiFormatReader=xE,e.BrowserPDF417Reader=vE,e.BrowserQRCodeReader=IE,e.BrowserQRCodeSvgWriter=AE,e.CharacterSetECI=z,e.ChecksumException=b,e.Code128Reader=$,e.Code39Reader=kl,e.DataMatrixDecodedBitStreamParser=pr,e.DataMatrixReader=ea,e.DecodeHintType=Ee,e.DecoderResult=xo,e.DefaultGridSampler=zh,e.DetectorResult=qs,e.EAN13Reader=Qs,e.EncodeHintType=it,e.Exception=y,e.FormatException=H,e.GenericGF=Ne,e.GenericGFPoly=kt,e.GlobalHistogramBinarizer=lt,e.GridSampler=Fl,e.GridSamplerInstance=dr,e.HTMLCanvasElementLuminanceSource=ur,e.HybridBinarizer=he,e.ITFReader=je,e.IllegalArgumentException=E,e.IllegalStateException=zn,e.InvertedLuminanceSource=lr,e.LuminanceSource=Co,e.MathUtils=Se,e.MultiFormatOneDReader=Ai,e.MultiFormatReader=ip,e.MultiFormatWriter=TE,e.NotFoundException=F,e.OneDReader=Je,e.PDF417DecodedBitStreamParser=O,e.PDF417DecoderErrorCorrection=Kh,e.PDF417Reader=Et,e.PDF417ResultMetadata=tp,e.PerspectiveTransform=En,e.PlanarYUVLuminanceSource=bE,e.QRCodeByteMatrix=ra,e.QRCodeDataMask=cn,e.QRCodeDecodedBitStreamParser=Zh,e.QRCodeDecoderErrorCorrectionLevel=ze,e.QRCodeDecoderFormatInformation=At,e.QRCodeEncoder=We,e.QRCodeEncoderQRCode=ia,e.QRCodeMaskUtil=Ti,e.QRCodeMatrixUtil=ie,e.QRCodeMode=ne,e.QRCodeReader=gr,e.QRCodeVersion=ee,e.QRCodeWriter=sp,e.RGBLuminanceSource=Kl,e.RSS14Reader=Qe,e.RSSExpandedReader=k,e.ReaderException=Zl,e.ReedSolomonDecoder=Do,e.ReedSolomonEncoder=Ql,e.ReedSolomonException=Io,e.Result=bt,e.ResultMetadataType=ut,e.ResultPoint=K,e.StringUtils=ce,e.UnsupportedOperationException=wo,e.VideoInputDevice=jh,e.WhiteRectangleDetector=Xs,e.WriterException=Ge,e.ZXingArrays=U,e.ZXingCharset=ap,e.ZXingInteger=V,e.ZXingStandardCharsets=Jl,e.ZXingStringBuilder=Be,e.ZXingStringEncoding=Ft,e.ZXingSystem=_,e.createAbstractExpandedDecoder=Xh,Object.defineProperty(e,"__esModule",{value:!0})})});var iu;function ou(){return iu}function Gn(e){let t=iu;return iu=e,t}var $E=Symbol("NotFound"),aa=class extends Error{name="\u0275NotFound";constructor(t){super(t)}};function Mi(e){return e===$E||e?.name==="\u0275NotFound"}function gp(e,t){return Object.is(e,t)}var ot=null,ca=!1,au=1;var la=Symbol("SIGNAL");function xe(e){let t=ot;return ot=e,t}function cu(){return ot}var ua={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lu(e){if(ca)throw new Error("");if(ot===null)return;ot.consumerOnSignalRead(e);let t=ot.nextProducerIndex++;if(pa(ot),t<ot.producerNode.length&&ot.producerNode[t]!==e&&Oo(ot)){let n=ot.producerNode[t];ha(n,ot.producerIndexOfThis[t])}ot.producerNode[t]!==e&&(ot.producerNode[t]=e,ot.producerIndexOfThis[t]=Oo(ot)?wp(e,ot,t):0),ot.producerLastReadVersion[t]=e.version}function mp(){au++}function yp(e){if(!(Oo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===au)){if(!e.producerMustRecompute(e)&&!fa(e)){su(e);return}e.producerRecomputeValue(e),su(e)}}function uu(e){if(e.liveConsumerNode===void 0)return;let t=ca;ca=!0;try{for(let n of e.liveConsumerNode)n.dirty||YE(n)}finally{ca=t}}function Ep(){return ot?.consumerAllowSignalWrites!==!1}function YE(e){e.dirty=!0,uu(e),e.consumerMarkedDirty?.(e)}function su(e){e.dirty=!1,e.lastCleanEpoch=au}function da(e){return e&&(e.nextProducerIndex=0),xe(e)}function du(e,t){if(xe(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Oo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)ha(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function fa(e){pa(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==n.version||(yp(n),o!==n.version))return!0}return!1}function fu(e){if(pa(e),Oo(e))for(let t=0;t<e.producerNode.length;t++)ha(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function wp(e,t,n){if(Cp(e),e.liveConsumerNode.length===0&&xp(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=wp(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function ha(e,t){if(Cp(e),e.liveConsumerNode.length===1&&xp(e))for(let o=0;o<e.producerNode.length;o++)ha(e.producerNode[o],e.producerIndexOfThis[o]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let o=e.liveConsumerIndexOfThis[t],c=e.liveConsumerNode[t];pa(c),c.producerIndexOfThis[o]=t}}function Oo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function pa(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Cp(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function xp(e){return e.producerNode!==void 0}function qE(){throw new Error}var vp=qE;function XE(e){vp(e)}function hu(e){vp=e}var ZE=null;function pu(e,t){Ep()||XE(e),e.equal(e.value,t)||(e.value=t,QE(e))}var gu=$e(Z({},ua),{equal:gp,value:void 0,kind:"signal"});function QE(e){e.version++,mp(),uu(e),ZE?.(e)}function le(e){return typeof e=="function"}function Ni(e){let n=e(o=>{Error.call(o),o.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ga=Ni(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((o,c)=>`${c+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Lo(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var et=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let u of n)u.remove(this);else n.remove(this);let{initialTeardown:o}=this;if(le(o))try{o()}catch(u){t=u instanceof ga?u.errors:[u]}let{_finalizers:c}=this;if(c){this._finalizers=null;for(let u of c)try{Ip(u)}catch(h){t=t??[],h instanceof ga?t=[...t,...h.errors]:t.push(h)}}if(t)throw new ga(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Ip(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Lo(n,t)}remove(t){let{_finalizers:n}=this;n&&Lo(n,t),t instanceof e&&t._removeParent(this)}};et.EMPTY=(()=>{let e=new et;return e.closed=!0,e})();var mu=et.EMPTY;function ma(e){return e instanceof et||e&&"closed"in e&&le(e.remove)&&le(e.add)&&le(e.unsubscribe)}function Ip(e){le(e)?e():e.unsubscribe()}var Dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ri={setTimeout(e,t,...n){let{delegate:o}=Ri;return o?.setTimeout?o.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Ri;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ya(e){Ri.setTimeout(()=>{let{onUnhandledError:t}=Dn;if(t)t(e);else throw e})}function Po(){}var Dp=yu("C",void 0,void 0);function Ap(e){return yu("E",void 0,e)}function Tp(e){return yu("N",e,void 0)}function yu(e,t,n){return{kind:e,value:t,error:n}}var Wr=null;function Oi(e){if(Dn.useDeprecatedSynchronousErrorHandling){let t=!Wr;if(t&&(Wr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:o}=Wr;if(Wr=null,n)throw o}}else e()}function bp(e){Dn.useDeprecatedSynchronousErrorHandling&&Wr&&(Wr.errorThrown=!0,Wr.error=e)}var $r=class extends et{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ma(t)&&t.add(this)):this.destination=ew}static create(t,n,o){return new Li(t,n,o)}next(t){this.isStopped?wu(Tp(t),this):this._next(t)}error(t){this.isStopped?wu(Ap(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?wu(Dp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KE=Function.prototype.bind;function Eu(e,t){return KE.call(e,t)}var Cu=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(o){Ea(o)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(o){Ea(o)}else Ea(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ea(n)}}},Li=class extends $r{constructor(t,n,o){super();let c;if(le(t)||!t)c={next:t??void 0,error:n??void 0,complete:o??void 0};else{let u;this&&Dn.useDeprecatedNextContext?(u=Object.create(t),u.unsubscribe=()=>this.unsubscribe(),c={next:t.next&&Eu(t.next,u),error:t.error&&Eu(t.error,u),complete:t.complete&&Eu(t.complete,u)}):c=t}this.destination=new Cu(c)}};function Ea(e){Dn.useDeprecatedSynchronousErrorHandling?bp(e):ya(e)}function JE(e){throw e}function wu(e,t){let{onStoppedNotification:n}=Dn;n&&Ri.setTimeout(()=>n(e,t))}var ew={closed:!0,next:Po,error:JE,complete:Po};var Pi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Jt(e){return e}function xu(...e){return vu(e)}function vu(e){return e.length===0?Jt:e.length===1?e[0]:function(n){return e.reduce((o,c)=>c(o),n)}}var Ie=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let o=new e;return o.source=this,o.operator=n,o}subscribe(n,o,c){let u=nw(n)?n:new Li(n,o,c);return Oi(()=>{let{operator:h,source:y}=this;u.add(h?h.call(u,y):y?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(n){try{return this._subscribe(n)}catch(o){n.error(o)}}forEach(n,o){return o=Sp(o),new o((c,u)=>{let h=new Li({next:y=>{try{n(y)}catch(w){u(w),h.unsubscribe()}},error:u,complete:c});this.subscribe(h)})}_subscribe(n){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(n)}[Pi](){return this}pipe(...n){return vu(n)(this)}toPromise(n){return n=Sp(n),new n((o,c)=>{let u;this.subscribe(h=>u=h,h=>c(h),()=>o(u))})}}return e.create=t=>new e(t),e})();function Sp(e){var t;return(t=e??Dn.Promise)!==null&&t!==void 0?t:Promise}function tw(e){return e&&le(e.next)&&le(e.error)&&le(e.complete)}function nw(e){return e&&e instanceof $r||tw(e)&&ma(e)}function Iu(e){return le(e?.lift)}function Ae(e){return t=>{if(Iu(t))return t.lift(function(n){try{return e(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(e,t,n,o,c){return new Du(e,t,n,o,c)}var Du=class extends $r{constructor(t,n,o,c,u,h){super(t),this.onFinalize=u,this.shouldUnsubscribe=h,this._next=n?function(y){try{n(y)}catch(w){t.error(w)}}:super._next,this._error=c?function(y){try{c(y)}catch(w){t.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(y){t.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Fi(){return Ae((e,t)=>{let n=null;e._refCount++;let o=Te(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let c=e._connection,u=n;n=null,c&&(!u||c===u)&&c.unsubscribe(),t.unsubscribe()});e.subscribe(o),o.closed||(n=e.connect())})}var ki=class extends Ie{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Iu(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new et;let n=this.getSubject();t.add(this.source.subscribe(Te(n,void 0,()=>{this._teardown(),n.complete()},o=>{this._teardown(),n.error(o)},()=>this._teardown()))),t.closed&&(this._connection=null,t=et.EMPTY)}return t}refCount(){return Fi()(this)}};var _p=Ni(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ct=(()=>{class e extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let o=new wa(this,this);return o.operator=n,o}_throwIfClosed(){if(this.closed)throw new _p}next(n){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(n)}})}error(n){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:o}=this;for(;o.length;)o.shift().error(n)}})}complete(){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:o,isStopped:c,observers:u}=this;return o||c?mu:(this.currentObservers=null,u.push(n),new et(()=>{this.currentObservers=null,Lo(u,n)}))}_checkFinalizedStatuses(n){let{hasError:o,thrownError:c,isStopped:u}=this;o?n.error(c):u&&n.complete()}asObservable(){let n=new Ie;return n.source=this,n}}return e.create=(t,n)=>new wa(t,n),e})(),wa=class extends Ct{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,t)}error(t){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&o!==void 0?o:mu}};var xt=class extends Ct{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:o}=this;if(t)throw n;return this._throwIfClosed(),o}next(t){super.next(this._value=t)}};var Vt=new Ie(e=>e.complete());function Mp(e){return e&&le(e.schedule)}function Np(e){return e[e.length-1]}function Rp(e){return le(Np(e))?e.pop():void 0}function Er(e){return Mp(Np(e))?e.pop():void 0}function Lp(e,t,n,o){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function y(I){try{E(o.next(I))}catch(b){h(b)}}function w(I){try{E(o.throw(I))}catch(b){h(b)}}function E(I){I.done?u(I.value):c(I.value).then(y,w)}E((o=o.apply(e,t||[])).next())})}function Op(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yr(e){return this instanceof Yr?(this.v=e,this):new Yr(e)}function Pp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),c,u=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",h),c[Symbol.asyncIterator]=function(){return this},c;function h(_){return function(G){return Promise.resolve(G).then(_,b)}}function y(_,G){o[_]&&(c[_]=function(W){return new Promise(function(U,V){u.push([_,W,U,V])>1||w(_,W)})},G&&(c[_]=G(c[_])))}function w(_,G){try{E(o[_](G))}catch(W){L(u[0][3],W)}}function E(_){_.value instanceof Yr?Promise.resolve(_.value.v).then(I,b):L(u[0][2],_)}function I(_){w("next",_)}function b(_){w("throw",_)}function L(_,G){_(G),u.shift(),u.length&&w(u[0][0],u[0][1])}}function Fp(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Op=="function"?Op(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(u){n[u]=e[u]&&function(h){return new Promise(function(y,w){h=e[u](h),c(y,w,h.done,h.value)})}}function c(u,h,y,w){Promise.resolve(w).then(function(E){u({value:E,done:y})},h)}}var Ca=e=>e&&typeof e.length=="number"&&typeof e!="function";function xa(e){return le(e?.then)}function va(e){return le(e[Pi])}function Ia(e){return Symbol.asyncIterator&&le(e?.[Symbol.asyncIterator])}function Da(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function rw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Aa=rw();function Ta(e){return le(e?.[Aa])}function ba(e){return Pp(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:o,done:c}=yield Yr(n.read());if(c)return yield Yr(void 0);yield yield Yr(o)}}finally{n.releaseLock()}})}function Sa(e){return le(e?.getReader)}function ft(e){if(e instanceof Ie)return e;if(e!=null){if(va(e))return iw(e);if(Ca(e))return ow(e);if(xa(e))return sw(e);if(Ia(e))return kp(e);if(Ta(e))return aw(e);if(Sa(e))return cw(e)}throw Da(e)}function iw(e){return new Ie(t=>{let n=e[Pi]();if(le(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ow(e){return new Ie(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function sw(e){return new Ie(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ya)})}function aw(e){return new Ie(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function kp(e){return new Ie(t=>{lw(e,t).catch(n=>t.error(n))})}function cw(e){return kp(ba(e))}function lw(e,t){var n,o,c,u;return Lp(this,void 0,void 0,function*(){try{for(n=Fp(e);o=yield n.next(),!o.done;){let h=o.value;if(t.next(h),t.closed)return}}catch(h){c={error:h}}finally{try{o&&!o.done&&(u=n.return)&&(yield u.call(n))}finally{if(c)throw c.error}}t.complete()})}function Ht(e,t,n,o=0,c=!1){let u=t.schedule(function(){n(),c?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(u),!c)return u}function _a(e,t=0){return Ae((n,o)=>{n.subscribe(Te(o,c=>Ht(o,e,()=>o.next(c),t),()=>Ht(o,e,()=>o.complete(),t),c=>Ht(o,e,()=>o.error(c),t)))})}function Ma(e,t=0){return Ae((n,o)=>{o.add(e.schedule(()=>n.subscribe(o),t))})}function Bp(e,t){return ft(e).pipe(Ma(t),_a(t))}function jp(e,t){return ft(e).pipe(Ma(t),_a(t))}function Up(e,t){return new Ie(n=>{let o=0;return t.schedule(function(){o===e.length?n.complete():(n.next(e[o++]),n.closed||this.schedule())})})}function Vp(e,t){return new Ie(n=>{let o;return Ht(n,t,()=>{o=e[Aa](),Ht(n,t,()=>{let c,u;try{({value:c,done:u}=o.next())}catch(h){n.error(h);return}u?n.complete():n.next(c)},0,!0)}),()=>le(o?.return)&&o.return()})}function Na(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ie(n=>{Ht(n,t,()=>{let o=e[Symbol.asyncIterator]();Ht(n,t,()=>{o.next().then(c=>{c.done?n.complete():n.next(c.value)})},0,!0)})})}function Hp(e,t){return Na(ba(e),t)}function zp(e,t){if(e!=null){if(va(e))return Bp(e,t);if(Ca(e))return Up(e,t);if(xa(e))return jp(e,t);if(Ia(e))return Na(e,t);if(Ta(e))return Vp(e,t);if(Sa(e))return Hp(e,t)}throw Da(e)}function tt(e,t){return t?zp(e,t):ft(e)}function ae(...e){let t=Er(e);return tt(e,t)}function Bi(e,t){let n=le(e)?e:()=>e,o=c=>c.error(n());return new Ie(t?c=>t.schedule(o,0,c):o)}function Au(e){return!!e&&(e instanceof Ie||le(e.lift)&&le(e.subscribe))}var Wn=Ni(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ye(e,t){return Ae((n,o)=>{let c=0;n.subscribe(Te(o,u=>{o.next(e.call(t,u,c++))}))})}var{isArray:uw}=Array;function dw(e,t){return uw(t)?e(...t):e(t)}function Gp(e){return ye(t=>dw(e,t))}var{isArray:fw}=Array,{getPrototypeOf:hw,prototype:pw,keys:gw}=Object;function Wp(e){if(e.length===1){let t=e[0];if(fw(t))return{args:t,keys:null};if(mw(t)){let n=gw(t);return{args:n.map(o=>t[o]),keys:n}}}return{args:e,keys:null}}function mw(e){return e&&typeof e=="object"&&hw(e)===pw}function $p(e,t){return e.reduce((n,o,c)=>(n[o]=t[c],n),{})}function Ra(...e){let t=Er(e),n=Rp(e),{args:o,keys:c}=Wp(e);if(o.length===0)return tt([],t);let u=new Ie(yw(o,t,c?h=>$p(c,h):Jt));return n?u.pipe(Gp(n)):u}function yw(e,t,n=Jt){return o=>{Yp(t,()=>{let{length:c}=e,u=new Array(c),h=c,y=c;for(let w=0;w<c;w++)Yp(t,()=>{let E=tt(e[w],t),I=!1;E.subscribe(Te(o,b=>{u[w]=b,I||(I=!0,y--),y||o.next(n(u.slice()))},()=>{--h||o.complete()}))},o)},o)}}function Yp(e,t,n){e?Ht(n,e,t):t()}function qp(e,t,n,o,c,u,h,y){let w=[],E=0,I=0,b=!1,L=()=>{b&&!w.length&&!E&&t.complete()},_=W=>E<o?G(W):w.push(W),G=W=>{u&&t.next(W),E++;let U=!1;ft(n(W,I++)).subscribe(Te(t,V=>{c?.(V),u?_(V):t.next(V)},()=>{U=!0},void 0,()=>{if(U)try{for(E--;w.length&&E<o;){let V=w.shift();h?Ht(t,h,()=>G(V)):G(V)}L()}catch(V){t.error(V)}}))};return e.subscribe(Te(t,_,()=>{b=!0,L()})),()=>{y?.()}}function st(e,t,n=1/0){return le(t)?st((o,c)=>ye((u,h)=>t(o,u,c,h))(ft(e(o,c))),n):(typeof t=="number"&&(n=t),Ae((o,c)=>qp(o,c,e,n)))}function Xp(e=1/0){return st(Jt,e)}function Zp(){return Xp(1)}function ji(...e){return Zp()(tt(e,Er(e)))}function Fo(e){return new Ie(t=>{ft(e()).subscribe(t)})}function zt(e,t){return Ae((n,o)=>{let c=0;n.subscribe(Te(o,u=>e.call(t,u,c++)&&o.next(u)))})}function wr(e){return Ae((t,n)=>{let o=null,c=!1,u;o=t.subscribe(Te(n,void 0,void 0,h=>{u=ft(e(h,wr(e)(t))),o?(o.unsubscribe(),o=null,u.subscribe(n)):c=!0})),c&&(o.unsubscribe(),o=null,u.subscribe(n))})}function Qp(e,t,n,o,c){return(u,h)=>{let y=n,w=t,E=0;u.subscribe(Te(h,I=>{let b=E++;w=y?e(w,I,b):(y=!0,I),o&&h.next(w)},c&&(()=>{y&&h.next(w),h.complete()})))}}function Cr(e,t){return le(t)?st(e,t,1):st(e,1)}function xr(e){return Ae((t,n)=>{let o=!1;t.subscribe(Te(n,c=>{o=!0,n.next(c)},()=>{o||n.next(e),n.complete()}))})}function $n(e){return e<=0?()=>Vt:Ae((t,n)=>{let o=0;t.subscribe(Te(n,c=>{++o<=e&&(n.next(c),e<=o&&n.complete())}))})}function Oa(e=Ew){return Ae((t,n)=>{let o=!1;t.subscribe(Te(n,c=>{o=!0,n.next(c)},()=>o?n.complete():n.error(e())))})}function Ew(){return new Wn}function vr(e){return Ae((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Yn(e,t){let n=arguments.length>=2;return o=>o.pipe(e?zt((c,u)=>e(c,u,o)):Jt,$n(1),n?xr(t):Oa(()=>new Wn))}function Ui(e){return e<=0?()=>Vt:Ae((t,n)=>{let o=[];t.subscribe(Te(n,c=>{o.push(c),e<o.length&&o.shift()},()=>{for(let c of o)n.next(c);n.complete()},void 0,()=>{o=null}))})}function Tu(e,t){let n=arguments.length>=2;return o=>o.pipe(e?zt((c,u)=>e(c,u,o)):Jt,Ui(1),n?xr(t):Oa(()=>new Wn))}function bu(e,t){return Ae(Qp(e,t,arguments.length>=2,!0))}function Su(...e){let t=Er(e);return Ae((n,o)=>{(t?ji(e,n,t):ji(e,n)).subscribe(o)})}function Gt(e,t){return Ae((n,o)=>{let c=null,u=0,h=!1,y=()=>h&&!c&&o.complete();n.subscribe(Te(o,w=>{c?.unsubscribe();let E=0,I=u++;ft(e(w,I)).subscribe(c=Te(o,b=>o.next(t?t(w,b,I,E++):b),()=>{c=null,y()}))},()=>{h=!0,y()}))})}function La(e){return Ae((t,n)=>{ft(e).subscribe(Te(n,()=>n.complete(),Po)),!n.closed&&t.subscribe(n)})}function ht(e,t,n){let o=le(e)||t||n?{next:e,error:t,complete:n}:e;return o?Ae((c,u)=>{var h;(h=o.subscribe)===null||h===void 0||h.call(o);let y=!0;c.subscribe(Te(u,w=>{var E;(E=o.next)===null||E===void 0||E.call(o,w),u.next(w)},()=>{var w;y=!1,(w=o.complete)===null||w===void 0||w.call(o),u.complete()},w=>{var E;y=!1,(E=o.error)===null||E===void 0||E.call(o,w),u.error(w)},()=>{var w,E;y&&((w=o.unsubscribe)===null||w===void 0||w.call(o)),(E=o.finalize)===null||E===void 0||E.call(o)}))}):Jt}var Q=class extends Error{code;constructor(t,n){super(Ua(t,n)),this.code=t}};function Cw(e){return`NG0${Math.abs(e)}`}function Ua(e,t){return`${Cw(e)}${t?": "+t:""}`}function Ye(e){for(let t in e)if(e[t]===Ye)return t;throw Error("")}function en(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(en).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let o=n.indexOf(`
`);return o>=0?n.slice(0,o):n}function Vu(e,t){return e?t?`${e} ${t}`:e:t||""}var xw=Ye({__forward_ref__:Ye});function Va(e){return e.__forward_ref__=Va,e.toString=function(){return en(this())},e}function Wt(e){return Hu(e)?e():e}function Hu(e){return typeof e=="function"&&e.hasOwnProperty(xw)&&e.__forward_ref__===Va}function tg(e,t,n,o){throw new Error(`ASSERTION ERROR: ${e}`+(o==null?"":` [Expected=> ${n} ${o} ${t} <=Actual]`))}function te(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Tr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Uo(e){return vw(e,Ha)}function zu(e){return Uo(e)!==null}function vw(e,t){return e.hasOwnProperty(t)&&e[t]||null}function Iw(e){let t=e?.[Ha]??null;return t||null}function Mu(e){return e&&e.hasOwnProperty(Fa)?e[Fa]:null}var Ha=Ye({\u0275prov:Ye}),Fa=Ye({\u0275inj:Ye}),J=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=te({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Gu(e){return e&&!!e.\u0275providers}var Wu=Ye({\u0275cmp:Ye}),$u=Ye({\u0275dir:Ye}),Yu=Ye({\u0275pipe:Ye}),qu=Ye({\u0275mod:Ye}),Bo=Ye({\u0275fac:Ye}),Qr=Ye({__NG_ELEMENT_ID__:Ye}),Kp=Ye({__NG_ENV_ID__:Ye});function Xu(e){return typeof e=="string"?e:e==null?"":String(e)}function ng(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Xu(e)}function Zu(e,t){throw new Q(-200,e)}function za(e,t){throw new Q(-201,!1)}var Nu;function rg(){return Nu}function _t(e){let t=Nu;return Nu=e,t}function Qu(e,t,n){let o=Uo(e);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(n&8)return null;if(t!==void 0)return t;za(e,"Injector")}var Dw={},qr=Dw,Ru="__NG_DI_FLAG__",Ou=class{injector;constructor(t){this.injector=t}retrieve(t,n){let o=Xr(n)||0;try{return this.injector.get(t,o&8?null:qr,o)}catch(c){if(Mi(c))return c;throw c}}},ka="ngTempTokenPath",Aw="ngTokenPath",Tw=/\n/gm,bw="\u0275",Jp="__source";function Sw(e,t=0){let n=ou();if(n===void 0)throw new Q(-203,!1);if(n===null)return Qu(e,void 0,t);{let o=_w(t),c=n.retrieve(e,o);if(Mi(c)){if(o.optional)return null;throw c}return c}}function se(e,t=0){return(rg()||Sw)(Wt(e),t)}function j(e,t){return se(e,Xr(t))}function Xr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function _w(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Lu(e){let t=[];for(let n=0;n<e.length;n++){let o=Wt(e[n]);if(Array.isArray(o)){if(o.length===0)throw new Q(900,!1);let c,u=0;for(let h=0;h<o.length;h++){let y=o[h],w=Mw(y);typeof w=="number"?w===-1?c=y.token:u|=w:c=y}t.push(se(c,u))}else t.push(se(o))}return t}function Ku(e,t){return e[Ru]=t,e.prototype[Ru]=t,e}function Mw(e){return e[Ru]}function Nw(e,t,n,o){let c=e[ka];throw t[Jp]&&c.unshift(t[Jp]),e.message=Rw(`
`+e.message,c,n,o),e[Aw]=c,e[ka]=null,e}function Rw(e,t,n,o=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==bw?e.slice(2):e;let c=en(t);if(Array.isArray(t))c=t.map(en).join(" -> ");else if(typeof t=="object"){let u=[];for(let h in t)if(t.hasOwnProperty(h)){let y=t[h];u.push(h+":"+(typeof y=="string"?JSON.stringify(y):en(y)))}c=`{${u.join(", ")}}`}return`${n}${o?"("+o+")":""}[${c}]: ${e.replace(Tw,`
  `)}`}function Ir(e,t){let n=e.hasOwnProperty(Bo);return n?e[Bo]:null}function Ga(e,t){e.forEach(n=>Array.isArray(n)?Ga(n,t):t(n))}function Ju(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Vo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var Kr={},An=[],Xn=new J(""),ed=new J("",-1),td=new J(""),jo=class{get(t,n=qr){if(n===qr)throw new aa(`NullInjectorError: No provider for ${en(t)}!`);return n}};function nd(e){return e[qu]||null}function br(e){return e[Wu]||null}function rd(e){return e[$u]||null}function ig(e){return e[Yu]||null}function Zn(e){return{\u0275providers:e}}function og(e){return Zn([{provide:Xn,multi:!0,useValue:e}])}function sg(...e){return{\u0275providers:id(!0,e),\u0275fromNgModule:!0}}function id(e,...t){let n=[],o=new Set,c,u=h=>{n.push(h)};return Ga(t,h=>{let y=h;Ba(y,u,[],o)&&(c||=[],c.push(y))}),c!==void 0&&ag(c,u),n}function ag(e,t){for(let n=0;n<e.length;n++){let{ngModule:o,providers:c}=e[n];od(c,u=>{t(u,o)})}}function Ba(e,t,n,o){if(e=Wt(e),!e)return!1;let c=null,u=Mu(e),h=!u&&br(e);if(!u&&!h){let w=e.ngModule;if(u=Mu(w),u)c=w;else return!1}else{if(h&&!h.standalone)return!1;c=e}let y=o.has(c);if(h){if(y)return!1;if(o.add(c),h.dependencies){let w=typeof h.dependencies=="function"?h.dependencies():h.dependencies;for(let E of w)Ba(E,t,n,o)}}else if(u){if(u.imports!=null&&!y){o.add(c);let E;try{Ga(u.imports,I=>{Ba(I,t,n,o)&&(E||=[],E.push(I))})}finally{}E!==void 0&&ag(E,t)}if(!y){let E=Ir(c)||(()=>new c);t({provide:c,useFactory:E,deps:An},c),t({provide:td,useValue:c,multi:!0},c),t({provide:Xn,useValue:()=>se(c),multi:!0},c)}let w=u.providers;if(w!=null&&!y){let E=e;od(w,I=>{t(I,E)})}}else return!1;return c!==e&&e.providers!==void 0}function od(e,t){for(let n of e)Gu(n)&&(n=n.\u0275providers),Array.isArray(n)?od(n,t):t(n)}var Ow=Ye({provide:String,useValue:Ye});function cg(e){return e!==null&&typeof e=="object"&&Ow in e}function Lw(e){return!!(e&&e.useExisting)}function Pw(e){return!!(e&&e.useFactory)}function ja(e){return typeof e=="function"}var Ho=new J(""),Pa={},eg={},_u;function zo(){return _u===void 0&&(_u=new jo),_u}var at=class{},Zr=class extends at{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,o,c){super(),this.parent=n,this.source=o,this.scopes=c,Fu(t,h=>this.processProvider(h)),this.records.set(ed,Vi(void 0,this)),c.has("environment")&&this.records.set(at,Vi(void 0,this));let u=this.records.get(Ho);u!=null&&typeof u.value=="string"&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(td,An,{self:!0}))}retrieve(t,n){let o=Xr(n)||0;try{return this.get(t,qr,o)}catch(c){if(Mi(c))return c;throw c}}destroy(){ko(this),this._destroyed=!0;let t=xe(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(t)}}onDestroy(t){return ko(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){ko(this);let n=Gn(this),o=_t(void 0),c;try{return t()}finally{Gn(n),_t(o)}}get(t,n=qr,o){if(ko(this),t.hasOwnProperty(Kp))return t[Kp](this);let c=Xr(o),u,h=Gn(this),y=_t(void 0);try{if(!(c&4)){let E=this.records.get(t);if(E===void 0){let I=Uw(t)&&Uo(t);I&&this.injectableDefInScope(I)?E=Vi(Pu(t),Pa):E=null,this.records.set(t,E)}if(E!=null)return this.hydrate(t,E)}let w=c&2?zo():this.parent;return n=c&8&&n===qr?null:n,w.get(t,n)}catch(w){if(Mi(w)){if((w[ka]=w[ka]||[]).unshift(en(t)),h)throw w;return Nw(w,t,"R3InjectorError",this.source)}else throw w}finally{_t(y),Gn(h)}}resolveInjectorInitializers(){let t=xe(null),n=Gn(this),o=_t(void 0),c;try{let u=this.get(Xn,An,{self:!0});for(let h of u)h()}finally{Gn(n),_t(o),xe(t)}}toString(){let t=[],n=this.records;for(let o of n.keys())t.push(en(o));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Wt(t);let n=ja(t)?t:Wt(t&&t.provide),o=kw(t);if(!ja(t)&&t.multi===!0){let c=this.records.get(n);c||(c=Vi(void 0,Pa,!0),c.factory=()=>Lu(c.multi),this.records.set(n,c)),n=t,c.multi.push(t)}this.records.set(n,o)}hydrate(t,n){let o=xe(null);try{return n.value===eg?Zu(en(t)):n.value===Pa&&(n.value=eg,n.value=n.factory()),typeof n.value=="object"&&n.value&&jw(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{xe(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Wt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Pu(e){let t=Uo(e),n=t!==null?t.factory:Ir(e);if(n!==null)return n;if(e instanceof J)throw new Q(204,!1);if(e instanceof Function)return Fw(e);throw new Q(204,!1)}function Fw(e){if(e.length>0)throw new Q(204,!1);let n=Iw(e);return n!==null?()=>n.factory(e):()=>new e}function kw(e){if(cg(e))return Vi(void 0,e.useValue);{let t=lg(e);return Vi(t,Pa)}}function lg(e,t,n){let o;if(ja(e)){let c=Wt(e);return Ir(c)||Pu(c)}else if(cg(e))o=()=>Wt(e.useValue);else if(Pw(e))o=()=>e.useFactory(...Lu(e.deps||[]));else if(Lw(e))o=()=>se(Wt(e.useExisting));else{let c=Wt(e&&(e.useClass||e.provide));if(Bw(e))o=()=>new c(...Lu(e.deps));else return Ir(c)||Pu(c)}return o}function ko(e){if(e.destroyed)throw new Q(205,!1)}function Vi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Bw(e){return!!e.deps}function jw(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Uw(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Fu(e,t){for(let n of e)Array.isArray(n)?Fu(n,t):n&&Gu(n)?Fu(n.\u0275providers,t):t(n)}function Mt(e,t){let n;e instanceof Zr?(ko(e),n=e):n=new Ou(e);let o,c=Gn(n),u=_t(void 0);try{return t()}finally{Gn(c),_t(u)}}function ug(){return rg()!==void 0||ou()!=null}var Tn=0,Ce=1,ue=2,vt=3,un=4,dn=5,Go=6,Hi=7,Nt=8,Jr=9,Qn=10,It=11,zi=12,sd=13,ei=14,fn=15,ti=16,ni=17,ri=18,Wo=19,ad=20,qn=21,Wa=22,$o=23,tn=24,$a=25,nn=26,dg=1;var Sr=7,Yo=8,qo=9,$t=10;function Pn(e){return Array.isArray(e)&&typeof e[dg]=="object"}function bn(e){return Array.isArray(e)&&e[dg]===!0}function cd(e){return(e.flags&4)!==0}function _r(e){return e.componentOffset>-1}function Ya(e){return(e.flags&1)===1}function ii(e){return!!e.template}function Gi(e){return(e[ue]&512)!==0}function oi(e){return(e[ue]&256)===256}var fg="svg",hg="math";function hn(e){for(;Array.isArray(e);)e=e[Tn];return e}function pg(e,t){return hn(t[e])}function Fn(e,t){return hn(t[e.index])}function qa(e,t){return e.data[t]}function gg(e,t){return e[t]}function ld(e,t,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=o}function pn(e,t){let n=t[e];return Pn(n)?n:n[Tn]}function Xa(e){return(e[ue]&128)===128}function mg(e){return bn(e[vt])}function Xo(e,t){return t==null?null:e[t]}function ud(e){e[ni]=0}function dd(e){e[ue]&1024||(e[ue]|=1024,Xa(e)&&Qo(e))}function yg(e,t){for(;e>0;)t=t[ei],e--;return t}function Zo(e){return!!(e[ue]&9216||e[tn]?.dirty)}function Za(e){e[Qn].changeDetectionScheduler?.notify(8),e[ue]&64&&(e[ue]|=1024),Zo(e)&&Qo(e)}function Qo(e){e[Qn].changeDetectionScheduler?.notify(0);let t=Dr(e);for(;t!==null&&!(t[ue]&8192||(t[ue]|=8192,!Xa(t)));)t=Dr(t)}function fd(e,t){if(oi(e))throw new Q(911,!1);e[qn]===null&&(e[qn]=[]),e[qn].push(t)}function Eg(e,t){if(e[qn]===null)return;let n=e[qn].indexOf(t);n!==-1&&e[qn].splice(n,1)}function Dr(e){let t=e[vt];return bn(t)?t[vt]:t}function wg(e){return e[Hi]??=[]}function Cg(e){return e.cleanup??=[]}var Me={lFrame:Lg(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Ko=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(Ko||{}),Vw=0,ku=!1;function xg(){return Me.lFrame.elementDepthCount}function vg(){Me.lFrame.elementDepthCount++}function Ig(){Me.lFrame.elementDepthCount--}function hd(){return Me.bindingsEnabled}function Dg(){return Me.skipHydrationRootTNode!==null}function Ag(e){return Me.skipHydrationRootTNode===e}function Tg(){Me.skipHydrationRootTNode=null}function qe(){return Me.lFrame.lView}function Kn(){return Me.lFrame.tView}function gn(){let e=pd();for(;e!==null&&e.type===64;)e=e.parent;return e}function pd(){return Me.lFrame.currentTNode}function bg(){let e=Me.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Wi(e,t){let n=Me.lFrame;n.currentTNode=e,n.isParent=t}function gd(){return Me.lFrame.isParent}function Sg(){Me.lFrame.isParent=!1}function md(e){tg("Must never be called in production mode"),Vw=e}function yd(){return ku}function Ed(e){let t=ku;return ku=e,t}function Qa(){let e=Me.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function _g(e){return Me.lFrame.bindingIndex=e}function wd(){return Me.lFrame.bindingIndex++}function Mg(){return Me.lFrame.inI18n}function Ng(e,t){let n=Me.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ka(t)}function Rg(){return Me.lFrame.currentDirectiveIndex}function Ka(e){Me.lFrame.currentDirectiveIndex=e}function Cd(e){Me.lFrame.currentQueryIndex=e}function Hw(e){let t=e[Ce];return t.type===2?t.declTNode:t.type===1?e[dn]:null}function xd(e,t,n){if(n&4){let c=t,u=e;for(;c=c.parent,c===null&&!(n&1);)if(c=Hw(u),c===null||(u=u[ei],c.type&10))break;if(c===null)return!1;t=c,e=u}let o=Me.lFrame=Og();return o.currentTNode=t,o.lView=e,!0}function Ja(e){let t=Og(),n=e[Ce];Me.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Og(){let e=Me.lFrame,t=e===null?null:e.child;return t===null?Lg(e):t}function Lg(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Pg(){let e=Me.lFrame;return Me.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var vd=Pg;function ec(){let e=Pg();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Fg(e){return(Me.lFrame.contextLView=yg(e,Me.lFrame.contextLView))[Nt]}function tc(){return Me.lFrame.selectedIndex}function Mr(e){Me.lFrame.selectedIndex=e}function kg(){let e=Me.lFrame;return qa(e.tView,e.selectedIndex)}function Bg(){return Me.lFrame.currentNamespace}var jg=!0;function nc(){return jg}function rc(e){jg=e}function Bu(e,t=null,n=null,o){let c=Id(e,t,n,o);return c.resolveInjectorInitializers(),c}function Id(e,t=null,n=null,o,c=new Set){let u=[n||An,sg(e)];return o=o||(typeof e=="object"?void 0:en(e)),new Zr(u,t||zo(),o||null,c)}var On=class e{static THROW_IF_NOT_FOUND=qr;static NULL=new jo;static create(t,n){if(Array.isArray(t))return Bu({name:""},n,t,"");{let o=t.name??"";return Bu({name:o},t.parent,t.providers,o)}}static \u0275prov=te({token:e,providedIn:"any",factory:()=>se(ed)});static __NG_ELEMENT_ID__=-1},nt=new J(""),Nr=(()=>{class e{static __NG_ELEMENT_ID__=zw;static __NG_ENV_ID__=n=>n}return e})(),ju=class extends Nr{_lView;constructor(t){super(),this._lView=t}get destroyed(){return oi(this._lView)}onDestroy(t){let n=this._lView;return fd(n,t),()=>Eg(n,t)}};function zw(){return new ju(qe())}var Ln=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Yt=new J("",{providedIn:"root",factory:()=>{let e=j(at),t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Ln),t.handleError(n))}}}),Ug={provide:Xn,useValue:()=>void j(Ln),multi:!0},Gw=new J("",{providedIn:"root",factory:()=>{let e=j(nt).defaultView;if(!e)return;let t=j(Yt),n=u=>{t(u.reason),u.preventDefault()},o=u=>{u.error?t(u.error):t(new Error(u.message,{cause:u})),u.preventDefault()},c=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",o)};typeof Zone<"u"?Zone.root.run(c):c(),j(Nr).onDestroy(()=>{e.removeEventListener("error",o),e.removeEventListener("unhandledrejection",n)})}});function Dd(){return Zn([og(()=>void j(Gw))])}var Ar=class{},Jo=new J("",{providedIn:"root",factory:()=>!1});var Ad=new J(""),Td=new J("");var Jn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new xt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ie(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=te({token:e,providedIn:"root",factory:()=>new e})}return e})(),es=(()=>{class e{internalPendingTasks=j(Jn);scheduler=j(Ar);errorHandler=j(Yt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let o=this.add();n().catch(this.errorHandler).finally(o)}static \u0275prov=te({token:e,providedIn:"root",factory:()=>new e})}return e})();function ts(...e){}var bd=(()=>{class e{static \u0275prov=te({token:e,providedIn:"root",factory:()=>new Uu})}return e})(),Uu=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,o=this.queues.get(n);o.has(t)&&(o.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let o=this.queues.get(n);o.has(t)||o.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,o]of this.queues)n===null?t||=this.flushQueue(o):t||=n.run(()=>this.flushQueue(o));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let o of t)o.dirty&&(this.dirtyEffectCount--,n=!0,o.run());return n}};function Zi(e){return{toString:e}.toString()}var ic="__parameters__";function rC(e){return function(...n){if(e){let o=e(...n);for(let c in o)this[c]=o[c]}}}function m0(e,t,n){return Zi(()=>{let o=rC(t);function c(...u){if(this instanceof c)return o.apply(this,u),this;let h=new c(...u);return y.annotation=h,y;function y(w,E,I){let b=w.hasOwnProperty(ic)?w[ic]:Object.defineProperty(w,ic,{value:[]})[ic];for(;b.length<=I;)b.push(null);return(b[I]=b[I]||[]).push(h),w}}return c.prototype.ngMetadataName=e,c.annotationCls=c,c})}var y0=Ku(m0("Optional"),8);var E0=Ku(m0("SkipSelf"),4);function iC(e){return typeof e=="function"}var cc=class{previousValue;currentValue;firstChange;constructor(t,n,o){this.previousValue=t,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}};function w0(e,t,n,o){t!==null?t.applyValueToInputSignal(t,o):e[n]=o}var Cc=(()=>{let e=()=>C0;return e.ngInherit=!0,e})();function C0(e){return e.type.prototype.ngOnChanges&&(e.setInput=sC),oC}function oC(){let e=v0(this),t=e?.current;if(t){let n=e.previous;if(n===Kr)e.previous=t;else for(let o in t)n[o]=t[o];e.current=null,this.ngOnChanges(t)}}function sC(e,t,n,o,c){let u=this.declaredInputs[o],h=v0(e)||aC(e,{previous:Kr,current:null}),y=h.current||(h.current={}),w=h.previous,E=w[u];y[u]=new cc(E&&E.currentValue,n,w===Kr),w0(e,t,c,n)}var x0="__ngSimpleChanges__";function v0(e){return e[x0]||null}function aC(e,t){return e[x0]=t}var Vg=[];var He=function(e,t=null,n){for(let o=0;o<Vg.length;o++){let c=Vg[o];c(e,t,n)}};function cC(e,t,n){let{ngOnChanges:o,ngOnInit:c,ngDoCheck:u}=t.type.prototype;if(o){let h=C0(t);(n.preOrderHooks??=[]).push(e,h),(n.preOrderCheckHooks??=[]).push(e,h)}c&&(n.preOrderHooks??=[]).push(0-e,c),u&&((n.preOrderHooks??=[]).push(e,u),(n.preOrderCheckHooks??=[]).push(e,u))}function I0(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){let u=e.data[n].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:E,ngOnDestroy:I}=u;h&&(e.contentHooks??=[]).push(-n,h),y&&((e.contentHooks??=[]).push(n,y),(e.contentCheckHooks??=[]).push(n,y)),w&&(e.viewHooks??=[]).push(-n,w),E&&((e.viewHooks??=[]).push(n,E),(e.viewCheckHooks??=[]).push(n,E)),I!=null&&(e.destroyHooks??=[]).push(n,I)}}function oc(e,t,n){D0(e,t,3,n)}function sc(e,t,n,o){(e[ue]&3)===n&&D0(e,t,n,o)}function Sd(e,t){let n=e[ue];(n&3)===t&&(n&=16383,n+=1,e[ue]=n)}function D0(e,t,n,o){let c=o!==void 0?e[ni]&65535:0,u=o??-1,h=t.length-1,y=0;for(let w=c;w<h;w++)if(typeof t[w+1]=="number"){if(y=t[w],o!=null&&y>=o)break}else t[w]<0&&(e[ni]+=65536),(y<u||u==-1)&&(lC(e,n,t,w),e[ni]=(e[ni]&4294901760)+w+2),w++}function Hg(e,t){He(4,e,t);let n=xe(null);try{t.call(e)}finally{xe(n),He(5,e,t)}}function lC(e,t,n,o){let c=n[o]<0,u=n[o+1],h=c?-n[o]:n[o],y=e[h];c?e[ue]>>14<e[ni]>>16&&(e[ue]&3)===t&&(e[ue]+=16384,Hg(y,u)):Hg(y,u)}var Yi=-1,is=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,o){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=o}};function uC(e){return(e.flags&8)!==0}function dC(e){return(e.flags&16)!==0}function fC(e,t,n){let o=0;for(;o<n.length;){let c=n[o];if(typeof c=="number"){if(c!==0)break;o++;let u=n[o++],h=n[o++],y=n[o++];e.setAttribute(t,h,y,u)}else{let u=c,h=n[++o];pC(u)?e.setProperty(t,u,h):e.setAttribute(t,u,h),o++}}return o}function hC(e){return e===3||e===4||e===6}function pC(e){return e.charCodeAt(0)===64}function Zd(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){let c=t[o];typeof c=="number"?n=c:n===0||(n===-1||n===2?zg(e,n,c,null,t[++o]):zg(e,n,c,null,null))}}return e}function zg(e,t,n,o,c){let u=0,h=e.length;if(t===-1)h=-1;else for(;u<e.length;){let y=e[u++];if(typeof y=="number"){if(y===t){h=-1;break}else if(y>t){h=u-1;break}}}for(;u<e.length;){let y=e[u];if(typeof y=="number")break;if(y===n){c!==null&&(e[u+1]=c);return}u++,c!==null&&u++}h!==-1&&(e.splice(h,0,t),u=h+1),e.splice(u++,0,n),c!==null&&e.splice(u++,0,c)}function A0(e){return e!==Yi}function lc(e){return e&32767}function gC(e){return e>>16}function uc(e,t){let n=gC(e),o=t;for(;n>0;)o=o[ei],n--;return o}var Od=!0;function dc(e){let t=Od;return Od=e,t}var mC=256,T0=mC-1,b0=5,yC=0,kn={};function EC(e,t,n){let o;typeof n=="string"?o=n.charCodeAt(0)||0:n.hasOwnProperty(Qr)&&(o=n[Qr]),o==null&&(o=n[Qr]=yC++);let c=o&T0,u=1<<c;t.data[e+(c>>b0)]|=u}function S0(e,t){let n=_0(e,t);if(n!==-1)return n;let o=t[Ce];o.firstCreatePass&&(e.injectorIndex=t.length,_d(o.data,e),_d(t,null),_d(o.blueprint,null));let c=Qd(e,t),u=e.injectorIndex;if(A0(c)){let h=lc(c),y=uc(c,t),w=y[Ce].data;for(let E=0;E<8;E++)t[u+E]=y[h+E]|w[h+E]}return t[u+8]=c,u}function _d(e,t){e.push(0,0,0,0,0,0,0,0,t)}function _0(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Qd(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,o=null,c=t;for(;c!==null;){if(o=L0(c),o===null)return Yi;if(n++,c=c[ei],o.injectorIndex!==-1)return o.injectorIndex|n<<16}return Yi}function wC(e,t,n){EC(e,t,n)}function M0(e,t,n){if(n&8||e!==void 0)return e;za(t,"NodeInjector")}function N0(e,t,n,o){if(n&8&&o===void 0&&(o=null),(n&3)===0){let c=e[Jr],u=_t(void 0);try{return c?c.get(t,o,n&8):Qu(t,o,n&8)}finally{_t(u)}}return M0(o,t,n)}function R0(e,t,n,o=0,c){if(e!==null){if(t[ue]&2048&&!(o&2)){let h=DC(e,t,n,o,kn);if(h!==kn)return h}let u=O0(e,t,n,o,kn);if(u!==kn)return u}return N0(t,n,o,c)}function O0(e,t,n,o,c){let u=vC(n);if(typeof u=="function"){if(!xd(t,e,o))return o&1?M0(c,n,o):N0(t,n,o,c);try{let h;if(h=u(o),h==null&&!(o&8))za(n);else return h}finally{vd()}}else if(typeof u=="number"){let h=null,y=_0(e,t),w=Yi,E=o&1?t[fn][dn]:null;for((y===-1||o&4)&&(w=y===-1?Qd(e,t):t[y+8],w===Yi||!Wg(o,!1)?y=-1:(h=t[Ce],y=lc(w),t=uc(w,t)));y!==-1;){let I=t[Ce];if(Gg(u,y,I.data)){let b=CC(y,t,n,h,o,E);if(b!==kn)return b}w=t[y+8],w!==Yi&&Wg(o,t[Ce].data[y+8]===E)&&Gg(u,y,t)?(h=I,y=lc(w),t=uc(w,t)):y=-1}}return c}function CC(e,t,n,o,c,u){let h=t[Ce],y=h.data[e+8],w=o==null?_r(y)&&Od:o!=h&&(y.type&3)!==0,E=c&1&&u===y,I=xC(y,h,n,w,E);return I!==null?Ld(t,h,I,y):kn}function xC(e,t,n,o,c){let u=e.providerIndexes,h=t.data,y=u&1048575,w=e.directiveStart,E=e.directiveEnd,I=u>>20,b=o?y:y+I,L=c?y+I:E;for(let _=b;_<L;_++){let G=h[_];if(_<w&&n===G||_>=w&&G.type===n)return _}if(c){let _=h[w];if(_&&ii(_)&&_.type===n)return w}return null}function Ld(e,t,n,o){let c=e[n],u=t.data;if(c instanceof is){let h=c;h.resolving&&Zu(ng(u[n]));let y=dc(h.canSeeViewProviders);h.resolving=!0;let w=u[n].type||u[n],E,I=h.injectImpl?_t(h.injectImpl):null,b=xd(e,o,0);try{c=e[n]=h.factory(void 0,u,e,o),t.firstCreatePass&&n>=o.directiveStart&&cC(n,u[n],t)}finally{I!==null&&_t(I),dc(y),h.resolving=!1,vd()}}return c}function vC(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Qr)?e[Qr]:void 0;return typeof t=="number"?t>=0?t&T0:IC:t}function Gg(e,t,n){let o=1<<e;return!!(n[t+(e>>b0)]&o)}function Wg(e,t){return!(e&2)&&!(e&1&&t)}var si=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,o){return R0(this._tNode,this._lView,t,Xr(o),n)}};function IC(){return new si(gn(),qe())}function xc(e){return Zi(()=>{let t=e.prototype.constructor,n=t[Bo]||Pd(t),o=Object.prototype,c=Object.getPrototypeOf(e.prototype).constructor;for(;c&&c!==o;){let u=c[Bo]||Pd(c);if(u&&u!==n)return u;c=Object.getPrototypeOf(c)}return u=>new u})}function Pd(e){return Hu(e)?()=>{let t=Pd(Wt(e));return t&&t()}:Ir(e)}function DC(e,t,n,o,c){let u=e,h=t;for(;u!==null&&h!==null&&h[ue]&2048&&!Gi(h);){let y=O0(u,h,n,o|2,kn);if(y!==kn)return y;let w=u.parent;if(!w){let E=h[ad];if(E){let I=E.get(n,kn,o);if(I!==kn)return I}w=L0(h),h=h[ei]}u=w}return c}function L0(e){let t=e[Ce],n=t.type;return n===2?t.declTNode:n===1?e[dn]:null}function AC(){return vc(gn(),qe())}function vc(e,t){return new Ic(Fn(e,t))}var Ic=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=AC}return e})();function P0(e){return(e.flags&128)===128}var Kd=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Kd||{}),F0=new Map,TC=0;function bC(){return TC++}function SC(e){F0.set(e[Wo],e)}function Fd(e){F0.delete(e[Wo])}var $g="__ngContext__";function as(e,t){Pn(t)?(e[$g]=t[Wo],SC(t)):e[$g]=t}function k0(e){return j0(e[zi])}function B0(e){return j0(e[un])}function j0(e){for(;e!==null&&!bn(e);)e=e[un];return e}var kd;function Jd(e){kd=e}function U0(){if(kd!==void 0)return kd;if(typeof document<"u")return document;throw new Q(210,!1)}var Dc=new J("",{providedIn:"root",factory:()=>_C}),_C="ng",Ac=new J(""),Qi=new J("",{providedIn:"platform",factory:()=>"unknown"});var Tc=new J("",{providedIn:"root",factory:()=>U0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var MC="h",NC="b";var V0=!1,H0=new J("",{providedIn:"root",factory:()=>V0});var RC=(e,t,n,o)=>{};function OC(e,t,n,o){RC(e,t,n,o)}var LC=()=>null;function z0(e,t,n=!1){return LC(e,t,n)}function G0(e,t){let n=e.contentQueries;if(n!==null){let o=xe(null);try{for(let c=0;c<n.length;c+=2){let u=n[c],h=n[c+1];if(h!==-1){let y=e.data[h];Cd(u),y.contentQueries(2,t[h],h)}}}finally{xe(o)}}}function Bd(e,t,n){Cd(0);let o=xe(null);try{t(e,n)}finally{xe(o)}}function W0(e,t,n){if(cd(t)){let o=xe(null);try{let c=t.directiveStart,u=t.directiveEnd;for(let h=c;h<u;h++){let y=e.data[h];if(y.contentQueries){let w=n[h];y.contentQueries(1,w,h)}}}finally{xe(o)}}}var er=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(er||{});function $0(e){return e instanceof Function?e():e}function PC(e,t,n){let o=e.length;for(;;){let c=e.indexOf(t,n);if(c===-1)return c;if(c===0||e.charCodeAt(c-1)<=32){let u=t.length;if(c+u===o||e.charCodeAt(c+u)<=32)return c}n=c+1}}var Y0="ng-template";function FC(e,t,n,o){let c=0;if(o){for(;c<t.length&&typeof t[c]=="string";c+=2)if(t[c]==="class"&&PC(t[c+1].toLowerCase(),n,0)!==-1)return!0}else if(ef(e))return!1;if(c=t.indexOf(1,c),c>-1){let u;for(;++c<t.length&&typeof(u=t[c])=="string";)if(u.toLowerCase()===n)return!0}return!1}function ef(e){return e.type===4&&e.value!==Y0}function kC(e,t,n){let o=e.type===4&&!n?Y0:e.value;return t===o}function BC(e,t,n){let o=4,c=e.attrs,u=c!==null?VC(c):0,h=!1;for(let y=0;y<t.length;y++){let w=t[y];if(typeof w=="number"){if(!h&&!Sn(o)&&!Sn(w))return!1;if(h&&Sn(w))continue;h=!1,o=w|o&1;continue}if(!h)if(o&4){if(o=2|o&1,w!==""&&!kC(e,w,n)||w===""&&t.length===1){if(Sn(o))return!1;h=!0}}else if(o&8){if(c===null||!FC(e,c,w,n)){if(Sn(o))return!1;h=!0}}else{let E=t[++y],I=jC(w,c,ef(e),n);if(I===-1){if(Sn(o))return!1;h=!0;continue}if(E!==""){let b;if(I>u?b="":b=c[I+1].toLowerCase(),o&2&&E!==b){if(Sn(o))return!1;h=!0}}}}return Sn(o)||h}function Sn(e){return(e&1)===0}function jC(e,t,n,o){if(t===null)return-1;let c=0;if(o||!n){let u=!1;for(;c<t.length;){let h=t[c];if(h===e)return c;if(h===3||h===6)u=!0;else if(h===1||h===2){let y=t[++c];for(;typeof y=="string";)y=t[++c];continue}else{if(h===4)break;if(h===0){c+=4;continue}}c+=u?1:2}return-1}else return HC(t,e)}function UC(e,t,n=!1){for(let o=0;o<t.length;o++)if(BC(e,t[o],n))return!0;return!1}function VC(e){for(let t=0;t<e.length;t++){let n=e[t];if(hC(n))return t}return e.length}function HC(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let o=e[n];if(typeof o=="number")return-1;if(o===t)return n;n++}return-1}function Yg(e,t){return e?":not("+t.trim()+")":t}function zC(e){let t=e[0],n=1,o=2,c="",u=!1;for(;n<e.length;){let h=e[n];if(typeof h=="string")if(o&2){let y=e[++n];c+="["+h+(y.length>0?'="'+y+'"':"")+"]"}else o&8?c+="."+h:o&4&&(c+=" "+h);else c!==""&&!Sn(h)&&(t+=Yg(u,c),c=""),o=h,u=u||!Sn(o);n++}return c!==""&&(t+=Yg(u,c)),t}function GC(e){return e.map(zC).join(",")}function WC(e){let t=[],n=[],o=1,c=2;for(;o<e.length;){let u=e[o];if(typeof u=="string")c===2?u!==""&&t.push(u,e[++o]):c===8&&n.push(u);else{if(!Sn(c))break;c=u}o++}return n.length&&t.push(1,...n),t}var li={};function $C(e,t){return e.createText(t)}function YC(e,t,n){e.setValue(t,n)}function q0(e,t,n){return e.createElement(t,n)}function fc(e,t,n,o,c){e.insertBefore(t,n,o,c)}function X0(e,t,n){e.appendChild(t,n)}function qg(e,t,n,o,c){o!==null?fc(e,t,n,o,c):X0(e,t,n)}function qC(e,t,n){e.removeChild(null,t,n)}function XC(e,t,n){e.setAttribute(t,"style",n)}function ZC(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Z0(e,t,n){let{mergedAttrs:o,classes:c,styles:u}=n;o!==null&&fC(e,t,o),c!==null&&ZC(e,t,c),u!==null&&XC(e,t,u)}function tf(e,t,n,o,c,u,h,y,w,E,I){let b=nn+o,L=b+c,_=QC(b,L),G=typeof E=="function"?E():E;return _[Ce]={type:e,blueprint:_,template:n,queries:null,viewQuery:y,declTNode:t,data:_.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof u=="function"?u():u,pipeRegistry:typeof h=="function"?h():h,firstChild:null,schemas:w,consts:G,incompleteFirstPass:!1,ssrId:I}}function QC(e,t){let n=[];for(let o=0;o<t;o++)n.push(o<e?null:li);return n}function KC(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=tf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function nf(e,t,n,o,c,u,h,y,w,E,I){let b=t.blueprint.slice();return b[Tn]=c,b[ue]=o|4|128|8|64|1024,(E!==null||e&&e[ue]&2048)&&(b[ue]|=2048),ud(b),b[vt]=b[ei]=e,b[Nt]=n,b[Qn]=h||e&&e[Qn],b[It]=y||e&&e[It],b[Jr]=w||e&&e[Jr]||null,b[dn]=u,b[Wo]=bC(),b[Go]=I,b[ad]=E,b[fn]=t.type==2?e[fn]:b,b}function JC(e,t,n){let o=Fn(t,e),c=KC(n),u=e[Qn].rendererFactory,h=rf(e,nf(e,c,null,Q0(n),o,t,null,u.createRenderer(o,n),null,null,null));return e[t.index]=h}function Q0(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function K0(e,t,n,o){if(n===0)return-1;let c=t.length;for(let u=0;u<n;u++)t.push(o),e.blueprint.push(o),e.data.push(null);return c}function rf(e,t){return e[zi]?e[sd][un]=t:e[zi]=t,e[sd]=t,t}function Ot(e=1){J0(Kn(),qe(),tc()+e,!1)}function J0(e,t,n,o){if(!o)if((t[ue]&3)===3){let u=e.preOrderCheckHooks;u!==null&&oc(t,u,n)}else{let u=e.preOrderHooks;u!==null&&sc(t,u,0,n)}Mr(n)}var bc=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(bc||{});function jd(e,t,n,o){let c=xe(null);try{let[u,h,y]=e.inputs[n],w=null;(h&bc.SignalBased)!==0&&(w=t[u][la]),w!==null&&w.transformFn!==void 0?o=w.transformFn(o):y!==null&&(o=y.call(t,o)),e.setInput!==null?e.setInput(t,w,o,n,u):w0(t,w,u,o)}finally{xe(c)}}function e1(e,t,n,o,c){let u=tc(),h=o&2;try{Mr(-1),h&&t.length>nn&&J0(e,t,nn,!1),He(h?2:0,c,n),n(o,c)}finally{Mr(u),He(h?3:1,c,n)}}function of(e,t,n){ax(e,t,n),(n.flags&64)===64&&cx(e,t,n)}function t1(e,t,n=Fn){let o=t.localNames;if(o!==null){let c=t.index+1;for(let u=0;u<o.length;u+=2){let h=o[u+1],y=h===-1?n(t,e):e[h];e[c++]=y}}}function ex(e,t,n,o){let u=o.get(H0,V0)||n===er.ShadowDom,h=e.selectRootElement(t,u);return tx(h),h}function tx(e){nx(e)}var nx=()=>null;function rx(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function ix(e,t,n,o,c,u){let h=t[Ce];if(sf(e,h,t,n,o)){_r(e)&&sx(t,e.index);return}ox(e,t,n,o,c,u)}function ox(e,t,n,o,c,u){if(e.type&3){let h=Fn(e,t);n=rx(n),o=u!=null?u(o,e.value||"",n):o,c.setProperty(h,n,o)}else e.type&12}function sx(e,t){let n=pn(t,e);n[ue]&16||(n[ue]|=64)}function ax(e,t,n){let o=n.directiveStart,c=n.directiveEnd;_r(n)&&JC(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||S0(n,t);let u=n.initialInputs;for(let h=o;h<c;h++){let y=e.data[h],w=Ld(t,e,h,n);if(as(w,t),u!==null&&ux(t,h-o,w,y,n,u),ii(y)){let E=pn(n.index,t);E[Nt]=Ld(t,e,h,n)}}}function cx(e,t,n){let o=n.directiveStart,c=n.directiveEnd,u=n.index,h=Rg();try{Mr(u);for(let y=o;y<c;y++){let w=e.data[y],E=t[y];Ka(y),(w.hostBindings!==null||w.hostVars!==0||w.hostAttrs!==null)&&lx(w,E)}}finally{Mr(-1),Ka(h)}}function lx(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function n1(e,t){let n=e.directiveRegistry,o=null;if(n)for(let c=0;c<n.length;c++){let u=n[c];UC(t,u.selectors,!1)&&(o??=[],ii(u)?o.unshift(u):o.push(u))}return o}function ux(e,t,n,o,c,u){let h=u[t];if(h!==null)for(let y=0;y<h.length;y+=2){let w=h[y],E=h[y+1];jd(o,n,w,E)}}function dx(e,t){let n=e[Jr];if(!n)return;n.get(Yt,null)?.(t)}function sf(e,t,n,o,c){let u=e.inputs?.[o],h=e.hostDirectiveInputs?.[o],y=!1;if(h)for(let w=0;w<h.length;w+=2){let E=h[w],I=h[w+1],b=t.data[E];jd(b,n[E],I,c),y=!0}if(u)for(let w of u){let E=n[w],I=t.data[w];jd(I,E,o,c),y=!0}return y}function fx(e,t){let n=pn(t,e),o=n[Ce];hx(o,n);let c=n[Tn];c!==null&&n[Go]===null&&(n[Go]=z0(c,n[Jr])),He(18),af(o,n,n[Nt]),He(19,n[Nt])}function hx(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function af(e,t,n){Ja(t);try{let o=e.viewQuery;o!==null&&Bd(1,o,n);let c=e.template;c!==null&&e1(e,t,c,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ri]?.finishViewCreation(e),e.staticContentQueries&&G0(e,t),e.staticViewQueries&&Bd(2,e.viewQuery,n);let u=e.components;u!==null&&px(t,u)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[ue]&=-5,ec()}}function px(e,t){for(let n=0;n<t.length;n++)fx(e,t[n])}function gx(e,t,n,o){let c=xe(null);try{let u=t.tView,y=e[ue]&4096?4096:16,w=nf(e,u,n,y,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),E=e[t.index];w[ti]=E;let I=e[ri];return I!==null&&(w[ri]=I.createEmbeddedView(u)),af(u,w,n),w}finally{xe(c)}}function Xg(e,t){return!t||t.firstChild===null||P0(e)}var Zg=!1,mx=new J(""),yx;function cf(e,t){return yx(e,t)}var Or=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Or||{});function lf(e){return(e.flags&32)===32}function $i(e,t,n,o,c){if(o!=null){let u,h=!1;bn(o)?u=o:Pn(o)&&(h=!0,o=o[Tn]);let y=hn(o);e===0&&n!==null?c==null?X0(t,n,y):fc(t,n,y,c||null,!0):e===1&&n!==null?fc(t,n,y,c||null,!0):e===2?qC(t,y,h):e===3&&t.destroyNode(y),u!=null&&_x(t,e,u,n,c)}}function Ex(e,t){r1(e,t),t[Tn]=null,t[dn]=null}function wx(e,t,n,o,c,u){o[Tn]=c,o[dn]=t,Sc(e,o,n,1,c,u)}function r1(e,t){t[Qn].changeDetectionScheduler?.notify(9),Sc(e,t,t[It],2,null,null)}function Cx(e){let t=e[zi];if(!t)return Md(e[Ce],e);for(;t;){let n=null;if(Pn(t))n=t[zi];else{let o=t[$t];o&&(n=o)}if(!n){for(;t&&!t[un]&&t!==e;)Pn(t)&&Md(t[Ce],t),t=t[vt];t===null&&(t=e),Pn(t)&&Md(t[Ce],t),n=t&&t[un]}t=n}}function uf(e,t){let n=e[qo],o=n.indexOf(t);n.splice(o,1)}function i1(e,t){if(oi(t))return;let n=t[It];n.destroyNode&&Sc(e,t,n,3,null,null),Cx(t)}function Md(e,t){if(oi(t))return;let n=xe(null);try{t[ue]&=-129,t[ue]|=256,t[tn]&&fu(t[tn]),vx(e,t),xx(e,t),t[Ce].type===1&&t[It].destroy();let o=t[ti];if(o!==null&&bn(t[vt])){o!==t[vt]&&uf(o,t);let c=t[ri];c!==null&&c.detachView(e)}Fd(t)}finally{xe(n)}}function xx(e,t){let n=e.cleanup,o=t[Hi];if(n!==null)for(let h=0;h<n.length-1;h+=2)if(typeof n[h]=="string"){let y=n[h+3];y>=0?o[y]():o[-y].unsubscribe(),h+=2}else{let y=o[n[h+1]];n[h].call(y)}o!==null&&(t[Hi]=null);let c=t[qn];if(c!==null){t[qn]=null;for(let h=0;h<c.length;h++){let y=c[h];y()}}let u=t[$o];if(u!==null){t[$o]=null;for(let h of u)h.destroy()}}function vx(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let o=0;o<n.length;o+=2){let c=t[n[o]];if(!(c instanceof is)){let u=n[o+1];if(Array.isArray(u))for(let h=0;h<u.length;h+=2){let y=c[u[h]],w=u[h+1];He(4,y,w);try{w.call(y)}finally{He(5,y,w)}}else{He(4,c,u);try{u.call(c)}finally{He(5,c,u)}}}}}function Ix(e,t,n){return Dx(e,t.parent,n)}function Dx(e,t,n){let o=t;for(;o!==null&&o.type&168;)t=o,o=t.parent;if(o===null)return n[Tn];if(_r(o)){let{encapsulation:c}=e.data[o.directiveStart+o.componentOffset];if(c===er.None||c===er.Emulated)return null}return Fn(o,n)}function Ax(e,t,n){return bx(e,t,n)}function Tx(e,t,n){return e.type&40?Fn(e,n):null}var bx=Tx,Qg;function df(e,t,n,o){let c=Ix(e,o,t),u=t[It],h=o.parent||t[dn],y=Ax(h,o,t);if(c!=null)if(Array.isArray(n))for(let w=0;w<n.length;w++)qg(u,c,n[w],y,!1);else qg(u,c,n,y,!1);Qg!==void 0&&Qg(u,o,t,n,c)}function ns(e,t){if(t!==null){let n=t.type;if(n&3)return Fn(t,e);if(n&4)return Ud(-1,e[t.index]);if(n&8){let o=t.child;if(o!==null)return ns(e,o);{let c=e[t.index];return bn(c)?Ud(-1,c):hn(c)}}else{if(n&128)return ns(e,t.next);if(n&32)return cf(t,e)()||hn(e[t.index]);{let o=o1(e,t);if(o!==null){if(Array.isArray(o))return o[0];let c=Dr(e[fn]);return ns(c,o)}else return ns(e,t.next)}}}return null}function o1(e,t){if(t!==null){let o=e[fn][dn],c=t.projection;return o.projection[c]}return null}function Ud(e,t){let n=$t+e+1;if(n<t.length){let o=t[n],c=o[Ce].firstChild;if(c!==null)return ns(o,c)}return t[Sr]}function ff(e,t,n,o,c,u,h){for(;n!=null;){if(n.type===128){n=n.next;continue}let y=o[n.index],w=n.type;if(h&&t===0&&(y&&as(hn(y),o),n.flags|=2),!lf(n))if(w&8)ff(e,t,n.child,o,c,u,!1),$i(t,e,c,y,u);else if(w&32){let E=cf(n,o),I;for(;I=E();)$i(t,e,c,I,u);$i(t,e,c,y,u)}else w&16?Sx(e,t,o,n,c,u):$i(t,e,c,y,u);n=h?n.projectionNext:n.next}}function Sc(e,t,n,o,c,u){ff(n,o,e.firstChild,t,c,u,!1)}function Sx(e,t,n,o,c,u){let h=n[fn],w=h[dn].projection[o.projection];if(Array.isArray(w))for(let E=0;E<w.length;E++){let I=w[E];$i(t,e,c,I,u)}else{let E=w,I=h[vt];P0(o)&&(E.flags|=128),ff(e,t,E,I,c,u,!0)}}function _x(e,t,n,o,c){let u=n[Sr],h=hn(n);u!==h&&$i(t,e,o,u,c);for(let y=$t;y<n.length;y++){let w=n[y];Sc(w[Ce],w,e,t,o,u)}}function os(e,t,n,o,c=!1){for(;n!==null;){if(n.type===128){n=c?n.projectionNext:n.next;continue}let u=t[n.index];u!==null&&o.push(hn(u)),bn(u)&&s1(u,o);let h=n.type;if(h&8)os(e,t,n.child,o);else if(h&32){let y=cf(n,t),w;for(;w=y();)o.push(w)}else if(h&16){let y=o1(t,n);if(Array.isArray(y))o.push(...y);else{let w=Dr(t[fn]);os(w[Ce],w,y,o,!0)}}n=c?n.projectionNext:n.next}return o}function s1(e,t){for(let n=$t;n<e.length;n++){let o=e[n],c=o[Ce].firstChild;c!==null&&os(o[Ce],o,c,t)}e[Sr]!==e[Tn]&&t.push(e[Sr])}function a1(e){if(e[$a]!==null){for(let t of e[$a])t.impl.addSequence(t);e[$a].length=0}}var c1=[];function Mx(e){return e[tn]??Nx(e)}function Nx(e){let t=c1.pop()??Object.create(Ox);return t.lView=e,t}function Rx(e){e.lView[tn]!==e&&(e.lView=null,c1.push(e))}var Ox=$e(Z({},ua),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Qo(e.lView)},consumerOnSignalRead(){this.lView[tn]=this}});function Lx(e){let t=e[tn]??Object.create(Px);return t.lView=e,t}var Px=$e(Z({},ua),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Dr(e.lView);for(;t&&!l1(t[Ce]);)t=Dr(t);t&&dd(t)},consumerOnSignalRead(){this.lView[tn]=this}});function l1(e){return e.type!==2}function u1(e){if(e[$o]===null)return;let t=!0;for(;t;){let n=!1;for(let o of e[$o])o.dirty&&(n=!0,o.zone===null||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));t=n&&!!(e[ue]&8192)}}var Fx=100;function hf(e,t=0){let o=e[Qn].rendererFactory,c=!1;c||o.begin?.();try{kx(e,t)}finally{c||o.end?.()}}function kx(e,t){let n=yd();try{Ed(!0),Vd(e,t);let o=0;for(;Zo(e);){if(o===Fx)throw new Q(103,!1);o++,Vd(e,1)}}finally{Ed(n)}}function d1(e,t){md(t?Ko.Exhaustive:Ko.OnlyDirtyViews);try{hf(e)}finally{md(Ko.Off)}}function Bx(e,t,n,o){if(oi(t))return;let c=t[ue],u=!1,h=!1;Ja(t);let y=!0,w=null,E=null;u||(l1(e)?(E=Mx(t),w=da(E)):cu()===null?(y=!1,E=Lx(t),w=da(E)):t[tn]&&(fu(t[tn]),t[tn]=null));try{ud(t),_g(e.bindingStartIndex),n!==null&&e1(e,t,n,2,o);let I=(c&3)===3;if(!u)if(I){let _=e.preOrderCheckHooks;_!==null&&oc(t,_,null)}else{let _=e.preOrderHooks;_!==null&&sc(t,_,0,null),Sd(t,0)}if(h||jx(t),u1(t),f1(t,0),e.contentQueries!==null&&G0(e,t),!u)if(I){let _=e.contentCheckHooks;_!==null&&oc(t,_)}else{let _=e.contentHooks;_!==null&&sc(t,_,1),Sd(t,1)}Vx(e,t);let b=e.components;b!==null&&p1(t,b,0);let L=e.viewQuery;if(L!==null&&Bd(2,L,o),!u)if(I){let _=e.viewCheckHooks;_!==null&&oc(t,_)}else{let _=e.viewHooks;_!==null&&sc(t,_,2),Sd(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Wa]){for(let _ of t[Wa])_();t[Wa]=null}u||(a1(t),t[ue]&=-73)}catch(I){throw u||Qo(t),I}finally{E!==null&&(du(E,w),y&&Rx(E)),ec()}}function f1(e,t){for(let n=k0(e);n!==null;n=B0(n))for(let o=$t;o<n.length;o++){let c=n[o];h1(c,t)}}function jx(e){for(let t=k0(e);t!==null;t=B0(t)){if(!(t[ue]&2))continue;let n=t[qo];for(let o=0;o<n.length;o++){let c=n[o];dd(c)}}}function Ux(e,t,n){He(18);let o=pn(t,e);h1(o,n),He(19,o[Nt])}function h1(e,t){Xa(e)&&Vd(e,t)}function Vd(e,t){let o=e[Ce],c=e[ue],u=e[tn],h=!!(t===0&&c&16);if(h||=!!(c&64&&t===0),h||=!!(c&1024),h||=!!(u?.dirty&&fa(u)),h||=!1,u&&(u.dirty=!1),e[ue]&=-9217,h)Bx(o,e,o.template,e[Nt]);else if(c&8192){let y=xe(null);try{u1(e),f1(e,1);let w=o.components;w!==null&&p1(e,w,1),a1(e)}finally{xe(y)}}}function p1(e,t,n){for(let o=0;o<t.length;o++)Ux(e,t[o],n)}function Vx(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let o=0;o<n.length;o++){let c=n[o];if(c<0)Mr(~c);else{let u=c,h=n[++o],y=n[++o];Ng(h,u);let w=t[u];He(24,w),y(2,w),He(25,w)}}}finally{Mr(-1)}}function pf(e,t){let n=yd()?64:1088;for(e[Qn].changeDetectionScheduler?.notify(t);e;){e[ue]|=n;let o=Dr(e);if(Gi(e)&&!o)return e;e=o}return null}function g1(e,t,n,o){return[e,!0,0,t,null,o,null,n,null,null]}function Hx(e,t,n,o=!0){let c=t[Ce];if(zx(c,t,e,n),o){let h=Ud(n,e),y=t[It],w=y.parentNode(e[Sr]);w!==null&&wx(c,e[dn],y,t,w,h)}let u=t[Go];u!==null&&u.firstChild!==null&&(u.firstChild=null)}function Hd(e,t){if(e.length<=$t)return;let n=$t+t,o=e[n];if(o){let c=o[ti];c!==null&&c!==e&&uf(c,o),t>0&&(e[n-1][un]=o[un]);let u=Vo(e,$t+t);Ex(o[Ce],o);let h=u[ri];h!==null&&h.detachView(u[Ce]),o[vt]=null,o[un]=null,o[ue]&=-129}return o}function zx(e,t,n,o){let c=$t+o,u=n.length;o>0&&(n[c-1][un]=t),o<u-$t?(t[un]=n[c],Ju(n,$t+o,t)):(n.push(t),t[un]=null),t[vt]=n;let h=t[ti];h!==null&&n!==h&&m1(h,t);let y=t[ri];y!==null&&y.insertView(e),Za(t),t[ue]|=128}function m1(e,t){let n=e[qo],o=t[vt];if(Pn(o))e[ue]|=2;else{let c=o[vt][fn];t[fn]!==c&&(e[ue]|=2)}n===null?e[qo]=[t]:n.push(t)}var Rr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[Ce];return os(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[Nt]}set context(t){this._lView[Nt]=t}get destroyed(){return oi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[vt];if(bn(t)){let n=t[Yo],o=n?n.indexOf(this):-1;o>-1&&(Hd(t,o),Vo(n,o))}this._attachedToViewContainer=!1}i1(this._lView[Ce],this._lView)}onDestroy(t){fd(this._lView,t)}markForCheck(){pf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ue]&=-129}reattach(){Za(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,hf(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Jr].get(mx,Zg)}catch{this.exhaustive=Zg}}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Gi(this._lView),n=this._lView[ti];n!==null&&!t&&uf(n,this._lView),r1(this._lView[Ce],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=t;let n=Gi(this._lView),o=this._lView[ti];o!==null&&!n&&m1(o,this._lView),Za(this._lView)}};var cs=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Gx;constructor(n,o,c){this._declarationLView=n,this._declarationTContainer=o,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,c){let u=gx(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:o,dehydratedView:c});return new Rr(u)}}return e})();function Gx(){return Wx(gn(),qe())}function Wx(e,t){return e.type&4?new cs(t,e,vc(e,t)):null}function gf(e,t,n,o,c){let u=e.data[t];if(u===null)u=$x(e,t,n,o,c),Mg()&&(u.flags|=32);else if(u.type&64){u.type=n,u.value=o,u.attrs=c;let h=bg();u.injectorIndex=h===null?-1:h.injectorIndex}return Wi(u,!0),u}function $x(e,t,n,o,c){let u=pd(),h=gd(),y=h?u:u&&u.parent,w=e.data[t]=qx(e,y,n,t,o,c);return Yx(e,w,u,h),w}function Yx(e,t,n,o){e.firstChild===null&&(e.firstChild=t),n!==null&&(o?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function qx(e,t,n,o,c,u){let h=t?t.injectorIndex:-1,y=0;return Dg()&&(y|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:h,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:c,attrs:u,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var JR=new RegExp(`^(\\d+)*(${NC}|${MC})*(.*)`);var Xx=()=>null;function Kg(e,t){return Xx(e,t)}var y1=class{},_c=class{},zd=class{resolveComponentFactory(t){throw new Q(917,!1)}},ls=class{static NULL=new zd},ai=class{},mf=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>Zx()}return e})();function Zx(){let e=qe(),t=gn(),n=pn(t.index,e);return(Pn(n)?n:e)[It]}var E1=(()=>{class e{static \u0275prov=te({token:e,providedIn:"root",factory:()=>null})}return e})();var ac={},Gd=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,o){let c=this.injector.get(t,ac,o);return c!==ac||n===ac?c:this.parentInjector.get(t,n,o)}};function Jg(e,t,n){let o=n?e.styles:null,c=n?e.classes:null,u=0;if(t!==null)for(let h=0;h<t.length;h++){let y=t[h];if(typeof y=="number")u=y;else if(u==1)c=Vu(c,y);else if(u==2){let w=y,E=t[++h];o=Vu(o,w+": "+E+";")}}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=c:e.classesWithoutHost=c}function rn(e,t=0){let n=qe();if(n===null)return se(e,t);let o=gn();return R0(o,n,Wt(e),t)}function w1(e,t,n,o,c){let u=o===null?null:{"":-1},h=c(e,n);if(h!==null){let y=h,w=null,E=null;for(let I of h)if(I.resolveHostDirectives!==null){[y,w,E]=I.resolveHostDirectives(h);break}Jx(e,t,n,y,u,w,E)}u!==null&&o!==null&&Qx(n,o,u)}function Qx(e,t,n){let o=e.localNames=[];for(let c=0;c<t.length;c+=2){let u=n[t[c+1]];if(u==null)throw new Q(-301,!1);o.push(t[c],u)}}function Kx(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Jx(e,t,n,o,c,u,h){let y=o.length,w=!1;for(let L=0;L<y;L++){let _=o[L];!w&&ii(_)&&(w=!0,Kx(e,n,L)),wC(S0(n,t),e,_.type)}ov(n,e.data.length,y);for(let L=0;L<y;L++){let _=o[L];_.providersResolver&&_.providersResolver(_)}let E=!1,I=!1,b=K0(e,t,y,null);y>0&&(n.directiveToIndex=new Map);for(let L=0;L<y;L++){let _=o[L];if(n.mergedAttrs=Zd(n.mergedAttrs,_.hostAttrs),tv(e,n,t,b,_),iv(b,_,c),h!==null&&h.has(_)){let[W,U]=h.get(_);n.directiveToIndex.set(_.type,[b,W+n.directiveStart,U+n.directiveStart])}else(u===null||!u.has(_))&&n.directiveToIndex.set(_.type,b);_.contentQueries!==null&&(n.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(n.flags|=64);let G=_.type.prototype;!E&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),E=!0),!I&&(G.ngOnChanges||G.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),I=!0),b++}ev(e,n,u)}function ev(e,t,n){for(let o=t.directiveStart;o<t.directiveEnd;o++){let c=e.data[o];if(n===null||!n.has(c))e0(0,t,c,o),e0(1,t,c,o),n0(t,o,!1);else{let u=n.get(c);t0(0,t,u,o),t0(1,t,u,o),n0(t,o,!0)}}}function e0(e,t,n,o){let c=e===0?n.inputs:n.outputs;for(let u in c)if(c.hasOwnProperty(u)){let h;e===0?h=t.inputs??={}:h=t.outputs??={},h[u]??=[],h[u].push(o),C1(t,u)}}function t0(e,t,n,o){let c=e===0?n.inputs:n.outputs;for(let u in c)if(c.hasOwnProperty(u)){let h=c[u],y;e===0?y=t.hostDirectiveInputs??={}:y=t.hostDirectiveOutputs??={},y[h]??=[],y[h].push(o,u),C1(t,h)}}function C1(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function n0(e,t,n){let{attrs:o,inputs:c,hostDirectiveInputs:u}=e;if(o===null||!n&&c===null||n&&u===null||ef(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let h=null,y=0;for(;y<o.length;){let w=o[y];if(w===0){y+=4;continue}else if(w===5){y+=2;continue}else if(typeof w=="number")break;if(!n&&c.hasOwnProperty(w)){let E=c[w];for(let I of E)if(I===t){h??=[],h.push(w,o[y+1]);break}}else if(n&&u.hasOwnProperty(w)){let E=u[w];for(let I=0;I<E.length;I+=2)if(E[I]===t){h??=[],h.push(E[I+1],o[y+1]);break}}y+=2}e.initialInputs??=[],e.initialInputs.push(h)}function tv(e,t,n,o,c){e.data[o]=c;let u=c.factory||(c.factory=Ir(c.type,!0)),h=new is(u,ii(c),rn);e.blueprint[o]=h,n[o]=h,nv(e,t,o,K0(e,n,c.hostVars,li),c)}function nv(e,t,n,o,c){let u=c.hostBindings;if(u){let h=e.hostBindingOpCodes;h===null&&(h=e.hostBindingOpCodes=[]);let y=~t.index;rv(h)!=y&&h.push(y),h.push(n,o,u)}}function rv(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function iv(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;ii(t)&&(n[""]=e)}}function ov(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function x1(e,t,n,o,c,u,h,y){let w=t.consts,E=Xo(w,h),I=gf(t,e,2,o,E);return u&&w1(t,n,I,Xo(w,y),c),I.mergedAttrs=Zd(I.mergedAttrs,I.attrs),I.attrs!==null&&Jg(I,I.attrs,!1),I.mergedAttrs!==null&&Jg(I,I.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,I),I}function v1(e,t){I0(e,t),cd(t)&&e.queries.elementEnd(t)}function yf(e){return D1(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function I1(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),o;for(;!(o=n.next()).done;)t(o.value)}}function D1(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Ef(e,t,n){return e[t]=n}function qi(e,t,n){if(n===li)return!1;let o=e[t];return Object.is(o,n)?!1:(e[t]=n,!0)}function Wd(e,t,n,o){let c=qi(e,t,n);return qi(e,t+1,o)||c}function sv(e,t,n,o,c){let u=Wd(e,t,n,o);return qi(e,t+2,c)||u}function av(e,t,n,o,c,u){let h=Wd(e,t,n,o);return Wd(e,t+2,c,u)||h}function Nd(e,t,n){return function o(c){let u=_r(e)?pn(e.index,t):t;pf(u,5);let h=t[Nt],y=r0(t,h,n,c),w=o.__ngNextListenerFn__;for(;w;)y=r0(t,h,w,c)&&y,w=w.__ngNextListenerFn__;return y}}function r0(e,t,n,o){let c=xe(null);try{return He(6,t,n),n(o)!==!1}catch(u){return dx(e,u),!1}finally{He(7,t,n),xe(c)}}function cv(e,t,n,o,c,u,h,y){let w=Ya(e),E=!1,I=null;if(!o&&w&&(I=lv(t,n,u,e.index)),I!==null){let b=I.__ngLastListenerFn__||I;b.__ngNextListenerFn__=h,I.__ngLastListenerFn__=h,E=!0}else{let b=Fn(e,n),L=o?o(b):b;OC(n,L,u,y);let _=c.listen(L,u,y),G=o?W=>o(hn(W[e.index])):e.index;A1(G,t,n,u,y,_,!1)}return E}function lv(e,t,n,o){let c=e.cleanup;if(c!=null)for(let u=0;u<c.length-1;u+=2){let h=c[u];if(h===n&&c[u+1]===o){let y=t[Hi],w=c[u+2];return y&&y.length>w?y[w]:null}typeof h=="string"&&(u+=2)}return null}function A1(e,t,n,o,c,u,h){let y=t.firstCreatePass?Cg(t):null,w=wg(n),E=w.length;w.push(c,u),y&&y.push(o,e,E,(E+1)*(h?-1:1))}function i0(e,t,n,o,c,u){let h=t[n],y=t[Ce],E=y.data[n].outputs[o],b=h[E].subscribe(u);A1(e.index,y,t,c,u,b,!0)}var $d=Symbol("BINDING");var hc=class extends ls{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=br(t);return new Xi(n,this.ngModule)}};function uv(e){return Object.keys(e).map(t=>{let[n,o,c]=e[t],u={propName:n,templateName:t,isSignal:(o&bc.SignalBased)!==0};return c&&(u.transform=c),u})}function dv(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function fv(e,t,n){let o=t instanceof at?t:t?.injector;return o&&e.getStandaloneInjector!==null&&(o=e.getStandaloneInjector(o)||o),o?new Gd(n,o):n}function hv(e){let t=e.get(ai,null);if(t===null)throw new Q(407,!1);let n=e.get(E1,null),o=e.get(Ar,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:o,ngReflect:!1}}function pv(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return q0(t,n,n==="svg"?fg:n==="math"?hg:null)}var Xi=class extends _c{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=uv(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=dv(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=GC(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,o,c,u,h){He(22);let y=xe(null);try{let w=this.componentDef,E=gv(o,w,h,u),I=fv(w,c||this.ngModule,t),b=hv(I),L=b.rendererFactory.createRenderer(null,w),_=o?ex(L,o,w.encapsulation,I):pv(w,L),G=h?.some(o0)||u?.some(V=>typeof V!="function"&&V.bindings.some(o0)),W=nf(null,E,null,512|Q0(w),null,null,b,L,I,null,z0(_,I,!0));W[nn]=_,Ja(W);let U=null;try{let V=x1(nn,E,W,"#host",()=>E.directiveRegistry,!0,0);_&&(Z0(L,_,V),as(_,W)),of(E,W,V),W0(E,V,W),v1(E,V),n!==void 0&&yv(V,this.ngContentSelectors,n),U=pn(V.index,W),W[Nt]=U[Nt],af(E,W,null)}catch(V){throw U!==null&&Fd(U),Fd(W),V}finally{He(23),ec()}return new pc(this.componentType,W,!!G)}finally{xe(y)}}};function gv(e,t,n,o){let c=e?["ng-version","20.0.6"]:WC(t.selectors[0]),u=null,h=null,y=0;if(n)for(let I of n)y+=I[$d].requiredVars,I.create&&(I.targetIdx=0,(u??=[]).push(I)),I.update&&(I.targetIdx=0,(h??=[]).push(I));if(o)for(let I=0;I<o.length;I++){let b=o[I];if(typeof b!="function")for(let L of b.bindings){y+=L[$d].requiredVars;let _=I+1;L.create&&(L.targetIdx=_,(u??=[]).push(L)),L.update&&(L.targetIdx=_,(h??=[]).push(L))}}let w=[t];if(o)for(let I of o){let b=typeof I=="function"?I:I.type,L=rd(b);w.push(L)}return tf(0,null,mv(u,h),1,y,w,null,null,null,[c],null)}function mv(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let o of e)o.create();if(n&2&&t)for(let o of t)o.update()}}function o0(e){let t=e[$d].kind;return t==="input"||t==="twoWay"}var pc=class extends y1{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,o){super(),this._rootLView=n,this._hasInputBindings=o,this._tNode=qa(n[Ce],nn),this.location=vc(this._tNode,n),this.instance=pn(this._tNode.index,n)[Nt],this.hostView=this.changeDetectorRef=new Rr(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let c=this._rootLView,u=sf(o,c[Ce],c,t,n);this.previousInputValues.set(t,n);let h=pn(o.index,c);pf(h,1)}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function yv(e,t,n){let o=e.projection=[];for(let c=0;c<t.length;c++){let u=n[c];o.push(u!=null&&u.length?Array.from(u):null)}}var ui=(()=>{class e{static __NG_ELEMENT_ID__=Ev}return e})();function Ev(){let e=gn();return Cv(e,qe())}var wv=ui,T1=class extends wv{_lContainer;_hostTNode;_hostLView;constructor(t,n,o){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=o}get element(){return vc(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){let t=Qd(this._hostTNode,this._hostLView);if(A0(t)){let n=uc(t,this._hostLView),o=lc(t),c=n[Ce].data[o+8];return new si(c,n)}else return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=s0(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(t,n,o){let c,u;typeof o=="number"?c=o:o!=null&&(c=o.index,u=o.injector);let h=Kg(this._lContainer,t.ssrId),y=t.createEmbeddedViewImpl(n||{},u,h);return this.insertImpl(y,c,Xg(this._hostTNode,h)),y}createComponent(t,n,o,c,u,h,y){let w=t&&!iC(t),E;if(w)E=n;else{let U=n||{};E=U.index,o=U.injector,c=U.projectableNodes,u=U.environmentInjector||U.ngModuleRef,h=U.directives,y=U.bindings}let I=w?t:new Xi(br(t)),b=o||this.parentInjector;if(!u&&I.ngModule==null){let V=(w?b:this.parentInjector).get(at,null);V&&(u=V)}let L=br(I.componentType??{}),_=Kg(this._lContainer,L?.id??null),G=_?.firstChild??null,W=I.create(b,c,G,u,h,y);return this.insertImpl(W.hostView,E,Xg(this._hostTNode,_)),W}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,o){let c=t._lView;if(mg(c)){let y=this.indexOf(t);if(y!==-1)this.detach(y);else{let w=c[vt],E=new T1(w,w[dn],w[vt]);E.detach(E.indexOf(t))}}let u=this._adjustIndex(n),h=this._lContainer;return Hx(h,c,u,o),t.attachToViewContainerRef(),Ju(Rd(h),u,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=s0(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),o=Hd(this._lContainer,n);o&&(Vo(Rd(this._lContainer),n),i1(o[Ce],o))}detach(t){let n=this._adjustIndex(t,-1),o=Hd(this._lContainer,n);return o&&Vo(Rd(this._lContainer),n)!=null?new Rr(o):null}_adjustIndex(t,n=0){return t??this.length+n}};function s0(e){return e[Yo]}function Rd(e){return e[Yo]||(e[Yo]=[])}function Cv(e,t){let n,o=t[e.index];return bn(o)?n=o:(n=g1(o,t,null,e),t[e.index]=n,rf(t,n)),vv(n,t,e,o),new T1(n,e,t)}function xv(e,t){let n=e[It],o=n.createComment(""),c=Fn(t,e),u=n.parentNode(c);return fc(n,u,o,n.nextSibling(c),!1),o}var vv=Av,Iv=()=>!1;function Dv(e,t,n){return Iv(e,t,n)}function Av(e,t,n,o){if(e[Sr])return;let c;n.type&8?c=hn(o):c=xv(t,n),e[Sr]=c}var a0=new Set;function Mc(e){a0.has(e)||(a0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var ci=class{},Nc=class{};var gc=class extends ci{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new hc(this);constructor(t,n,o,c=!0){super(),this.ngModuleType=t,this._parent=n;let u=nd(t);this._bootstrapComponents=$0(u.bootstrap),this._r3Injector=Id(t,n,[{provide:ci,useValue:this},{provide:ls,useValue:this.componentFactoryResolver},...o],en(t),new Set(["environment"])),c&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},mc=class extends Nc{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new gc(this.moduleType,t,[])}};var ss=class extends ci{injector;componentFactoryResolver=new hc(this);instance=null;constructor(t){super();let n=new Zr([...t.providers,{provide:ci,useValue:this},{provide:ls,useValue:this.componentFactoryResolver}],t.parent||zo(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function us(e,t,n=null){return new ss({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Tv=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let o=id(!1,n.type),c=o.length>0?us([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,c)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=te({token:e,providedIn:"environment",factory:()=>new e(se(at))})}return e})();function ds(e){return Zi(()=>{let t=b1(e),n=$e(Z({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Kd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?c=>c.get(Tv).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||er.Emulated,styles:e.styles||An,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Mc("NgStandalone"),S1(n);let o=e.dependencies;return n.directiveDefs=c0(o,!1),n.pipeDefs=c0(o,!0),n.id=Nv(n),n})}function bv(e){return br(e)||rd(e)}function Sv(e){return e!==null}function di(e){return Zi(()=>({type:e.type,bootstrap:e.bootstrap||An,declarations:e.declarations||An,imports:e.imports||An,exports:e.exports||An,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function _v(e,t){if(e==null)return Kr;let n={};for(let o in e)if(e.hasOwnProperty(o)){let c=e[o],u,h,y,w;Array.isArray(c)?(y=c[0],u=c[1],h=c[2]??u,w=c[3]||null):(u=c,h=c,y=bc.None,w=null),n[u]=[o,y,w],t[u]=h}return n}function Mv(e){if(e==null)return Kr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function fi(e){return Zi(()=>{let t=b1(e);return S1(t),t})}function fs(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function b1(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Kr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||An,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:_v(e.inputs,t),outputs:Mv(e.outputs),debugInfo:null}}function S1(e){e.features?.forEach(t=>t(e))}function c0(e,t){if(!e)return null;let n=t?ig:bv;return()=>(typeof e=="function"?e():e).map(o=>n(o)).filter(Sv)}function Nv(e){let t=0,n=typeof e.consts=="function"?"":e.consts,o=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let u of o.join("|"))t=Math.imul(31,t)+u.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Rv(e,t,n,o,c,u,h,y,w){let E=t.consts,I=gf(t,e,4,h||null,y||null);hd()&&w1(t,n,I,Xo(E,w),n1),I.mergedAttrs=Zd(I.mergedAttrs,I.attrs),I0(t,I);let b=I.tView=tf(2,I,o,c,u,t.directiveRegistry,t.pipeRegistry,null,t.schemas,E,null);return t.queries!==null&&(t.queries.template(t,I),b.queries=t.queries.embeddedTView(I)),I}function Ov(e,t,n,o,c,u,h,y,w,E,I){let b=n+nn,L=t.firstCreatePass?Rv(b,t,e,o,c,u,h,y,E):t.data[b];w&&(L.flags|=w),Wi(L,!1);let _=Lv(t,e,L,n);nc()&&df(t,e,_,L),as(_,e);let G=g1(_,e,_,L);return e[b]=G,rf(e,G),Dv(G,L,e),Ya(L)&&of(t,e,L),E!=null&&t1(e,L,I),L}function Bn(e,t,n,o,c,u,h,y){let w=qe(),E=Kn(),I=Xo(E.consts,u);return Ov(w,E,e,t,n,o,c,I,void 0,h,y),Bn}var Lv=Pv;function Pv(e,t,n,o){return rc(!0),t[It].createComment("")}var wf=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(wf||{}),hs=new J(""),_1=!1,Yd=class extends Ct{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,ug()&&(this.destroyRef=j(Nr,{optional:!0})??void 0,this.pendingTasks=j(Jn,{optional:!0})??void 0)}emit(t){let n=xe(null);try{super.next(t)}finally{xe(n)}}subscribe(t,n,o){let c=t,u=n||(()=>null),h=o;if(t&&typeof t=="object"){let w=t;c=w.next?.bind(w),u=w.error?.bind(w),h=w.complete?.bind(w)}this.__isAsync&&(u=this.wrapInTimeout(u),c&&(c=this.wrapInTimeout(c)),h&&(h=this.wrapInTimeout(h)));let y=super.subscribe({next:c,error:u,complete:h});return t instanceof et&&t.add(y),y}wrapInTimeout(t){return n=>{let o=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{o!==void 0&&this.pendingTasks?.remove(o)}})}}},Rt=Yd;function M1(e){let t,n;function o(){e=ts;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),o()})),()=>o()}function l0(e){return queueMicrotask(()=>e()),()=>{e=ts}}var Cf="isAngularZone",yc=Cf+"_ID",Fv=0,rt=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Rt(!1);onMicrotaskEmpty=new Rt(!1);onStable=new Rt(!1);onError=new Rt(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1,scheduleInRootZone:u=_1}=t;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&o,h.shouldCoalesceRunChangeDetection=c,h.callbackScheduled=!1,h.scheduleInRootZone=u,jv(h)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Cf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new Q(909,!1)}run(t,n,o){return this._inner.run(t,n,o)}runTask(t,n,o,c){let u=this._inner,h=u.scheduleEventTask("NgZoneEvent: "+c,t,kv,ts,ts);try{return u.runTask(h,n,o)}finally{u.cancelTask(h)}}runGuarded(t,n,o){return this._inner.runGuarded(t,n,o)}runOutsideAngular(t){return this._outer.run(t)}},kv={};function xf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Bv(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){M1(()=>{e.callbackScheduled=!1,qd(e),e.isCheckStableRunning=!0,xf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),qd(e)}function jv(e){let t=()=>{Bv(e)},n=Fv++;e._inner=e._inner.fork({name:"angular",properties:{[Cf]:!0,[yc]:n,[yc+n]:!0},onInvokeTask:(o,c,u,h,y,w)=>{if(Uv(w))return o.invokeTask(u,h,y,w);try{return u0(e),o.invokeTask(u,h,y,w)}finally{(e.shouldCoalesceEventChangeDetection&&h.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),d0(e)}},onInvoke:(o,c,u,h,y,w,E)=>{try{return u0(e),o.invoke(u,h,y,w,E)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Vv(w)&&t(),d0(e)}},onHasTask:(o,c,u,h)=>{o.hasTask(u,h),c===u&&(h.change=="microTask"?(e._hasPendingMicrotasks=h.microTask,qd(e),xf(e)):h.change=="macroTask"&&(e.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,c,u,h)=>(o.handleError(u,h),e.runOutsideAngular(()=>e.onError.emit(h)),!1)})}function qd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function u0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function d0(e){e._nesting--,xf(e)}var Ec=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Rt;onMicrotaskEmpty=new Rt;onStable=new Rt;onError=new Rt;run(t,n,o){return t.apply(n,o)}runGuarded(t,n,o){return t.apply(n,o)}runOutsideAngular(t){return t()}runTask(t,n,o,c){return t.apply(n,o)}};function Uv(e){return N1(e,"__ignore_ng_zone__")}function Vv(e){return N1(e,"__scheduler_tick__")}function N1(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var R1=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=te({token:e,providedIn:"root",factory:()=>new e})}return e})();var vf=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var If=new J("");function Ki(e){return!!e&&typeof e.then=="function"}function Df(e){return!!e&&typeof e.subscribe=="function"}var O1=new J("");var Af=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o});appInits=j(O1,{optional:!0})??[];injector=j(On);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let c of this.appInits){let u=Mt(this.injector,c);if(Ki(u))n.push(u);else if(Df(u)){let h=new Promise((y,w)=>{u.subscribe({complete:y,error:w})});n.push(h)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(c=>{this.reject(c)}),n.length===0&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Rc=new J("");function L1(){hu(()=>{let e="";throw new Q(600,e)})}function P1(e){return e.isBoundToModule}var Hv=10;var hi=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=j(Yt);afterRenderManager=j(R1);zonelessEnabled=j(Jo);rootEffectScheduler=j(bd);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ct;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=j(Jn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ye(n=>!n))}constructor(){j(hs,{optional:!0})}whenStable(){let n;return new Promise(o=>{n=this.isStable.subscribe({next:c=>{c&&o()}})}).finally(()=>{n.unsubscribe()})}_injector=j(at);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,o){return this.bootstrapImpl(n,o)}bootstrapImpl(n,o,c=On.NULL){return this._injector.get(rt).run(()=>{He(10);let h=n instanceof _c;if(!this._injector.get(Af).done){let G="";throw new Q(405,G)}let w;h?w=n:w=this._injector.get(ls).resolveComponentFactory(n),this.componentTypes.push(w.componentType);let E=P1(w)?void 0:this._injector.get(ci),I=o||w.selector,b=w.create(c,[],I,E),L=b.location.nativeElement,_=b.injector.get(If,null);return _?.registerApplication(L),b.onDestroy(()=>{this.detachView(b.hostView),rs(this.components,b),_?.unregisterApplication(L)}),this._loadComponent(b),He(11,b),b})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){He(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(wf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Q(101,!1);let n=xe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,xe(n),this.afterTick.next(),He(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ai,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Hv;)He(14),this.synchronizeOnce(),He(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let o=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:c}of this.allViews){if(!o&&!Zo(c))continue;let u=o&&!this.zonelessEnabled?0:1;hf(c,u),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Zo(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){let o=n;rs(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(c){this.internalErrorHandler(c)}this.components.push(n),this._injector.get(Rc,[]).forEach(c=>c(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>rs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Q(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rs(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Lt(e,t,n){let o=qe(),c=wd();if(qi(o,c,t)){let u=Kn(),h=kg();ix(h,o,e,t,o[It],n)}return Lt}function f0(e,t,n,o,c){sf(t,e,n,c?"class":"style",o)}function qt(e,t,n,o){let c=qe(),u=Kn(),h=nn+e,y=c[It],w=u.firstCreatePass?x1(h,u,c,t,n1,hd(),n,o):u.data[h],E=zv(u,c,w,y,t,e);c[h]=E;let I=Ya(w);return Wi(w,!0),Z0(y,E,w),!lf(w)&&nc()&&df(u,c,E,w),(xg()===0||I)&&as(E,c),vg(),I&&(of(u,c,w),W0(u,w,c)),o!==null&&t1(c,w),qt}function Xt(){let e=gn();gd()?Sg():(e=e.parent,Wi(e,!1));let t=e;Ag(t)&&Tg(),Ig();let n=Kn();return n.firstCreatePass&&v1(n,t),t.classesWithoutHost!=null&&uC(t)&&f0(n,t,qe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&dC(t)&&f0(n,t,qe(),t.stylesWithoutHost,!1),Xt}function tr(e,t,n,o){return qt(e,t,n,o),Xt(),tr}var zv=(e,t,n,o,c,u)=>(rc(!0),q0(o,c,Bg()));var ps="en-US";var Gv=ps;function F1(e){typeof e=="string"&&(Gv=e.toLowerCase().replace(/_/g,"-"))}function Oc(e,t,n){let o=qe(),c=Kn(),u=gn();return Wv(c,o,o[It],u,e,t,n),Oc}function Wv(e,t,n,o,c,u,h){let y=!0,w=null;if((o.type&3||h)&&(w??=Nd(o,t,u),cv(o,e,t,h,n,c,u,w)&&(y=!1)),y){let E=o.outputs?.[c],I=o.hostDirectiveOutputs?.[c];if(I&&I.length)for(let b=0;b<I.length;b+=2){let L=I[b],_=I[b+1];w??=Nd(o,t,u),i0(o,t,L,_,c,w)}if(E&&E.length)for(let b of E)w??=Nd(o,t,u),i0(o,t,b,c,c,w)}}function Ji(e=1){return Fg(e)}function nr(e,t=""){let n=qe(),o=Kn(),c=e+nn,u=o.firstCreatePass?gf(o,c,1,t,null):o.data[c],h=$v(o,n,u,t,e);n[c]=h,nc()&&df(o,n,h,u),Wi(u,!1)}var $v=(e,t,n,o,c)=>(rc(!0),$C(t[It],o));function Yv(e,t,n,o=""){return qi(e,wd(),n)?t+Xu(n)+o:li}function Lc(e){return pi("",e),Lc}function pi(e,t,n){let o=qe(),c=Yv(o,e,t,n);return c!==li&&qv(o,tc(),c),pi}function qv(e,t,n){let o=pg(t,e);YC(e[It],o,n)}function Pc(e,t,n,o,c,u){return Zv(qe(),Qa(),e,t,n,o,c,u)}function Tf(e,t,n,o,c,u,h){return Qv(qe(),Qa(),e,t,n,o,c,u,h)}function bf(e,t){let n=e[t];return n===li?void 0:n}function Xv(e,t,n,o,c,u){let h=t+n;return qi(e,h,c)?Ef(e,h+1,u?o.call(u,c):o(c)):bf(e,h+1)}function Zv(e,t,n,o,c,u,h,y){let w=t+n;return sv(e,w,c,u,h)?Ef(e,w+3,y?o.call(y,c,u,h):o(c,u,h)):bf(e,w+3)}function Qv(e,t,n,o,c,u,h,y,w){let E=t+n;return av(e,E,c,u,h,y)?Ef(e,E+4,w?o.call(w,c,u,h,y):o(c,u,h,y)):bf(e,E+4)}function eo(e,t){let n=Kn(),o,c=e+nn;n.firstCreatePass?(o=Kv(t,n.pipeRegistry),n.data[c]=o,o.onDestroy&&(n.destroyHooks??=[]).push(c,o.onDestroy)):o=n.data[c];let u=o.factory||(o.factory=Ir(o.type,!0)),h,y=_t(rn);try{let w=dc(!1),E=u();return dc(w),ld(n,qe(),c,E),E}finally{_t(y)}}function Kv(e,t){if(t)for(let n=t.length-1;n>=0;n--){let o=t[n];if(e===o.name)return o}}function to(e,t,n){let o=e+nn,c=qe(),u=gg(c,o);return Jv(c,o)?Xv(c,Qa(),t,u.transform,n,u):u.transform(n)}function Jv(e,t){return e[Ce].data[t].pure}var wc=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Sf=(()=>{class e{compileModuleSync(n){return new mc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let o=this.compileModuleSync(n),c=nd(n),u=$0(c.declarations).reduce((h,y)=>{let w=br(y);return w&&h.push(new Xi(w)),h},[]);return new wc(o,u)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var eI=(()=>{class e{zone=j(rt);changeDetectionScheduler=j(Ar);applicationRef=j(hi);applicationErrorHandler=j(Yt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),k1=new J("",{factory:()=>!1});function _f({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new rt($e(Z({},Nf()),{scheduleInRootZone:n})),[{provide:rt,useFactory:e},{provide:Xn,multi:!0,useFactory:()=>{let o=j(eI,{optional:!0});return()=>o.initialize()}},{provide:Xn,multi:!0,useFactory:()=>{let o=j(tI);return()=>{o.initialize()}}},t===!0?{provide:Ad,useValue:!0}:[],{provide:Td,useValue:n??_1},{provide:Yt,useFactory:()=>{let o=j(rt),c=j(at),u;return h=>{o.runOutsideAngular(()=>{c.destroyed&&!u?setTimeout(()=>{throw h}):(u??=c.get(Ln),u.handleError(h))})}}}]}function Mf(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,o=_f({ngZoneFactory:()=>{let c=Nf(e);return c.scheduleInRootZone=n,c.shouldCoalesceEventChangeDetection&&Mc("NgZone_CoalesceEvent"),new rt(c)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Zn([{provide:k1,useValue:!0},{provide:Jo,useValue:!1},o])}function Nf(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var tI=(()=>{class e{subscription=new et;initialized=!1;zone=j(rt);pendingTasks=j(Jn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{rt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{rt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var B1=(()=>{class e{applicationErrorHandler=j(Yt);appRef=j(hi);taskService=j(Jn);ngZone=j(rt);zonelessEnabled=j(Jo);tracing=j(hs,{optional:!0});disableScheduling=j(Ad,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new et;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(j(Td,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ec||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let o=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,o=!0;break}case 12:{this.appRef.dirtyFlags|=16,o=!0;break}case 13:{this.appRef.dirtyFlags|=2,o=!0;break}case 11:{o=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;let c=this.useMicrotaskScheduler?l0:M1;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>c(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>c(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){this.taskService.remove(n),this.applicationErrorHandler(o)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,l0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nI(){return typeof $localize<"u"&&$localize.locale||ps}var Fc=new J("",{providedIn:"root",factory:()=>j(Fc,{optional:!0,skipSelf:!0})||nI()});var H1=Symbol("InputSignalNode#UNSET"),wI=$e(Z({},gu),{transformFn:void 0,applyValueToInputSignal(e,t){pu(e,t)}});function z1(e,t){let n=Object.create(wI);n.value=e,n.transformFn=t?.transform;function o(){if(lu(n),n.value===H1){let c=null;throw new Q(-950,c)}return n.value}return o[la]=n,o}var CI=new J("");CI.__NG_ELEMENT_ID__=e=>{let t=gn();if(t===null)throw new Q(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new Q(204,!1)};function j1(e,t){return z1(e,t)}function xI(e){return z1(H1,e)}var G1=(j1.required=xI,j1);var Rf=new J(""),vI=new J("");function gs(e){return!e.moduleRef}function II(e){let t=gs(e)?e.r3Injector:e.moduleRef.injector,n=t.get(rt);return n.run(()=>{gs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let o=t.get(Yt),c;if(n.runOutsideAngular(()=>{c=n.onError.subscribe({next:o})}),gs(e)){let u=()=>t.destroy(),h=e.platformInjector.get(Rf);h.add(u),t.onDestroy(()=>{c.unsubscribe(),h.delete(u)})}else{let u=()=>e.moduleRef.destroy(),h=e.platformInjector.get(Rf);h.add(u),e.moduleRef.onDestroy(()=>{rs(e.allPlatformModules,e.moduleRef),c.unsubscribe(),h.delete(u)})}return AI(o,n,()=>{let u=t.get(Af);return u.runInitializers(),u.donePromise.then(()=>{let h=t.get(Fc,ps);if(F1(h||ps),!t.get(vI,!0))return gs(e)?t.get(hi):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(gs(e)){let w=t.get(hi);return e.rootComponent!==void 0&&w.bootstrap(e.rootComponent),w}else return DI?.(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}var DI;function AI(e,t,n){try{let o=n();return Ki(o)?o.catch(c=>{throw t.runOutsideAngular(()=>e(c)),c}):o}catch(o){throw t.runOutsideAngular(()=>e(o)),o}}var kc=null;function TI(e=[],t){return On.create({name:t,providers:[{provide:Ho,useValue:"platform"},{provide:Rf,useValue:new Set([()=>kc=null])},...e]})}function bI(e=[]){if(kc)return kc;let t=TI(e);return kc=t,L1(),SI(t),t}function SI(e){let t=e.get(Ac,null);Mt(e,()=>{t?.forEach(n=>n())})}var kf=(()=>{class e{static __NG_ELEMENT_ID__=_I}return e})();function _I(e){return MI(gn(),qe(),(e&16)===16)}function MI(e,t,n){if(_r(e)&&!n){let o=pn(e.index,t);return new Rr(o,o)}else if(e.type&175){let o=t[fn];return new Rr(o,t)}return null}var Of=class{constructor(){}supports(t){return yf(t)}create(t){return new Lf(t)}},NI=(e,t)=>t,Lf=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||NI}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,o=this._removalsHead,c=0,u=null;for(;n||o;){let h=!o||n&&n.currentIndex<U1(o,c,u)?n:o,y=U1(h,c,u),w=h.currentIndex;if(h===o)c--,o=o._nextRemoved;else if(n=n._next,h.previousIndex==null)c++;else{u||(u=[]);let E=y-c,I=w-c;if(E!=I){for(let L=0;L<E;L++){let _=L<u.length?u[L]:u[L]=0,G=_+L;I<=G&&G<E&&(u[L]=_+1)}let b=h.previousIndex;u[b]=I-E}}y!==w&&t(h,y,w)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!yf(t))throw new Q(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,o=!1,c,u,h;if(Array.isArray(t)){this.length=t.length;for(let y=0;y<this.length;y++)u=t[y],h=this._trackByFn(y,u),n===null||!Object.is(n.trackById,h)?(n=this._mismatch(n,u,h,y),o=!0):(o&&(n=this._verifyReinsertion(n,u,h,y)),Object.is(n.item,u)||this._addIdentityChange(n,u)),n=n._next}else c=0,I1(t,y=>{h=this._trackByFn(c,y),n===null||!Object.is(n.trackById,h)?(n=this._mismatch(n,y,h,c),o=!0):(o&&(n=this._verifyReinsertion(n,y,h,c)),Object.is(n.item,y)||this._addIdentityChange(n,y)),n=n._next,c++}),this.length=c;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,o,c){let u;return t===null?u=this._itTail:(u=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(o,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,u,c)):(t=this._linkedRecords===null?null:this._linkedRecords.get(o,c),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,u,c)):t=this._addAfter(new Pf(n,o),u,c)),t}_verifyReinsertion(t,n,o,c){let u=this._unlinkedRecords===null?null:this._unlinkedRecords.get(o,null);return u!==null?t=this._reinsertAfter(u,t._prev,c):t.currentIndex!=c&&(t.currentIndex=c,this._addToMoves(t,c)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,o){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let c=t._prevRemoved,u=t._nextRemoved;return c===null?this._removalsHead=u:c._nextRemoved=u,u===null?this._removalsTail=c:u._prevRemoved=c,this._insertAfter(t,n,o),this._addToMoves(t,o),t}_moveAfter(t,n,o){return this._unlink(t),this._insertAfter(t,n,o),this._addToMoves(t,o),t}_addAfter(t,n,o){return this._insertAfter(t,n,o),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,o){let c=n===null?this._itHead:n._next;return t._next=c,t._prev=n,c===null?this._itTail=t:c._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Bc),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,o=t._next;return n===null?this._itHead=o:n._next=o,o===null?this._itTail=n:o._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Bc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Pf=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Ff=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let o;for(o=this._head;o!==null;o=o._nextDup)if((n===null||n<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){let n=t._prevDup,o=t._nextDup;return n===null?this._head=o:n._nextDup=o,o===null?this._tail=n:o._prevDup=n,this._head===null}},Bc=class{map=new Map;put(t){let n=t.trackById,o=this.map.get(n);o||(o=new Ff,this.map.set(n,o)),o.add(t)}get(t,n){let o=t,c=this.map.get(o);return c?c.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function U1(e,t,n){let o=e.previousIndex;if(o===null)return o;let c=0;return n&&o<n.length&&(c=n[o]),o+t+c}function V1(){return new Bf([new Of])}var Bf=(()=>{class e{factories;static \u0275prov=te({token:e,providedIn:"root",factory:V1});constructor(n){this.factories=n}static create(n,o){if(o!=null){let c=o.factories.slice();n=n.concat(c)}return new e(n)}static extend(n){return{provide:e,useFactory:o=>e.create(n,o||V1()),deps:[[e,new E0,new y0]]}}find(n){let o=this.factories.find(c=>c.supports(n));if(o!=null)return o;throw new Q(901,!1)}}return e})();function W1(e){He(8);try{let{rootComponent:t,appProviders:n,platformProviders:o}=e,c=bI(o),u=[_f({}),{provide:Ar,useExisting:B1},Ug,...n||[]],h=new ss({providers:u,parent:c,debugName:"",runEnvironmentInitializers:!1});return II({r3Injector:h.injector,platformInjector:c,rootComponent:t})}catch(t){return Promise.reject(t)}finally{He(9)}}var q1=null;function rr(){return q1}function jf(e){q1??=e}var ms=class{},Uf=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:()=>j(X1),providedIn:"platform"})}return e})();var X1=(()=>{class e extends Uf{_location;_history;_doc=j(nt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rr().getBaseHref(this._doc)}onPopState(n){let o=rr().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){let o=rr().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,c){this._history.pushState(n,o,c)}replaceState(n,o,c){this._history.replaceState(n,o,c)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Z1(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function $1(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Pr(e){return e&&e[0]!=="?"?`?${e}`:e}var jc=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:()=>j(K1),providedIn:"root"})}return e})(),Q1=new J(""),K1=(()=>{class e extends jc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,o){super(),this._platformLocation=n,this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??j(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Z1(this._baseHref,n)}path(n=!1){let o=this._platformLocation.pathname+Pr(this._platformLocation.search),c=this._platformLocation.hash;return c&&n?`${o}${c}`:o}pushState(n,o,c,u){let h=this.prepareExternalUrl(c+Pr(u));this._platformLocation.pushState(n,o,h)}replaceState(n,o,c,u){let h=this.prepareExternalUrl(c+Pr(u));this._platformLocation.replaceState(n,o,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(o){return new(o||e)(se(Uf),se(Q1,8))};static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),no=(()=>{class e{_subject=new Ct;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let o=this._locationStrategy.getBaseHref();this._basePath=LI($1(Y1(o))),this._locationStrategy.onPopState(c=>{this._subject.next({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+Pr(o))}normalize(n){return e.stripTrailingSlash(OI(this._basePath,Y1(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",c=null){this._locationStrategy.pushState(c,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Pr(o)),c)}replaceState(n,o="",c=null){this._locationStrategy.replaceState(c,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Pr(o)),c)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{let o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(c=>c(n,o))}subscribe(n,o,c){return this._subject.subscribe({next:n,error:o??void 0,complete:c??void 0})}static normalizeQueryParams=Pr;static joinWithSlash=Z1;static stripTrailingSlash=$1;static \u0275fac=function(o){return new(o||e)(se(jc))};static \u0275prov=te({token:e,factory:()=>RI(),providedIn:"root"})}return e})();function RI(){return new no(se(jc))}function OI(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Y1(e){return e.replace(/\/index.html$/,"")}function LI(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Vf=/\s+/,J1=[],Hf=(()=>{class e{_ngEl;_renderer;initialClasses=J1;rawClass;stateMap=new Map;constructor(n,o){this._ngEl=n,this._renderer=o}set klass(n){this.initialClasses=n!=null?n.trim().split(Vf):J1}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Vf):n}ngDoCheck(){for(let o of this.initialClasses)this._updateState(o,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let o of n)this._updateState(o,!0);else if(n!=null)for(let o of Object.keys(n))this._updateState(o,!!n[o]);this._applyStateDiff()}_updateState(n,o){let c=this.stateMap.get(n);c!==void 0?(c.enabled!==o&&(c.changed=!0,c.enabled=o),c.touched=!0):this.stateMap.set(n,{enabled:o,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let o=n[0],c=n[1];c.changed?(this._toggleClass(o,c.enabled),c.changed=!1):c.touched||(c.enabled&&this._toggleClass(o,!1),this.stateMap.delete(o)),c.touched=!1}}_toggleClass(n,o){n=n.trim(),n.length>0&&n.split(Vf).forEach(c=>{o?this._renderer.addClass(this._ngEl.nativeElement,c):this._renderer.removeClass(this._ngEl.nativeElement,c)})}static \u0275fac=function(o){return new(o||e)(rn(Ic),rn(mf))};static \u0275dir=fi({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Uc=class{$implicit;ngForOf;index;count;constructor(t,n,o,c){this.$implicit=t,this.ngForOf=n,this.index=o,this.count=c}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Hc=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,o,c){this._viewContainer=n,this._template=o,this._differs=c}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let o=this._viewContainer;n.forEachOperation((c,u,h)=>{if(c.previousIndex==null)o.createEmbeddedView(this._template,new Uc(c.item,this._ngForOf,-1,-1),h===null?void 0:h);else if(h==null)o.remove(u===null?void 0:u);else if(u!==null){let y=o.get(u);o.move(y,h),em(y,c)}});for(let c=0,u=o.length;c<u;c++){let y=o.get(c).context;y.index=c,y.count=u,y.ngForOf=this._ngForOf}n.forEachIdentityChange(c=>{let u=o.get(c.currentIndex);em(u,c)})}static ngTemplateContextGuard(n,o){return!0}static \u0275fac=function(o){return new(o||e)(rn(ui),rn(cs),rn(Bf))};static \u0275dir=fi({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function em(e,t){e.context.$implicit=t.item}var zf=(()=>{class e{_viewContainer;_context=new Vc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,o){this._viewContainer=n,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){tm(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){tm(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,o){return!0}static \u0275fac=function(o){return new(o||e)(rn(ui),rn(cs))};static \u0275dir=fi({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),Vc=class{$implicit=null;ngIf=null};function tm(e,t){if(e&&!e.createEmbeddedView)throw new Q(2020,!1)}function FI(e,t){return new Q(2100,!1)}var kI=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Gf=(()=>{class e{transform(n){if(n==null)return null;if(typeof n!="string")throw FI(e,n);return n.replace(kI,o=>o[0].toUpperCase()+o.slice(1).toLowerCase())}static \u0275fac=function(o){return new(o||e)};static \u0275pipe=fs({name:"titlecase",type:e,pure:!0})}return e})();var zc=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=di({type:e});static \u0275inj=Tr({})}return e})();function ys(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let o=n.indexOf("="),[c,u]=o==-1?[n,""]:[n.slice(0,o),n.slice(o+1)];if(c.trim()===t)return decodeURIComponent(u)}return null}var gi=class{};var nm="browser",BI="server";function rm(e){return e===BI}var $c=new J(""),qf=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,o){this._zone=o,n.forEach(c=>{c.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,c,u){return this._findPluginFor(o).addEventListener(n,o,c,u)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(u=>u.supports(n)),!o)throw new Q(5101,!1);return this._eventNameToPlugin.set(n,o),o}static \u0275fac=function(o){return new(o||e)(se($c),se(rt))};static \u0275prov=te({token:e,factory:e.\u0275fac})}return e})(),Es=class{_doc;constructor(t){this._doc=t}manager},Gc="ng-app-id";function im(e){for(let t of e)t.remove()}function om(e,t){let n=t.createElement("style");return n.textContent=e,n}function UI(e,t,n,o){let c=e.head?.querySelectorAll(`style[${Gc}="${t}"],link[${Gc}="${t}"]`);if(c)for(let u of c)u.removeAttribute(Gc),u instanceof HTMLLinkElement?o.set(u.href.slice(u.href.lastIndexOf("/")+1),{usage:0,elements:[u]}):u.textContent&&n.set(u.textContent,{usage:0,elements:[u]})}function $f(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Xf=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,o,c,u={}){this.doc=n,this.appId=o,this.nonce=c,this.isServer=rm(u),UI(n,o,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,o){for(let c of n)this.addUsage(c,this.inline,om);o?.forEach(c=>this.addUsage(c,this.external,$f))}removeStyles(n,o){for(let c of n)this.removeUsage(c,this.inline);o?.forEach(c=>this.removeUsage(c,this.external))}addUsage(n,o,c){let u=o.get(n);u?u.usage++:o.set(n,{usage:1,elements:[...this.hosts].map(h=>this.addElement(h,c(n,this.doc)))})}removeUsage(n,o){let c=o.get(n);c&&(c.usage--,c.usage<=0&&(im(c.elements),o.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])im(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[o,{elements:c}]of this.inline)c.push(this.addElement(n,om(o,this.doc)));for(let[o,{elements:c}]of this.external)c.push(this.addElement(n,$f(o,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,o){return this.nonce&&o.setAttribute("nonce",this.nonce),this.isServer&&o.setAttribute(Gc,this.appId),n.appendChild(o)}static \u0275fac=function(o){return new(o||e)(se(nt),se(Dc),se(Tc,8),se(Qi))};static \u0275prov=te({token:e,factory:e.\u0275fac})}return e})(),Wf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Zf=/%COMP%/g;var am="%COMP%",VI=`_nghost-${am}`,HI=`_ngcontent-${am}`,zI=!0,GI=new J("",{providedIn:"root",factory:()=>zI});function WI(e){return HI.replace(Zf,e)}function $I(e){return VI.replace(Zf,e)}function cm(e,t){return t.map(n=>n.replace(Zf,e))}var Qf=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,o,c,u,h,y,w,E=null,I=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=c,this.removeStylesOnCompDestroy=u,this.doc=h,this.platformId=y,this.ngZone=w,this.nonce=E,this.tracingService=I,this.platformIsServer=!1,this.defaultRenderer=new ws(n,h,w,this.platformIsServer,this.tracingService)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;let c=this.getOrCreateRenderer(n,o);return c instanceof Wc?c.applyToHost(n):c instanceof Cs&&c.applyStyles(),c}getOrCreateRenderer(n,o){let c=this.rendererByCompId,u=c.get(o.id);if(!u){let h=this.doc,y=this.ngZone,w=this.eventManager,E=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,b=this.platformIsServer,L=this.tracingService;switch(o.encapsulation){case er.Emulated:u=new Wc(w,E,o,this.appId,I,h,y,b,L);break;case er.ShadowDom:return new Yf(w,E,n,o,h,y,this.nonce,b,L);default:u=new Cs(w,E,o,I,h,y,b,L);break}c.set(o.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(o){return new(o||e)(se(qf),se(Xf),se(Dc),se(GI),se(nt),se(Qi),se(rt),se(Tc),se(hs,8))};static \u0275prov=te({token:e,factory:e.\u0275fac})}return e})(),ws=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,o,c,u){this.eventManager=t,this.doc=n,this.ngZone=o,this.platformIsServer=c,this.tracingService=u}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Wf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(sm(t)?t.content:t).appendChild(n)}insertBefore(t,n,o){t&&(sm(t)?t.content:t).insertBefore(n,o)}removeChild(t,n){n.remove()}selectRootElement(t,n){let o=typeof t=="string"?this.doc.querySelector(t):t;if(!o)throw new Q(-5104,!1);return n||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,o,c){if(c){n=c+":"+n;let u=Wf[c];u?t.setAttributeNS(u,n,o):t.setAttribute(n,o)}else t.setAttribute(n,o)}removeAttribute(t,n,o){if(o){let c=Wf[o];c?t.removeAttributeNS(c,n):t.removeAttribute(`${o}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,o,c){c&(Or.DashCase|Or.Important)?t.style.setProperty(n,o,c&Or.Important?"important":""):t.style[n]=o}removeStyle(t,n,o){o&Or.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,o){t!=null&&(t[n]=o)}setValue(t,n){t.nodeValue=n}listen(t,n,o,c){if(typeof t=="string"&&(t=rr().getGlobalEventTarget(this.doc,t),!t))throw new Q(5102,!1);let u=this.decoratePreventDefault(o);return this.tracingService?.wrapEventListener&&(u=this.tracingService.wrapEventListener(t,n,u)),this.eventManager.addEventListener(t,n,u,c)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function sm(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Yf=class extends ws{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,o,c,u,h,y,w,E){super(t,u,h,w,E),this.sharedStylesHost=n,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let I=c.styles;I=cm(c.id,I);for(let L of I){let _=document.createElement("style");y&&_.setAttribute("nonce",y),_.textContent=L,this.shadowRoot.appendChild(_)}let b=c.getExternalStyles?.();if(b)for(let L of b){let _=$f(L,u);y&&_.setAttribute("nonce",y),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,o){return super.insertBefore(this.nodeOrShadowRoot(t),n,o)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Cs=class extends ws{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,o,c,u,h,y,w,E){super(t,u,h,y,w),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=c;let I=o.styles;this.styles=E?cm(E,I):I,this.styleUrls=o.getExternalStyles?.(E)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Wc=class extends Cs{contentAttr;hostAttr;constructor(t,n,o,c,u,h,y,w,E){let I=c+"-"+o.id;super(t,n,o,u,h,y,w,E,I),this.contentAttr=WI(I),this.hostAttr=$I(I)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let o=super.createElement(t,n);return super.setAttribute(o,this.contentAttr,""),o}};var Yc=class e extends ms{supportsDOMEvents=!0;static makeCurrent(){jf(new e)}onAndCancel(t,n,o,c){return t.addEventListener(n,o,c),()=>{t.removeEventListener(n,o,c)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=YI();return n==null?null:qI(n)}resetBaseElement(){xs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ys(document.cookie,t)}},xs=null;function YI(){return xs=xs||document.head.querySelector("base"),xs?xs.getAttribute("href"):null}function qI(e){return new URL(e,document.baseURI).pathname}var XI=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:e.\u0275fac})}return e})(),um=(()=>{class e extends Es{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,c,u){return n.addEventListener(o,c,u),()=>this.removeEventListener(n,o,c,u)}removeEventListener(n,o,c,u){return n.removeEventListener(o,c,u)}static \u0275fac=function(o){return new(o||e)(se(nt))};static \u0275prov=te({token:e,factory:e.\u0275fac})}return e})(),lm=["alt","control","meta","shift"],ZI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QI={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},dm=(()=>{class e extends Es{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,o,c,u){let h=e.parseEventName(o),y=e.eventCallback(h.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rr().onAndCancel(n,h.domEventName,y,u))}static parseEventName(n){let o=n.toLowerCase().split("."),c=o.shift();if(o.length===0||!(c==="keydown"||c==="keyup"))return null;let u=e._normalizeKey(o.pop()),h="",y=o.indexOf("code");if(y>-1&&(o.splice(y,1),h="code."),lm.forEach(E=>{let I=o.indexOf(E);I>-1&&(o.splice(I,1),h+=E+".")}),h+=u,o.length!=0||u.length===0)return null;let w={};return w.domEventName=c,w.fullKey=h,w}static matchEventFullKeyCode(n,o){let c=ZI[n.key]||n.key,u="";return o.indexOf("code.")>-1&&(c=n.code,u="code."),c==null||!c?!1:(c=c.toLowerCase(),c===" "?c="space":c==="."&&(c="dot"),lm.forEach(h=>{if(h!==c){let y=QI[h];y(n)&&(u+=h+".")}}),u+=c,u===o)}static eventCallback(n,o,c){return u=>{e.matchEventFullKeyCode(u,n)&&c.runGuarded(()=>o(u))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(o){return new(o||e)(se(nt))};static \u0275prov=te({token:e,factory:e.\u0275fac})}return e})();function Kf(e,t){return W1(Z({rootComponent:e},KI(t)))}function KI(e){return{appProviders:[...rD,...e?.providers??[]],platformProviders:nD}}function JI(){Yc.makeCurrent()}function eD(){return new Ln}function tD(){return Jd(document),document}var nD=[{provide:Qi,useValue:nm},{provide:Ac,useValue:JI,multi:!0},{provide:nt,useFactory:tD}];var rD=[{provide:Ho,useValue:"root"},{provide:Ln,useFactory:eD},{provide:$c,useClass:um,multi:!0,deps:[nt]},{provide:$c,useClass:dm,multi:!0,deps:[nt]},Qf,Xf,qf,{provide:ai,useExisting:Qf},{provide:gi,useClass:XI},[]];var io=class{},vs=class{},Fr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let o=n.indexOf(":");if(o>0){let c=n.slice(0,o),u=n.slice(o+1).trim();this.addHeaderEntry(c,u)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,o)=>{this.addHeaderEntry(o,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,o])=>{this.setHeaderEntries(n,o)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if(typeof o=="string"&&(o=[o]),o.length===0)return;this.maybeSetNormalizedName(t.name,n);let c=(t.op==="a"?this.headers.get(n):void 0)||[];c.push(...o),this.headers.set(n,c);break;case"d":let u=t.value;if(!u)this.headers.delete(n),this.normalizedNames.delete(n);else{let h=this.headers.get(n);if(!h)return;h=h.filter(y=>u.indexOf(y)===-1),h.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,h)}break}}addHeaderEntry(t,n){let o=t.toLowerCase();this.maybeSetNormalizedName(t,o),this.headers.has(o)?this.headers.get(o).push(n):this.headers.set(o,[n])}setHeaderEntries(t,n){let o=(Array.isArray(n)?n:[n]).map(u=>u.toString()),c=t.toLowerCase();this.headers.set(c,o),this.maybeSetNormalizedName(t,c)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Xc=class{encodeKey(t){return fm(t)}encodeValue(t){return fm(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function iD(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(c=>{let u=c.indexOf("="),[h,y]=u==-1?[t.decodeKey(c),""]:[t.decodeKey(c.slice(0,u)),t.decodeValue(c.slice(u+1))],w=n.get(h)||[];w.push(y),n.set(h,w)}),n}var oD=/%(\d[a-f0-9])/gi,sD={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fm(e){return encodeURIComponent(e).replace(oD,(t,n)=>sD[n]??t)}function qc(e){return`${e}`}var ir=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Xc,t.fromString){if(t.fromObject)throw new Q(2805,!1);this.map=iD(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let o=t.fromObject[n],c=Array.isArray(o)?o.map(qc):[qc(o)];this.map.set(n,c)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(o=>{let c=t[o];Array.isArray(c)?c.forEach(u=>{n.push({param:o,value:u,op:"a"})}):n.push({param:o,value:c,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(o=>n+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(qc(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let o=this.map.get(t.param)||[],c=o.indexOf(qc(t.value));c!==-1&&o.splice(c,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Zc=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function aD(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function hm(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function pm(e){return typeof Blob<"u"&&e instanceof Blob}function gm(e){return typeof FormData<"u"&&e instanceof FormData}function cD(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var mm="Content-Type",ym="Accept",wm="X-Request-URL",Cm="text/plain",xm="application/json",lD=`${xm}, ${Cm}, */*`,ro=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,o,c){this.url=n,this.method=t.toUpperCase();let u;if(aD(this.method)||c?(this.body=o!==void 0?o:null,u=c):u=o,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,this.keepalive=!!u.keepalive,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params),this.transferCache=u.transferCache),this.headers??=new Fr,this.context??=new Zc,!this.params)this.params=new ir,this.urlWithParams=n;else{let h=this.params.toString();if(h.length===0)this.urlWithParams=n;else{let y=n.indexOf("?"),w=y===-1?"?":y<n.length-1?"&":"";this.urlWithParams=n+w+h}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||hm(this.body)||pm(this.body)||gm(this.body)||cD(this.body)?this.body:this.body instanceof ir?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||gm(this.body)?null:pm(this.body)?this.body.type||null:hm(this.body)?null:typeof this.body=="string"?Cm:this.body instanceof ir?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?xm:null}clone(t={}){let n=t.method||this.method,o=t.url||this.url,c=t.responseType||this.responseType,u=t.keepalive??this.keepalive,h=t.transferCache??this.transferCache,y=t.body!==void 0?t.body:this.body,w=t.withCredentials??this.withCredentials,E=t.reportProgress??this.reportProgress,I=t.headers||this.headers,b=t.params||this.params,L=t.context??this.context;return t.setHeaders!==void 0&&(I=Object.keys(t.setHeaders).reduce((_,G)=>_.set(G,t.setHeaders[G]),I)),t.setParams&&(b=Object.keys(t.setParams).reduce((_,G)=>_.set(G,t.setParams[G]),b)),new e(n,o,y,{params:b,headers:I,context:L,reportProgress:E,responseType:c,withCredentials:w,transferCache:h,keepalive:u})}},mi=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(mi||{}),oo=class{headers;status;statusText;url;ok;type;constructor(t,n=200,o="OK"){this.headers=t.headers||new Fr,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Qc=class e extends oo{constructor(t={}){super(t)}type=mi.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Is=class e extends oo{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=mi.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ds=class extends oo{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},uD=200,dD=204;function Jf(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache,keepalive:e.keepalive}}var Jc=(()=>{class e{handler;constructor(n){this.handler=n}request(n,o,c={}){let u;if(n instanceof ro)u=n;else{let w;c.headers instanceof Fr?w=c.headers:w=new Fr(c.headers);let E;c.params&&(c.params instanceof ir?E=c.params:E=new ir({fromObject:c.params})),u=new ro(n,o,c.body!==void 0?c.body:null,{headers:w,context:c.context,params:E,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials,transferCache:c.transferCache,keepalive:c.keepalive})}let h=ae(u).pipe(Cr(w=>this.handler.handle(w)));if(n instanceof ro||c.observe==="events")return h;let y=h.pipe(zt(w=>w instanceof Is));switch(c.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return y.pipe(ye(w=>{if(w.body!==null&&!(w.body instanceof ArrayBuffer))throw new Q(2806,!1);return w.body}));case"blob":return y.pipe(ye(w=>{if(w.body!==null&&!(w.body instanceof Blob))throw new Q(2807,!1);return w.body}));case"text":return y.pipe(ye(w=>{if(w.body!==null&&typeof w.body!="string")throw new Q(2808,!1);return w.body}));case"json":default:return y.pipe(ye(w=>w.body))}case"response":return y;default:throw new Q(2809,!1)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:new ir().append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,c={}){return this.request("PATCH",n,Jf(c,o))}post(n,o,c={}){return this.request("POST",n,Jf(c,o))}put(n,o,c={}){return this.request("PUT",n,Jf(c,o))}static \u0275fac=function(o){return new(o||e)(se(io))};static \u0275prov=te({token:e,factory:e.\u0275fac})}return e})();var fD=new J("");function vm(e,t){return t(e)}function hD(e,t){return(n,o)=>t.intercept(n,{handle:c=>e(c,o)})}function pD(e,t,n){return(o,c)=>Mt(n,()=>t(o,u=>e(u,c)))}var Im=new J(""),th=new J(""),Dm=new J(""),nh=new J("",{providedIn:"root",factory:()=>!0});function gD(){let e=null;return(t,n)=>{e===null&&(e=(j(Im,{optional:!0})??[]).reduceRight(hD,vm));let o=j(es);if(j(nh)){let u=o.add();return e(t,n).pipe(vr(u))}else return e(t,n)}}var Kc=(()=>{class e extends io{backend;injector;chain=null;pendingTasks=j(es);contributeToStability=j(nh);constructor(n,o){super(),this.backend=n,this.injector=o}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(th),...this.injector.get(Dm,[])]));this.chain=o.reduceRight((c,u)=>pD(c,u,this.injector),vm)}if(this.contributeToStability){let o=this.pendingTasks.add();return this.chain(n,c=>this.backend.handle(c)).pipe(vr(o))}else return this.chain(n,o=>this.backend.handle(o))}static \u0275fac=function(o){return new(o||e)(se(vs),se(at))};static \u0275prov=te({token:e,factory:e.\u0275fac})}return e})();var mD=/^\)\]\}',?\n/,yD=RegExp(`^${wm}:`,"m");function ED(e){return"responseURL"in e&&e.responseURL?e.responseURL:yD.test(e.getAllResponseHeaders())?e.getResponseHeader(wm):null}var eh=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Q(-2800,!1);n.keepalive;let o=this.xhrFactory;return ae(null).pipe(Gt(()=>new Ie(u=>{let h=o.build();if(h.open(n.method,n.urlWithParams),n.withCredentials&&(h.withCredentials=!0),n.headers.forEach((W,U)=>h.setRequestHeader(W,U.join(","))),n.headers.has(ym)||h.setRequestHeader(ym,lD),!n.headers.has(mm)){let W=n.detectContentTypeHeader();W!==null&&h.setRequestHeader(mm,W)}if(n.responseType){let W=n.responseType.toLowerCase();h.responseType=W!=="json"?W:"text"}let y=n.serializeBody(),w=null,E=()=>{if(w!==null)return w;let W=h.statusText||"OK",U=new Fr(h.getAllResponseHeaders()),V=ED(h)||n.url;return w=new Qc({headers:U,status:h.status,statusText:W,url:V}),w},I=()=>{let{headers:W,status:U,statusText:V,url:ge}=E(),Pe=null;U!==dD&&(Pe=typeof h.response>"u"?h.responseText:h.response),U===0&&(U=Pe?uD:0);let Ee=U>=200&&U<300;if(n.responseType==="json"&&typeof Pe=="string"){let H=Pe;Pe=Pe.replace(mD,"");try{Pe=Pe!==""?JSON.parse(Pe):null}catch(De){Pe=H,Ee&&(Ee=!1,Pe={error:De,text:Pe})}}Ee?(u.next(new Is({body:Pe,headers:W,status:U,statusText:V,url:ge||void 0})),u.complete()):u.error(new Ds({error:Pe,headers:W,status:U,statusText:V,url:ge||void 0}))},b=W=>{let{url:U}=E(),V=new Ds({error:W,status:h.status||0,statusText:h.statusText||"Unknown Error",url:U||void 0});u.error(V)},L=!1,_=W=>{L||(u.next(E()),L=!0);let U={type:mi.DownloadProgress,loaded:W.loaded};W.lengthComputable&&(U.total=W.total),n.responseType==="text"&&h.responseText&&(U.partialText=h.responseText),u.next(U)},G=W=>{let U={type:mi.UploadProgress,loaded:W.loaded};W.lengthComputable&&(U.total=W.total),u.next(U)};return h.addEventListener("load",I),h.addEventListener("error",b),h.addEventListener("timeout",b),h.addEventListener("abort",b),n.reportProgress&&(h.addEventListener("progress",_),y!==null&&h.upload&&h.upload.addEventListener("progress",G)),h.send(y),u.next({type:mi.Sent}),()=>{h.removeEventListener("error",b),h.removeEventListener("abort",b),h.removeEventListener("load",I),h.removeEventListener("timeout",b),n.reportProgress&&(h.removeEventListener("progress",_),y!==null&&h.upload&&h.upload.removeEventListener("progress",G)),h.readyState!==h.DONE&&h.abort()}})))}static \u0275fac=function(o){return new(o||e)(se(gi))};static \u0275prov=te({token:e,factory:e.\u0275fac})}return e})(),Am=new J(""),wD="XSRF-TOKEN",CD=new J("",{providedIn:"root",factory:()=>wD}),xD="X-XSRF-TOKEN",vD=new J("",{providedIn:"root",factory:()=>xD}),As=class{},ID=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,o){this.doc=n,this.cookieName=o}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ys(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(o){return new(o||e)(se(nt),se(CD))};static \u0275prov=te({token:e,factory:e.\u0275fac})}return e})();function DD(e,t){let n=e.url.toLowerCase();if(!j(Am)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let o=j(As).getToken(),c=j(vD);return o!=null&&!e.headers.has(c)&&(e=e.clone({headers:e.headers.set(c,o)})),t(e)}var rh=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(rh||{});function AD(e,t){return{\u0275kind:e,\u0275providers:t}}function Tm(...e){let t=[Jc,eh,Kc,{provide:io,useExisting:Kc},{provide:vs,useFactory:()=>j(fD,{optional:!0})??j(eh)},{provide:th,useValue:DD,multi:!0},{provide:Am,useValue:!0},{provide:As,useClass:ID}];for(let n of e)t.push(...n.\u0275providers);return Zn(t)}var Em=new J("");function bm(){return AD(rh.LegacyInterceptors,[{provide:Em,useFactory:gD},{provide:th,useExisting:Em,multi:!0}])}var ih=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=di({type:e});static \u0275inj=Tr({providers:[Tm(bm())]})}return e})();var Sm=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(o){return new(o||e)(se(nt))};static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var fe="primary",Us=Symbol("RouteTitle"),lh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function wi(e){return new lh(e)}function Fm(e,t,n){let o=n.path.split("/");if(o.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||o.length<e.length))return null;let c={};for(let u=0;u<o.length;u++){let h=o[u],y=e[u];if(h[0]===":")c[h.substring(1)]=y;else if(h!==y.path)return null}return{consumed:e.slice(0,o.length),posParams:c}}function SD(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!jn(e[n],t[n]))return!1;return!0}function jn(e,t){let n=e?uh(e):void 0,o=t?uh(t):void 0;if(!n||!o||n.length!=o.length)return!1;let c;for(let u=0;u<n.length;u++)if(c=n[u],!km(e[c],t[c]))return!1;return!0}function uh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function km(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),o=[...t].sort();return n.every((c,u)=>o[u]===c)}else return e===t}function Bm(e){return e.length>0?e[e.length-1]:null}function ar(e){return Au(e)?e:Ki(e)?tt(Promise.resolve(e)):ae(e)}var _D={exact:Um,subset:Vm},jm={exact:MD,subset:ND,ignored:()=>!0};function _m(e,t,n){return _D[n.paths](e.root,t.root,n.matrixParams)&&jm[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function MD(e,t){return jn(e,t)}function Um(e,t,n){if(!yi(e.segments,t.segments)||!nl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let o in t.children)if(!e.children[o]||!Um(e.children[o],t.children[o],n))return!1;return!0}function ND(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>km(e[n],t[n]))}function Vm(e,t,n){return Hm(e,t,t.segments,n)}function Hm(e,t,n,o){if(e.segments.length>n.length){let c=e.segments.slice(0,n.length);return!(!yi(c,n)||t.hasChildren()||!nl(c,n,o))}else if(e.segments.length===n.length){if(!yi(e.segments,n)||!nl(e.segments,n,o))return!1;for(let c in t.children)if(!e.children[c]||!Vm(e.children[c],t.children[c],o))return!1;return!0}else{let c=n.slice(0,e.segments.length),u=n.slice(e.segments.length);return!yi(e.segments,c)||!nl(e.segments,c,o)||!e.children[fe]?!1:Hm(e.children[fe],t,u,o)}}function nl(e,t,n){return t.every((o,c)=>jm[n](e[c].parameters,o.parameters))}var Vn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Le([],{}),n={},o=null){this.root=t,this.queryParams=n,this.fragment=o}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){return LD.serialize(this)}},Le=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rl(this)}},kr=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=wi(this.parameters),this._parameterMap}toString(){return Gm(this)}};function RD(e,t){return yi(e,t)&&e.every((n,o)=>jn(n.parameters,t[o].parameters))}function yi(e,t){return e.length!==t.length?!1:e.every((n,o)=>n.path===t[o].path)}function OD(e,t){let n=[];return Object.entries(e.children).forEach(([o,c])=>{o===fe&&(n=n.concat(t(c,o)))}),Object.entries(e.children).forEach(([o,c])=>{o!==fe&&(n=n.concat(t(c,o)))}),n}var Vs=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:()=>new Ci,providedIn:"root"})}return e})(),Ci=class{parse(t){let n=new fh(t);return new Vn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Ts(t.root,!0)}`,o=kD(t.queryParams),c=typeof t.fragment=="string"?`#${PD(t.fragment)}`:"";return`${n}${o}${c}`}},LD=new Ci;function rl(e){return e.segments.map(t=>Gm(t)).join("/")}function Ts(e,t){if(!e.hasChildren())return rl(e);if(t){let n=e.children[fe]?Ts(e.children[fe],!1):"",o=[];return Object.entries(e.children).forEach(([c,u])=>{c!==fe&&o.push(`${c}:${Ts(u,!1)}`)}),o.length>0?`${n}(${o.join("//")})`:n}else{let n=OD(e,(o,c)=>c===fe?[Ts(e.children[fe],!1)]:[`${c}:${Ts(o,!1)}`]);return Object.keys(e.children).length===1&&e.children[fe]!=null?`${rl(e)}/${n[0]}`:`${rl(e)}/(${n.join("//")})`}}function zm(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function el(e){return zm(e).replace(/%3B/gi,";")}function PD(e){return encodeURI(e)}function dh(e){return zm(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function il(e){return decodeURIComponent(e)}function Mm(e){return il(e.replace(/\+/g,"%20"))}function Gm(e){return`${dh(e.path)}${FD(e.parameters)}`}function FD(e){return Object.entries(e).map(([t,n])=>`;${dh(t)}=${dh(n)}`).join("")}function kD(e){let t=Object.entries(e).map(([n,o])=>Array.isArray(o)?o.map(c=>`${el(n)}=${el(c)}`).join("&"):`${el(n)}=${el(o)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var BD=/^[^\/()?;#]+/;function oh(e){let t=e.match(BD);return t?t[0]:""}var jD=/^[^\/()?;=#]+/;function UD(e){let t=e.match(jD);return t?t[0]:""}var VD=/^[^=?&#]+/;function HD(e){let t=e.match(VD);return t?t[0]:""}var zD=/^[^&#]+/;function GD(e){let t=e.match(zD);return t?t[0]:""}var fh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(o[fe]=new Le(t,n)),o}parseSegment(){let t=oh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(t),new kr(il(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=UD(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){let c=oh(this.remaining);c&&(o=c,this.capture(o))}t[il(n)]=il(o)}parseQueryParam(t){let n=HD(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){let h=GD(this.remaining);h&&(o=h,this.capture(o))}let c=Mm(n),u=Mm(o);if(t.hasOwnProperty(c)){let h=t[c];Array.isArray(h)||(h=[h],t[c]=h),h.push(u)}else t[c]=u}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let o=oh(this.remaining),c=this.remaining[o.length];if(c!=="/"&&c!==")"&&c!==";")throw new Q(4010,!1);let u;o.indexOf(":")>-1?(u=o.slice(0,o.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=fe);let h=this.parseChildren();n[u]=Object.keys(h).length===1?h[fe]:new Le([],h),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Q(4011,!1)}};function Wm(e){return e.segments.length>0?new Le([],{[fe]:e}):e}function $m(e){let t={};for(let[o,c]of Object.entries(e.children)){let u=$m(c);if(o===fe&&u.segments.length===0&&u.hasChildren())for(let[h,y]of Object.entries(u.children))t[h]=y;else(u.segments.length>0||u.hasChildren())&&(t[o]=u)}let n=new Le(e.segments,t);return WD(n)}function WD(e){if(e.numberOfChildren===1&&e.children[fe]){let t=e.children[fe];return new Le(e.segments.concat(t.segments),t.children)}return e}function uo(e){return e instanceof Vn}function Ym(e,t,n=null,o=null){let c=qm(e);return Xm(c,t,n,o)}function qm(e){let t;function n(u){let h={};for(let w of u.children){let E=n(w);h[w.outlet]=E}let y=new Le(u.url,h);return u===e&&(t=y),y}let o=n(e.root),c=Wm(o);return t??c}function Xm(e,t,n,o){let c=e;for(;c.parent;)c=c.parent;if(t.length===0)return sh(c,c,c,n,o);let u=$D(t);if(u.toRoot())return sh(c,c,new Le([],{}),n,o);let h=YD(u,c,e),y=h.processChildren?Ss(h.segmentGroup,h.index,u.commands):Qm(h.segmentGroup,h.index,u.commands);return sh(c,h.segmentGroup,y,n,o)}function ol(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ns(e){return typeof e=="object"&&e!=null&&e.outlets}function sh(e,t,n,o,c){let u={};o&&Object.entries(o).forEach(([w,E])=>{u[w]=Array.isArray(E)?E.map(I=>`${I}`):`${E}`});let h;e===t?h=n:h=Zm(e,t,n);let y=Wm($m(h));return new Vn(y,u,c)}function Zm(e,t,n){let o={};return Object.entries(e.children).forEach(([c,u])=>{u===t?o[c]=n:o[c]=Zm(u,t,n)}),new Le(e.segments,o)}var sl=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,o){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=o,t&&o.length>0&&ol(o[0]))throw new Q(4003,!1);let c=o.find(Ns);if(c&&c!==Bm(o))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $D(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new sl(!0,0,e);let t=0,n=!1,o=e.reduce((c,u,h)=>{if(typeof u=="object"&&u!=null){if(u.outlets){let y={};return Object.entries(u.outlets).forEach(([w,E])=>{y[w]=typeof E=="string"?E.split("/"):E}),[...c,{outlets:y}]}if(u.segmentPath)return[...c,u.segmentPath]}return typeof u!="string"?[...c,u]:h===0?(u.split("/").forEach((y,w)=>{w==0&&y==="."||(w==0&&y===""?n=!0:y===".."?t++:y!=""&&c.push(y))}),c):[...c,u]},[]);return new sl(n,t,o)}var co=class{segmentGroup;processChildren;index;constructor(t,n,o){this.segmentGroup=t,this.processChildren=n,this.index=o}};function YD(e,t,n){if(e.isAbsolute)return new co(t,!0,0);if(!n)return new co(t,!1,NaN);if(n.parent===null)return new co(n,!0,0);let o=ol(e.commands[0])?0:1,c=n.segments.length-1+o;return qD(n,c,e.numberOfDoubleDots)}function qD(e,t,n){let o=e,c=t,u=n;for(;u>c;){if(u-=c,o=o.parent,!o)throw new Q(4005,!1);c=o.segments.length}return new co(o,!1,c-u)}function XD(e){return Ns(e[0])?e[0].outlets:{[fe]:e}}function Qm(e,t,n){if(e??=new Le([],{}),e.segments.length===0&&e.hasChildren())return Ss(e,t,n);let o=ZD(e,t,n),c=n.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){let u=new Le(e.segments.slice(0,o.pathIndex),{});return u.children[fe]=new Le(e.segments.slice(o.pathIndex),e.children),Ss(u,0,c)}else return o.match&&c.length===0?new Le(e.segments,{}):o.match&&!e.hasChildren()?hh(e,t,n):o.match?Ss(e,0,c):hh(e,t,n)}function Ss(e,t,n){if(n.length===0)return new Le(e.segments,{});{let o=XD(n),c={};if(Object.keys(o).some(u=>u!==fe)&&e.children[fe]&&e.numberOfChildren===1&&e.children[fe].segments.length===0){let u=Ss(e.children[fe],t,n);return new Le(e.segments,u.children)}return Object.entries(o).forEach(([u,h])=>{typeof h=="string"&&(h=[h]),h!==null&&(c[u]=Qm(e.children[u],t,h))}),Object.entries(e.children).forEach(([u,h])=>{o[u]===void 0&&(c[u]=h)}),new Le(e.segments,c)}}function ZD(e,t,n){let o=0,c=t,u={match:!1,pathIndex:0,commandIndex:0};for(;c<e.segments.length;){if(o>=n.length)return u;let h=e.segments[c],y=n[o];if(Ns(y))break;let w=`${y}`,E=o<n.length-1?n[o+1]:null;if(c>0&&w===void 0)break;if(w&&E&&typeof E=="object"&&E.outlets===void 0){if(!Rm(w,E,h))return u;o+=2}else{if(!Rm(w,{},h))return u;o++}c++}return{match:!0,pathIndex:c,commandIndex:o}}function hh(e,t,n){let o=e.segments.slice(0,t),c=0;for(;c<n.length;){let u=n[c];if(Ns(u)){let w=QD(u.outlets);return new Le(o,w)}if(c===0&&ol(n[0])){let w=e.segments[t];o.push(new kr(w.path,Nm(n[0]))),c++;continue}let h=Ns(u)?u.outlets[fe]:`${u}`,y=c<n.length-1?n[c+1]:null;h&&y&&ol(y)?(o.push(new kr(h,Nm(y))),c+=2):(o.push(new kr(h,{})),c++)}return new Le(o,{})}function QD(e){let t={};return Object.entries(e).forEach(([n,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(t[n]=hh(new Le([],{}),0,o))}),t}function Nm(e){let t={};return Object.entries(e).forEach(([n,o])=>t[n]=`${o}`),t}function Rm(e,t,n){return e==n.path&&jn(t,n.parameters)}var _s="imperative",pt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(pt||{}),sn=class{id;url;constructor(t,n){this.id=t,this.url=n}},xi=class extends sn{type=pt.NavigationStart;navigationTrigger;restoredState;constructor(t,n,o="imperative",c=null){super(t,n),this.navigationTrigger=o,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},or=class extends sn{urlAfterRedirects;type=pt.NavigationEnd;constructor(t,n,o){super(t,n),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(Pt||{}),Rs=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Rs||{}),Un=class extends sn{reason;code;type=pt.NavigationCancel;constructor(t,n,o,c){super(t,n),this.reason=o,this.code=c}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},sr=class extends sn{reason;code;type=pt.NavigationSkipped;constructor(t,n,o,c){super(t,n),this.reason=o,this.code=c}},fo=class extends sn{error;target;type=pt.NavigationError;constructor(t,n,o,c){super(t,n),this.error=o,this.target=c}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Os=class extends sn{urlAfterRedirects;state;type=pt.RoutesRecognized;constructor(t,n,o,c){super(t,n),this.urlAfterRedirects=o,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},al=class extends sn{urlAfterRedirects;state;type=pt.GuardsCheckStart;constructor(t,n,o,c){super(t,n),this.urlAfterRedirects=o,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cl=class extends sn{urlAfterRedirects;state;shouldActivate;type=pt.GuardsCheckEnd;constructor(t,n,o,c,u){super(t,n),this.urlAfterRedirects=o,this.state=c,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ll=class extends sn{urlAfterRedirects;state;type=pt.ResolveStart;constructor(t,n,o,c){super(t,n),this.urlAfterRedirects=o,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ul=class extends sn{urlAfterRedirects;state;type=pt.ResolveEnd;constructor(t,n,o,c){super(t,n),this.urlAfterRedirects=o,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dl=class{route;type=pt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},fl=class{route;type=pt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hl=class{snapshot;type=pt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pl=class{snapshot;type=pt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gl=class{snapshot;type=pt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ml=class{snapshot;type=pt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ls=class{},ho=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function KD(e){return!(e instanceof Ls)&&!(e instanceof ho)}function JD(e,t){return e.providers&&!e._injector&&(e._injector=us(e.providers,t,`Route: ${e.path}`)),e._injector??t}function _n(e){return e.outlet||fe}function eA(e,t){let n=e.filter(o=>_n(o)===t);return n.push(...e.filter(o=>_n(o)!==t)),n}function Hs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var yl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Hs(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new mo(this.rootInjector)}},mo=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,o){let c=this.getOrCreateContext(n);c.outlet=o,this.contexts.set(n,c)}onChildOutletDestroyed(n){let o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new yl(this.rootInjector),this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(o){return new(o||e)(se(at))};static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),El=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=ph(t,this._root);return n?n.children.map(o=>o.value):[]}firstChild(t){let n=ph(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=gh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(c=>c.value).filter(c=>c!==t)}pathFromRoot(t){return gh(t,this._root).map(n=>n.value)}};function ph(e,t){if(e===t.value)return t;for(let n of t.children){let o=ph(e,n);if(o)return o}return null}function gh(e,t){if(e===t.value)return[t];for(let n of t.children){let o=gh(e,n);if(o.length)return o.unshift(t),o}return[]}var on=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function ao(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Ps=class extends El{snapshot;constructor(t,n){super(t),this.snapshot=n,Ih(this,t)}toString(){return this.snapshot.toString()}};function Km(e){let t=tA(e),n=new xt([new kr("",{})]),o=new xt({}),c=new xt({}),u=new xt({}),h=new xt(""),y=new Br(n,o,u,h,c,fe,e,t.root);return y.snapshot=t.root,new Ps(new on(y,[]),t)}function tA(e){let t={},n={},o={},c="",u=new Ei([],t,o,c,n,fe,e,null,{});return new Fs("",new on(u,[]))}var Br=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,o,c,u,h,y,w){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=o,this.fragmentSubject=c,this.dataSubject=u,this.outlet=h,this.component=y,this._futureSnapshot=w,this.title=this.dataSubject?.pipe(ye(E=>E[Us]))??ae(void 0),this.url=t,this.params=n,this.queryParams=o,this.fragment=c,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ye(t=>wi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ye(t=>wi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wl(e,t,n="emptyOnly"){let o,{routeConfig:c}=e;return t!==null&&(n==="always"||c?.path===""||!t.component&&!t.routeConfig?.loadComponent)?o={params:Z(Z({},t.params),e.params),data:Z(Z({},t.data),e.data),resolve:Z(Z(Z(Z({},e.data),t.data),c?.data),e._resolvedData)}:o={params:Z({},e.params),data:Z({},e.data),resolve:Z(Z({},e.data),e._resolvedData??{})},c&&ey(c)&&(o.resolve[Us]=c.title),o}var Ei=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Us]}constructor(t,n,o,c,u,h,y,w,E){this.url=t,this.params=n,this.queryParams=o,this.fragment=c,this.data=u,this.outlet=h,this.component=y,this.routeConfig=w,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(o=>o.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Fs=class extends El{url;constructor(t,n){super(n),this.url=t,Ih(this,n)}toString(){return Jm(this._root)}};function Ih(e,t){t.value._routerState=e,t.children.forEach(n=>Ih(e,n))}function Jm(e){let t=e.children.length>0?` { ${e.children.map(Jm).join(", ")} } `:"";return`${e.value}${t}`}function ah(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,jn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),jn(t.params,n.params)||e.paramsSubject.next(n.params),SD(t.url,n.url)||e.urlSubject.next(n.url),jn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function mh(e,t){let n=jn(e.params,t.params)&&RD(e.url,t.url),o=!e.parent!=!t.parent;return n&&!o&&(!e.parent||mh(e.parent,t.parent))}function ey(e){return typeof e.title=="string"||e.title===null}var ty=new J(""),zs=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=fe;activateEvents=new Rt;deactivateEvents=new Rt;attachEvents=new Rt;detachEvents=new Rt;routerOutletData=G1(void 0);parentContexts=j(mo);location=j(ui);changeDetector=j(kf);inputBinder=j(Il,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:o,previousValue:c}=n.name;if(o)return;this.isTrackedInParentContexts(c)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(c)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=n;let c=this.location,h=n.snapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,w=new yh(n,y,c.injector,this.routerOutletData);this.activated=c.createComponent(h,{index:c.length,injector:w,environmentInjector:o}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(o){return new(o||e)};static \u0275dir=fi({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Cc]})}return e})(),yh=class{route;childContexts;parent;outletData;constructor(t,n,o,c){this.route=t,this.childContexts=n,this.parent=o,this.outletData=c}get(t,n){return t===Br?this.route:t===mo?this.childContexts:t===ty?this.outletData:this.parent.get(t,n)}},Il=new J("");var Dh=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=ds({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(o,c){o&1&&tr(0,"router-outlet")},dependencies:[zs],encapsulation:2})}return e})();function Ah(e){let t=e.children&&e.children.map(Ah),n=t?$e(Z({},e),{children:t}):Z({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==fe&&(n.component=Dh),n}function nA(e,t,n){let o=ks(e,t._root,n?n._root:void 0);return new Ps(o,t)}function ks(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let o=n.value;o._futureSnapshot=t.value;let c=rA(e,t,n);return new on(o,c)}else{if(e.shouldAttach(t.value)){let u=e.retrieve(t.value);if(u!==null){let h=u.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(y=>ks(e,y)),h}}let o=iA(t.value),c=t.children.map(u=>ks(e,u));return new on(o,c)}}function rA(e,t,n){return t.children.map(o=>{for(let c of n.children)if(e.shouldReuseRoute(o.value,c.value.snapshot))return ks(e,o,c);return ks(e,o)})}function iA(e){return new Br(new xt(e.url),new xt(e.params),new xt(e.queryParams),new xt(e.fragment),new xt(e.data),e.outlet,e.component,e)}var po=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},ny="ngNavigationCancelingError";function Cl(e,t){let{redirectTo:n,navigationBehaviorOptions:o}=uo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,c=ry(!1,Pt.Redirect);return c.url=n,c.navigationBehaviorOptions=o,c}function ry(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[ny]=!0,n.cancellationCode=t,n}function oA(e){return iy(e)&&uo(e.url)}function iy(e){return!!e&&e[ny]}var sA=(e,t,n,o)=>ye(c=>(new Eh(t,c.targetRouterState,c.currentRouterState,n,o).activate(e),c)),Eh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,o,c,u){this.routeReuseStrategy=t,this.futureState=n,this.currState=o,this.forwardEvent=c,this.inputBindingEnabled=u}activate(t){let n=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,o,t),ah(this.futureState.root),this.activateChildRoutes(n,o,t)}deactivateChildRoutes(t,n,o){let c=ao(n);t.children.forEach(u=>{let h=u.value.outlet;this.deactivateRoutes(u,c[h],o),delete c[h]}),Object.values(c).forEach(u=>{this.deactivateRouteAndItsChildren(u,o)})}deactivateRoutes(t,n,o){let c=t.value,u=n?n.value:null;if(c===u)if(c.component){let h=o.getContext(c.outlet);h&&this.deactivateChildRoutes(t,n,h.children)}else this.deactivateChildRoutes(t,n,o);else u&&this.deactivateRouteAndItsChildren(n,o)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let o=n.getContext(t.value.outlet),c=o&&t.value.component?o.children:n,u=ao(t);for(let h of Object.values(u))this.deactivateRouteAndItsChildren(h,c);if(o&&o.outlet){let h=o.outlet.detach(),y=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:y})}}deactivateRouteAndOutlet(t,n){let o=n.getContext(t.value.outlet),c=o&&t.value.component?o.children:n,u=ao(t);for(let h of Object.values(u))this.deactivateRouteAndItsChildren(h,c);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(t,n,o){let c=ao(n);t.children.forEach(u=>{this.activateRoutes(u,c[u.value.outlet],o),this.forwardEvent(new ml(u.value.snapshot))}),t.children.length&&this.forwardEvent(new pl(t.value.snapshot))}activateRoutes(t,n,o){let c=t.value,u=n?n.value:null;if(ah(c),c===u)if(c.component){let h=o.getOrCreateContext(c.outlet);this.activateChildRoutes(t,n,h.children)}else this.activateChildRoutes(t,n,o);else if(c.component){let h=o.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){let y=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),h.children.onOutletReAttached(y.contexts),h.attachRef=y.componentRef,h.route=y.route.value,h.outlet&&h.outlet.attach(y.componentRef,y.route.value),ah(y.route.value),this.activateChildRoutes(t,null,h.children)}else h.attachRef=null,h.route=c,h.outlet&&h.outlet.activateWith(c,h.injector),this.activateChildRoutes(t,null,h.children)}else this.activateChildRoutes(t,null,o)}},xl=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},lo=class{component;route;constructor(t,n){this.component=t,this.route=n}};function aA(e,t,n){let o=e._root,c=t?t._root:null;return bs(o,c,n,[o.value])}function cA(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function yo(e,t){let n=Symbol(),o=t.get(e,n);return o===n?typeof e=="function"&&!zu(e)?e:t.get(e):o}function bs(e,t,n,o,c={canDeactivateChecks:[],canActivateChecks:[]}){let u=ao(t);return e.children.forEach(h=>{lA(h,u[h.value.outlet],n,o.concat([h.value]),c),delete u[h.value.outlet]}),Object.entries(u).forEach(([h,y])=>Ms(y,n.getContext(h),c)),c}function lA(e,t,n,o,c={canDeactivateChecks:[],canActivateChecks:[]}){let u=e.value,h=t?t.value:null,y=n?n.getContext(e.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){let w=uA(h,u,u.routeConfig.runGuardsAndResolvers);w?c.canActivateChecks.push(new xl(o)):(u.data=h.data,u._resolvedData=h._resolvedData),u.component?bs(e,t,y?y.children:null,o,c):bs(e,t,n,o,c),w&&y&&y.outlet&&y.outlet.isActivated&&c.canDeactivateChecks.push(new lo(y.outlet.component,h))}else h&&Ms(t,y,c),c.canActivateChecks.push(new xl(o)),u.component?bs(e,null,y?y.children:null,o,c):bs(e,null,n,o,c);return c}function uA(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!yi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!yi(e.url,t.url)||!jn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mh(e,t)||!jn(e.queryParams,t.queryParams);case"paramsChange":default:return!mh(e,t)}}function Ms(e,t,n){let o=ao(e),c=e.value;Object.entries(o).forEach(([u,h])=>{c.component?t?Ms(h,t.children.getContext(u),n):Ms(h,null,n):Ms(h,t,n)}),c.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new lo(t.outlet.component,c)):n.canDeactivateChecks.push(new lo(null,c)):n.canDeactivateChecks.push(new lo(null,c))}function Gs(e){return typeof e=="function"}function dA(e){return typeof e=="boolean"}function fA(e){return e&&Gs(e.canLoad)}function hA(e){return e&&Gs(e.canActivate)}function pA(e){return e&&Gs(e.canActivateChild)}function gA(e){return e&&Gs(e.canDeactivate)}function mA(e){return e&&Gs(e.canMatch)}function oy(e){return e instanceof Wn||e?.name==="EmptyError"}var tl=Symbol("INITIAL_VALUE");function go(){return Gt(e=>Ra(e.map(t=>t.pipe($n(1),Su(tl)))).pipe(ye(t=>{for(let n of t)if(n!==!0){if(n===tl)return tl;if(n===!1||yA(n))return n}return!0}),zt(t=>t!==tl),$n(1)))}function yA(e){return uo(e)||e instanceof po}function EA(e,t){return st(n=>{let{targetSnapshot:o,currentSnapshot:c,guards:{canActivateChecks:u,canDeactivateChecks:h}}=n;return h.length===0&&u.length===0?ae($e(Z({},n),{guardsResult:!0})):wA(h,o,c,e).pipe(st(y=>y&&dA(y)?CA(o,u,e,t):ae(y)),ye(y=>$e(Z({},n),{guardsResult:y})))})}function wA(e,t,n,o){return tt(e).pipe(st(c=>AA(c.component,c.route,n,t,o)),Yn(c=>c!==!0,!0))}function CA(e,t,n,o){return tt(t).pipe(Cr(c=>ji(vA(c.route.parent,o),xA(c.route,o),DA(e,c.path,n),IA(e,c.route,n))),Yn(c=>c!==!0,!0))}function xA(e,t){return e!==null&&t&&t(new gl(e)),ae(!0)}function vA(e,t){return e!==null&&t&&t(new hl(e)),ae(!0)}function IA(e,t,n){let o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||o.length===0)return ae(!0);let c=o.map(u=>Fo(()=>{let h=Hs(t)??n,y=yo(u,h),w=hA(y)?y.canActivate(t,e):Mt(h,()=>y(t,e));return ar(w).pipe(Yn())}));return ae(c).pipe(go())}function DA(e,t,n){let o=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(h=>cA(h)).filter(h=>h!==null).map(h=>Fo(()=>{let y=h.guards.map(w=>{let E=Hs(h.node)??n,I=yo(w,E),b=pA(I)?I.canActivateChild(o,e):Mt(E,()=>I(o,e));return ar(b).pipe(Yn())});return ae(y).pipe(go())}));return ae(u).pipe(go())}function AA(e,t,n,o,c){let u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!u||u.length===0)return ae(!0);let h=u.map(y=>{let w=Hs(t)??c,E=yo(y,w),I=gA(E)?E.canDeactivate(e,t,n,o):Mt(w,()=>E(e,t,n,o));return ar(I).pipe(Yn())});return ae(h).pipe(go())}function TA(e,t,n,o){let c=t.canLoad;if(c===void 0||c.length===0)return ae(!0);let u=c.map(h=>{let y=yo(h,e),w=fA(y)?y.canLoad(t,n):Mt(e,()=>y(t,n));return ar(w)});return ae(u).pipe(go(),sy(o))}function sy(e){return xu(ht(t=>{if(typeof t!="boolean")throw Cl(e,t)}),ye(t=>t===!0))}function bA(e,t,n,o){let c=t.canMatch;if(!c||c.length===0)return ae(!0);let u=c.map(h=>{let y=yo(h,e),w=mA(y)?y.canMatch(t,n):Mt(e,()=>y(t,n));return ar(w)});return ae(u).pipe(go(),sy(o))}var Bs=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},js=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function so(e){return Bi(new Bs(e))}function SA(e){return Bi(new Q(4e3,!1))}function _A(e){return Bi(ry(!1,Pt.GuardRejected))}var wh=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let o=[],c=n.root;for(;;){if(o=o.concat(c.segments),c.numberOfChildren===0)return ae(o);if(c.numberOfChildren>1||!c.children[fe])return SA(`${t.redirectTo}`);c=c.children[fe]}}applyRedirectCommands(t,n,o,c,u){return MA(n,c,u).pipe(ye(h=>{if(h instanceof Vn)throw new js(h);let y=this.applyRedirectCreateUrlTree(h,this.urlSerializer.parse(h),t,o);if(h[0]==="/")throw new js(y);return y}))}applyRedirectCreateUrlTree(t,n,o,c){let u=this.createSegmentGroup(t,n.root,o,c);return new Vn(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let o={};return Object.entries(t).forEach(([c,u])=>{if(typeof u=="string"&&u[0]===":"){let y=u.substring(1);o[c]=n[y]}else o[c]=u}),o}createSegmentGroup(t,n,o,c){let u=this.createSegments(t,n.segments,o,c),h={};return Object.entries(n.children).forEach(([y,w])=>{h[y]=this.createSegmentGroup(t,w,o,c)}),new Le(u,h)}createSegments(t,n,o,c){return n.map(u=>u.path[0]===":"?this.findPosParam(t,u,c):this.findOrReturn(u,o))}findPosParam(t,n,o){let c=o[n.path.substring(1)];if(!c)throw new Q(4001,!1);return c}findOrReturn(t,n){let o=0;for(let c of n){if(c.path===t.path)return n.splice(o),c;o++}return t}};function MA(e,t,n){if(typeof e=="string")return ae(e);let o=e,{queryParams:c,fragment:u,routeConfig:h,url:y,outlet:w,params:E,data:I,title:b}=t;return ar(Mt(n,()=>o({params:E,data:I,queryParams:c,fragment:u,routeConfig:h,url:y,outlet:w,title:b})))}var Ch={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NA(e,t,n,o,c){let u=ay(e,t,n);return u.matched?(o=JD(t,o),bA(o,t,n,c).pipe(ye(h=>h===!0?u:Z({},Ch)))):ae(u)}function ay(e,t,n){if(t.path==="**")return RA(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?Z({},Ch):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let c=(t.matcher||Fm)(n,e,t);if(!c)return Z({},Ch);let u={};Object.entries(c.posParams??{}).forEach(([y,w])=>{u[y]=w.path});let h=c.consumed.length>0?Z(Z({},u),c.consumed[c.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:c.consumed,remainingSegments:n.slice(c.consumed.length),parameters:h,positionalParamSegments:c.posParams??{}}}function RA(e){return{matched:!0,parameters:e.length>0?Bm(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Om(e,t,n,o){return n.length>0&&PA(e,n,o)?{segmentGroup:new Le(t,LA(o,new Le(n,e.children))),slicedSegments:[]}:n.length===0&&FA(e,n,o)?{segmentGroup:new Le(e.segments,OA(e,n,o,e.children)),slicedSegments:n}:{segmentGroup:new Le(e.segments,e.children),slicedSegments:n}}function OA(e,t,n,o){let c={};for(let u of n)if(Dl(e,t,u)&&!o[_n(u)]){let h=new Le([],{});c[_n(u)]=h}return Z(Z({},o),c)}function LA(e,t){let n={};n[fe]=t;for(let o of e)if(o.path===""&&_n(o)!==fe){let c=new Le([],{});n[_n(o)]=c}return n}function PA(e,t,n){return n.some(o=>Dl(e,t,o)&&_n(o)!==fe)}function FA(e,t,n){return n.some(o=>Dl(e,t,o))}function Dl(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function kA(e,t,n){return t.length===0&&!e.children[n]}var xh=class{};function BA(e,t,n,o,c,u,h="emptyOnly"){return new vh(e,t,n,o,c,h,u).recognize()}var jA=31,vh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,o,c,u,h,y){this.injector=t,this.configLoader=n,this.rootComponentType=o,this.config=c,this.urlTree=u,this.paramsInheritanceStrategy=h,this.urlSerializer=y,this.applyRedirects=new wh(this.urlSerializer,this.urlTree)}noMatchError(t){return new Q(4002,`'${t.segmentGroup}'`)}recognize(){let t=Om(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ye(({children:n,rootSnapshot:o})=>{let c=new on(o,n),u=new Fs("",c),h=Ym(o,[],this.urlTree.queryParams,this.urlTree.fragment);return h.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(h),{state:u,tree:h}}))}match(t){let n=new Ei([],Object.freeze({}),Object.freeze(Z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),fe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,fe,n).pipe(ye(o=>({children:o,rootSnapshot:n})),wr(o=>{if(o instanceof js)return this.urlTree=o.urlTree,this.match(o.urlTree.root);throw o instanceof Bs?this.noMatchError(o):o}))}processSegmentGroup(t,n,o,c,u){return o.segments.length===0&&o.hasChildren()?this.processChildren(t,n,o,u):this.processSegment(t,n,o,o.segments,c,!0,u).pipe(ye(h=>h instanceof on?[h]:[]))}processChildren(t,n,o,c){let u=[];for(let h of Object.keys(o.children))h==="primary"?u.unshift(h):u.push(h);return tt(u).pipe(Cr(h=>{let y=o.children[h],w=eA(n,h);return this.processSegmentGroup(t,w,y,h,c)}),bu((h,y)=>(h.push(...y),h)),xr(null),Tu(),st(h=>{if(h===null)return so(o);let y=cy(h);return UA(y),ae(y)}))}processSegment(t,n,o,c,u,h,y){return tt(n).pipe(Cr(w=>this.processSegmentAgainstRoute(w._injector??t,n,w,o,c,u,h,y).pipe(wr(E=>{if(E instanceof Bs)return ae(null);throw E}))),Yn(w=>!!w),wr(w=>{if(oy(w))return kA(o,c,u)?ae(new xh):so(o);throw w}))}processSegmentAgainstRoute(t,n,o,c,u,h,y,w){return _n(o)!==h&&(h===fe||!Dl(c,u,o))?so(c):o.redirectTo===void 0?this.matchSegmentAgainstRoute(t,c,o,u,h,w):this.allowRedirects&&y?this.expandSegmentAgainstRouteUsingRedirect(t,c,n,o,u,h,w):so(c)}expandSegmentAgainstRouteUsingRedirect(t,n,o,c,u,h,y){let{matched:w,parameters:E,consumedSegments:I,positionalParamSegments:b,remainingSegments:L}=ay(n,c,u);if(!w)return so(n);typeof c.redirectTo=="string"&&c.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jA&&(this.allowRedirects=!1));let _=new Ei(u,E,Object.freeze(Z({},this.urlTree.queryParams)),this.urlTree.fragment,Lm(c),_n(c),c.component??c._loadedComponent??null,c,Pm(c)),G=wl(_,y,this.paramsInheritanceStrategy);return _.params=Object.freeze(G.params),_.data=Object.freeze(G.data),this.applyRedirects.applyRedirectCommands(I,c.redirectTo,b,_,t).pipe(Gt(U=>this.applyRedirects.lineralizeSegments(c,U)),st(U=>this.processSegment(t,o,n,U.concat(L),h,!1,y)))}matchSegmentAgainstRoute(t,n,o,c,u,h){let y=NA(n,o,c,t,this.urlSerializer);return o.path==="**"&&(n.children={}),y.pipe(Gt(w=>w.matched?(t=o._injector??t,this.getChildConfig(t,o,c).pipe(Gt(({routes:E})=>{let I=o._loadedInjector??t,{parameters:b,consumedSegments:L,remainingSegments:_}=w,G=new Ei(L,b,Object.freeze(Z({},this.urlTree.queryParams)),this.urlTree.fragment,Lm(o),_n(o),o.component??o._loadedComponent??null,o,Pm(o)),W=wl(G,h,this.paramsInheritanceStrategy);G.params=Object.freeze(W.params),G.data=Object.freeze(W.data);let{segmentGroup:U,slicedSegments:V}=Om(n,L,_,E);if(V.length===0&&U.hasChildren())return this.processChildren(I,E,U,G).pipe(ye(Pe=>new on(G,Pe)));if(E.length===0&&V.length===0)return ae(new on(G,[]));let ge=_n(o)===u;return this.processSegment(I,E,U,V,ge?fe:u,!0,G).pipe(ye(Pe=>new on(G,Pe instanceof on?[Pe]:[])))}))):so(n)))}getChildConfig(t,n,o){return n.children?ae({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?ae({routes:n._loadedRoutes,injector:n._loadedInjector}):TA(t,n,o,this.urlSerializer).pipe(st(c=>c?this.configLoader.loadChildren(t,n).pipe(ht(u=>{n._loadedRoutes=u.routes,n._loadedInjector=u.injector})):_A(n))):ae({routes:[],injector:t})}};function UA(e){e.sort((t,n)=>t.value.outlet===fe?-1:n.value.outlet===fe?1:t.value.outlet.localeCompare(n.value.outlet))}function VA(e){let t=e.value.routeConfig;return t&&t.path===""}function cy(e){let t=[],n=new Set;for(let o of e){if(!VA(o)){t.push(o);continue}let c=t.find(u=>o.value.routeConfig===u.value.routeConfig);c!==void 0?(c.children.push(...o.children),n.add(c)):t.push(o)}for(let o of n){let c=cy(o.children);t.push(new on(o.value,c))}return t.filter(o=>!n.has(o))}function Lm(e){return e.data||{}}function Pm(e){return e.resolve||{}}function HA(e,t,n,o,c,u){return st(h=>BA(e,t,n,o,h.extractedUrl,c,u).pipe(ye(({state:y,tree:w})=>$e(Z({},h),{targetSnapshot:y,urlAfterRedirects:w}))))}function zA(e,t){return st(n=>{let{targetSnapshot:o,guards:{canActivateChecks:c}}=n;if(!c.length)return ae(n);let u=new Set(c.map(w=>w.route)),h=new Set;for(let w of u)if(!h.has(w))for(let E of ly(w))h.add(E);let y=0;return tt(h).pipe(Cr(w=>u.has(w)?GA(w,o,e,t):(w.data=wl(w,w.parent,e).resolve,ae(void 0))),ht(()=>y++),Ui(1),st(w=>y===h.size?ae(n):Vt))})}function ly(e){let t=e.children.map(n=>ly(n)).flat();return[e,...t]}function GA(e,t,n,o){let c=e.routeConfig,u=e._resolve;return c?.title!==void 0&&!ey(c)&&(u[Us]=c.title),Fo(()=>(e.data=wl(e,e.parent,n).resolve,WA(u,e,t,o).pipe(ye(h=>(e._resolvedData=h,e.data=Z(Z({},e.data),h),null)))))}function WA(e,t,n,o){let c=uh(e);if(c.length===0)return ae({});let u={};return tt(c).pipe(st(h=>$A(e[h],t,n,o).pipe(Yn(),ht(y=>{if(y instanceof po)throw Cl(new Ci,y);u[h]=y}))),Ui(1),ye(()=>u),wr(h=>oy(h)?Vt:Bi(h)))}function $A(e,t,n,o){let c=Hs(t)??o,u=yo(e,c),h=u.resolve?u.resolve(t,n):Mt(c,()=>u(t,n));return ar(h)}function ch(e){return Gt(t=>{let n=e(t);return n?tt(n).pipe(ye(()=>t)):ae(t)})}var Th=(()=>{class e{buildTitle(n){let o,c=n.root;for(;c!==void 0;)o=this.getResolvedTitleForRoute(c)??o,c=c.children.find(u=>u.outlet===fe);return o}getResolvedTitleForRoute(n){return n.data[Us]}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:()=>j(uy),providedIn:"root"})}return e})(),uy=(()=>{class e extends Th{title;constructor(n){super(),this.title=n}updateTitle(n){let o=this.buildTitle(n);o!==void 0&&this.title.setTitle(o)}static \u0275fac=function(o){return new(o||e)(se(Sm))};static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ws=new J("",{providedIn:"root",factory:()=>({})}),$s=new J(""),dy=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=j(Sf);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ae(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let o=ar(n.loadComponent()).pipe(ye(hy),ht(u=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=u}),vr(()=>{this.componentLoaders.delete(n)})),c=new ki(o,()=>new Ct).pipe(Fi());return this.componentLoaders.set(n,c),c}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return ae({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let u=fy(o,this.compiler,n,this.onLoadEndListener).pipe(vr(()=>{this.childrenLoaders.delete(o)})),h=new ki(u,()=>new Ct).pipe(Fi());return this.childrenLoaders.set(o,h),h}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fy(e,t,n,o){return ar(e.loadChildren()).pipe(ye(hy),st(c=>c instanceof Nc||Array.isArray(c)?ae(c):tt(t.compileModuleAsync(c))),ye(c=>{o&&o(e);let u,h,y=!1;return Array.isArray(c)?(h=c,y=!0):(u=c.create(n).injector,h=u.get($s,[],{optional:!0,self:!0}).flat()),{routes:h.map(Ah),injector:u}}))}function YA(e){return e&&typeof e=="object"&&"default"in e}function hy(e){return YA(e)?e.default:e}var Al=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:()=>j(qA),providedIn:"root"})}return e})(),qA=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),py=new J("");var gy=new J(""),my=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ct;transitionAbortWithErrorSubject=new Ct;configLoader=j(dy);environmentInjector=j(at);destroyRef=j(Nr);urlSerializer=j(Vs);rootContexts=j(mo);location=j(no);inputBindingEnabled=j(Il,{optional:!0})!==null;titleStrategy=j(Th);options=j(Ws,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=j(Al);createViewTransition=j(py,{optional:!0});navigationErrorHandler=j(gy,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ae(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=c=>this.events.next(new dl(c)),o=c=>this.events.next(new fl(c));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let o=++this.navigationId;this.transitions?.next($e(Z({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:o}))}setupNavigations(n){return this.transitions=new xt(null),this.transitions.pipe(zt(o=>o!==null),Gt(o=>{let c=!1;return ae(o).pipe(Gt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Pt.SupersededByNewNavigation),Vt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?$e(Z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>u.abortController.abort()};let h=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!h&&y!=="reload"){let w="";return this.events.next(new sr(u.id,this.urlSerializer.serialize(u.rawUrl),w,Rs.IgnoredSameUrlNavigation)),u.resolve(!1),Vt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ae(u).pipe(Gt(w=>(this.events.next(new xi(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),w.id!==this.navigationId?Vt:Promise.resolve(w))),HA(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ht(w=>{o.targetSnapshot=w.targetSnapshot,o.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation=$e(Z({},this.currentNavigation),{finalUrl:w.urlAfterRedirects});let E=new Os(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(E)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:w,extractedUrl:E,source:I,restoredState:b,extras:L}=u,_=new xi(w,this.urlSerializer.serialize(E),I,b);this.events.next(_);let G=Km(this.rootComponentType).snapshot;return this.currentTransition=o=$e(Z({},u),{targetSnapshot:G,urlAfterRedirects:E,extras:$e(Z({},L),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,ae(o)}else{let w="";return this.events.next(new sr(u.id,this.urlSerializer.serialize(u.extractedUrl),w,Rs.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Vt}}),ht(u=>{let h=new al(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),ye(u=>(this.currentTransition=o=$e(Z({},u),{guards:aA(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),EA(this.environmentInjector,u=>this.events.next(u)),ht(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Cl(this.urlSerializer,u.guardsResult);let h=new cl(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),zt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Pt.GuardRejected),!1)),ch(u=>{if(u.guards.canActivateChecks.length!==0)return ae(u).pipe(ht(h=>{let y=new ll(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}),Gt(h=>{let y=!1;return ae(h).pipe(zA(this.paramsInheritanceStrategy,this.environmentInjector),ht({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(h,"",Pt.NoDataFromResolver)}}))}),ht(h=>{let y=new ul(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}))}),ch(u=>{let h=y=>{let w=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(y.routeConfig).pipe(ht(E=>{y.component=E}),ye(()=>{})));for(let E of y.children)w.push(...h(E));return w};return Ra(h(u.targetSnapshot.root)).pipe(xr(null),$n(1))}),ch(()=>this.afterPreactivation()),Gt(()=>{let{currentSnapshot:u,targetSnapshot:h}=o,y=this.createViewTransition?.(this.environmentInjector,u.root,h.root);return y?tt(y).pipe(ye(()=>o)):ae(o)}),ye(u=>{let h=nA(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=$e(Z({},u),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),ht(()=>{this.events.next(new Ls)}),sA(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),$n(1),La(new Ie(u=>{let h=o.abortController.signal,y=()=>u.next();return h.addEventListener("abort",y),()=>h.removeEventListener("abort",y)}).pipe(zt(()=>!c&&!o.targetRouterState),ht(()=>{this.cancelNavigationTransition(o,o.abortController.signal.reason+"",Pt.Aborted)}))),ht({next:u=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new or(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{c=!0}}),La(this.transitionAbortWithErrorSubject.pipe(ht(u=>{throw u}))),vr(()=>{c||this.cancelNavigationTransition(o,"",Pt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),wr(u=>{if(this.destroyed)return o.resolve(!1),Vt;if(c=!0,iy(u))this.events.next(new Un(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),oA(u)?this.events.next(new ho(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let h=new fo(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let y=Mt(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(y instanceof po){let{message:w,cancellationCode:E}=Cl(this.urlSerializer,y);this.events.next(new Un(o.id,this.urlSerializer.serialize(o.extractedUrl),w,E)),this.events.next(new ho(y.redirectTo,y.navigationBehaviorOptions))}else throw this.events.next(h),u}catch(y){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(y)}}return Vt}))}))}cancelNavigationTransition(n,o,c){let u=new Un(n.id,this.urlSerializer.serialize(n.extractedUrl),o,c);this.events.next(u),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),o=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==o?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function XA(e){return e!==_s}var yy=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:()=>j(ZA),providedIn:"root"})}return e})(),vl=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},ZA=(()=>{class e extends vl{static \u0275fac=(()=>{let n;return function(c){return(n||(n=xc(e)))(c||e)}})();static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ey=(()=>{class e{urlSerializer=j(Vs);options=j(Ws,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=j(no);urlHandlingStrategy=j(Al);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Vn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:o,targetBrowserUrl:c}){let u=n!==void 0?this.urlHandlingStrategy.merge(n,o):o,h=c??u;return h instanceof Vn?this.urlSerializer.serialize(h):h}commitTransition({targetRouterState:n,finalUrl:o,initialUrl:c}){o&&n?(this.currentUrlTree=o,this.rawUrlTree=this.urlHandlingStrategy.merge(o,c),this.routerState=n):this.rawUrlTree=c}routerState=Km(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:()=>j(QA),providedIn:"root"})}return e})(),QA=(()=>{class e extends Ey{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{o.type==="popstate"&&setTimeout(()=>{n(o.url,o.state,"popstate")})})}handleRouterEvent(n,o){n instanceof xi?this.updateStateMemento():n instanceof sr?this.commitTransition(o):n instanceof Os?this.urlUpdateStrategy==="eager"&&(o.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(o),o)):n instanceof Ls?(this.commitTransition(o),this.urlUpdateStrategy==="deferred"&&!o.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(o),o)):n instanceof Un&&n.code!==Pt.SupersededByNewNavigation&&n.code!==Pt.Redirect?this.restoreHistory(o):n instanceof fo?this.restoreHistory(o,!0):n instanceof or&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:o,id:c}){let{replaceUrl:u,state:h}=o;if(this.location.isCurrentPathEqualTo(n)||u){let y=this.browserPageId,w=Z(Z({},h),this.generateNgRouterState(c,y));this.location.replaceState(n,"",w)}else{let y=Z(Z({},h),this.generateNgRouterState(c,this.browserPageId+1));this.location.go(n,"",y)}}restoreHistory(n,o=!1){if(this.canceledNavigationResolution==="computed"){let c=this.browserPageId,u=this.currentPageId-c;u!==0?this.location.historyGo(u):this.getCurrentUrlTree()===n.finalUrl&&u===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(c){return(n||(n=xc(e)))(c||e)}})();static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bh(e,t){e.events.pipe(zt(n=>n instanceof or||n instanceof Un||n instanceof fo||n instanceof sr),ye(n=>n instanceof or||n instanceof sr?0:(n instanceof Un?n.code===Pt.Redirect||n.code===Pt.SupersededByNewNavigation:!1)?2:1),zt(n=>n!==2),$n(1)).subscribe(()=>{t()})}var KA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Tl=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=j(vf);stateManager=j(Ey);options=j(Ws,{optional:!0})||{};pendingTasks=j(Jn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=j(my);urlSerializer=j(Vs);location=j(no);urlHandlingStrategy=j(Al);injector=j(at);_events=new Ct;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=j(yy);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=j($s,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!j(Il,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new et;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(o=>{try{let c=this.navigationTransitions.currentTransition,u=this.navigationTransitions.currentNavigation;if(c!==null&&u!==null){if(this.stateManager.handleRouterEvent(o,u),o instanceof Un&&o.code!==Pt.Redirect&&o.code!==Pt.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof or)this.navigated=!0;else if(o instanceof ho){let h=o.navigationBehaviorOptions,y=this.urlHandlingStrategy.merge(o.url,c.currentRawUrl),w=Z({browserUrl:c.extras.browserUrl,info:c.extras.info,skipLocationChange:c.extras.skipLocationChange,replaceUrl:c.extras.replaceUrl||this.urlUpdateStrategy==="eager"||XA(c.source)},h);this.scheduleNavigation(y,_s,null,w,{resolve:c.resolve,reject:c.reject,promise:c.promise})}}KD(o)&&this._events.next(o)}catch(c){this.navigationTransitions.transitionAbortWithErrorSubject.next(c)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_s,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o,c)=>{this.navigateToSyncWithBrowser(n,c,o)})}navigateToSyncWithBrowser(n,o,c){let u={replaceUrl:!0},h=c?.navigationId?c:null;if(c){let w=Z({},c);delete w.navigationId,delete w.\u0275routerPageId,Object.keys(w).length!==0&&(u.state=w)}let y=this.parseUrl(n);this.scheduleNavigation(y,o,h,u).catch(w=>{this.injector.get(Yt)(w)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Ah),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){let{relativeTo:c,queryParams:u,fragment:h,queryParamsHandling:y,preserveFragment:w}=o,E=w?this.currentUrlTree.fragment:h,I=null;switch(y??this.options.defaultQueryParamsHandling){case"merge":I=Z(Z({},this.currentUrlTree.queryParams),u);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=u||null}I!==null&&(I=this.removeEmptyProps(I));let b;try{let L=c?c.snapshot:this.routerState.snapshot.root;b=qm(L)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),b=this.currentUrlTree.root}return Xm(b,n,I,E??null)}navigateByUrl(n,o={skipLocationChange:!1}){let c=uo(n)?n:this.parseUrl(n),u=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(u,_s,null,o)}navigate(n,o={skipLocationChange:!1}){return e2(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let c;if(o===!0?c=Z({},KA):o===!1?c=Z({},JA):c=o,uo(n))return _m(this.currentUrlTree,n,c);let u=this.parseUrl(n);return _m(this.currentUrlTree,u,c)}removeEmptyProps(n){return Object.entries(n).reduce((o,[c,u])=>(u!=null&&(o[c]=u),o),{})}scheduleNavigation(n,o,c,u,h){if(this.disposed)return Promise.resolve(!1);let y,w,E;h?(y=h.resolve,w=h.reject,E=h.promise):E=new Promise((b,L)=>{y=b,w=L});let I=this.pendingTasks.add();return bh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:u,resolve:y,reject:w,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(b=>Promise.reject(b))}static \u0275fac=function(o){return new(o||e)};static \u0275prov=te({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function e2(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Q(4008,!1)}var n2=new J("");function Sh(e,...t){return Zn([{provide:$s,multi:!0,useValue:e},[],{provide:Br,useFactory:r2,deps:[Tl]},{provide:Rc,multi:!0,useFactory:i2},t.map(n=>n.\u0275providers)])}function r2(e){return e.routerState.root}function i2(){let e=j(On);return t=>{let n=e.get(hi);if(t!==n.components[0])return;let o=e.get(Tl),c=e.get(o2);e.get(s2)===1&&o.initialNavigation(),e.get(a2,null,{optional:!0})?.setUpPreloading(),e.get(n2,null,{optional:!0})?.init(),o.resetRootComponentType(n.componentTypes[0]),c.closed||(c.next(),c.complete(),c.unsubscribe())}}var o2=new J("",{factory:()=>new Ct}),s2=new J("",{providedIn:"root",factory:()=>1});var a2=new J("");var wy=[];var Cy={providers:[Dd(),Mf({eventCoalescing:!0}),Sh(wy)]};var q=function(e){return e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",e}(q||{}),xy=new Map([[q.QR_CODE,"QR_CODE"],[q.AZTEC,"AZTEC"],[q.CODABAR,"CODABAR"],[q.CODE_39,"CODE_39"],[q.CODE_93,"CODE_93"],[q.CODE_128,"CODE_128"],[q.DATA_MATRIX,"DATA_MATRIX"],[q.MAXICODE,"MAXICODE"],[q.ITF,"ITF"],[q.EAN_13,"EAN_13"],[q.EAN_8,"EAN_8"],[q.PDF_417,"PDF_417"],[q.RSS_14,"RSS_14"],[q.RSS_EXPANDED,"RSS_EXPANDED"],[q.UPC_A,"UPC_A"],[q.UPC_E,"UPC_E"],[q.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function vy(e){return Object.values(q).includes(e)}var Hn=function(e){return e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",e}(Hn||{}),Zt=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Hn.SCAN_TYPE_CAMERA,Hn.SCAN_TYPE_FILE],e}();var bl=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!xy.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,xy.get(t))},e}();var _h=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}();var Iy=function(e){return e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",e}(Iy||{}),Sl=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Iy.UNKWOWN_ERROR}},e}();var _l=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function mn(e){return typeof e>"u"||e===null}function Dy(e,t,n){return e>n?n:e<t?t:e}var jr=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}();var be=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}();var Mh=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}();var Nh=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var o=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],u=new Set(c),h=Object.keys(t),y=0,w=h;y<w.length;y++){var E=w[y];if(u.has(E))return n.logError("".concat(E," is not supported videoConstaints."),!0),!1}return!0},e}();var ke=WE(Ty());var Rh=function(){function e(t,n,o){if(this.formatMap=new Map([[q.QR_CODE,ke.BarcodeFormat.QR_CODE],[q.AZTEC,ke.BarcodeFormat.AZTEC],[q.CODABAR,ke.BarcodeFormat.CODABAR],[q.CODE_39,ke.BarcodeFormat.CODE_39],[q.CODE_93,ke.BarcodeFormat.CODE_93],[q.CODE_128,ke.BarcodeFormat.CODE_128],[q.DATA_MATRIX,ke.BarcodeFormat.DATA_MATRIX],[q.MAXICODE,ke.BarcodeFormat.MAXICODE],[q.ITF,ke.BarcodeFormat.ITF],[q.EAN_13,ke.BarcodeFormat.EAN_13],[q.EAN_8,ke.BarcodeFormat.EAN_8],[q.PDF_417,ke.BarcodeFormat.PDF_417],[q.RSS_14,ke.BarcodeFormat.RSS_14],[q.RSS_EXPANDED,ke.BarcodeFormat.RSS_EXPANDED],[q.UPC_A,ke.BarcodeFormat.UPC_A],[q.UPC_E,ke.BarcodeFormat.UPC_E],[q.UPC_EAN_EXTENSION,ke.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ke)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=o;var c=this.createZXingFormats(t),u=new Map;u.set(ke.DecodeHintType.POSSIBLE_FORMATS,c),u.set(ke.DecodeHintType.TRY_HARDER,!1),this.hints=u}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(o,c){try{o(n.decode(t))}catch(u){c(u)}})},e.prototype.decode=function(t){var n=new ke.MultiFormatReader(this.verbose,this.hints),o=new ke.HTMLCanvasElementLuminanceSource(t),c=new ke.BinaryBitmap(new ke.HybridBinarizer(o)),u=n.decode(c);return{text:u.text,format:bl.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,o,c){t.set(n,o)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],o=0,c=t;o<c.length;o++){var u=c[o];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.logError("".concat(u," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}();var l2=function(e,t,n,o){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function y(I){try{E(o.next(I))}catch(b){h(b)}}function w(I){try{E(o.throw(I))}catch(b){h(b)}}function E(I){I.done?u(I.value):c(I.value).then(y,w)}E((o=o.apply(e,t||[])).next())})},u2=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,c,u,h;return h={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function y(E){return function(I){return w([E,I])}}function w(E){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,E[0]&&(n=0)),n;)try{if(o=1,c&&(u=E[0]&2?c.return:E[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,E[1])).done)return u;switch(c=0,u&&(E=[E[0]&2,u.value]),E[0]){case 0:case 1:u=E;break;case 4:return n.label++,{value:E[1],done:!1};case 5:n.label++,c=E[1],E=[0];continue;case 7:E=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(E[0]===6||E[0]===2)){n=0;continue}if(E[0]===3&&(!u||E[1]>u[0]&&E[1]<u[3])){n.label=E[1];break}if(E[0]===6&&n.label<u[1]){n.label=u[1],u=E;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(E);break}u[2]&&n.ops.pop(),n.trys.pop();continue}E=t.call(e,n)}catch(I){E=[6,I],c=0}finally{o=u=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Oh=function(){function e(t,n,o){if(this.formatMap=new Map([[q.QR_CODE,"qr_code"],[q.AZTEC,"aztec"],[q.CODABAR,"codabar"],[q.CODE_39,"code_39"],[q.CODE_93,"code_93"],[q.CODE_128,"code_128"],[q.DATA_MATRIX,"data_matrix"],[q.ITF,"itf"],[q.EAN_13,"ean_13"],[q.EAN_8,"ean_8"],[q.PDF_417,"pdf417"],[q.UPC_A,"upc_a"],[q.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=o;var c=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return l2(this,void 0,void 0,function(){var n,o;return u2(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=c.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(n),[2,{text:o.rawValue,format:bl.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,o=0,c=0,u=t;c<u.length;c++){var h=u[c],y=h.boundingBox.width*h.boundingBox.height;y>o&&(o=y,n=h)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],o=0,c=t;o<c.length;o++){var u=c[o];this.formatMap.has(u)?n.push(this.formatMap.get(u)):this.logger.warn("".concat(u," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,o,c){t.set(n,o)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}();var by=function(e,t,n,o){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function y(I){try{E(o.next(I))}catch(b){h(b)}}function w(I){try{E(o.throw(I))}catch(b){h(b)}}function E(I){I.done?u(I.value):c(I.value).then(y,w)}E((o=o.apply(e,t||[])).next())})},Sy=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,c,u,h;return h={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function y(E){return function(I){return w([E,I])}}function w(E){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,E[0]&&(n=0)),n;)try{if(o=1,c&&(u=E[0]&2?c.return:E[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,E[1])).done)return u;switch(c=0,u&&(E=[E[0]&2,u.value]),E[0]){case 0:case 1:u=E;break;case 4:return n.label++,{value:E[1],done:!1};case 5:n.label++,c=E[1],E=[0];continue;case 7:E=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(E[0]===6||E[0]===2)){n=0;continue}if(E[0]===3&&(!u||E[1]>u[0]&&E[1]<u[3])){n.label=E[1];break}if(E[0]===6&&n.label<u[1]){n.label=u[1],u=E;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(E);break}u[2]&&n.ops.pop(),n.trys.pop();continue}E=t.call(e,n)}catch(I){E=[6,I],c=0}finally{o=u=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},_y=function(){function e(t,n,o,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,n&&Oh.isSupported()?(this.primaryDecoder=new Oh(t,o,c),this.secondaryDecoder=new Rh(t,o,c)):this.primaryDecoder=new Rh(t,o,c)}return e.prototype.decodeAsync=function(t){return by(this,void 0,void 0,function(){var n;return Sy(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return by(this,void 0,void 0,function(){var n,o;return Sy(this,function(c){switch(c.label){case 0:n=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,c.sent()];case 3:if(o=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw o;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,o=this.executionResults;n<o.length;n++){var c=o[n];t+=c}var u=t/this.executionResults.length;console.log("".concat(u," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}();var Lh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(o[u]=c[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Nl=function(e,t,n,o){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function y(I){try{E(o.next(I))}catch(b){h(b)}}function w(I){try{E(o.throw(I))}catch(b){h(b)}}function E(I){I.done?u(I.value):c(I.value).then(y,w)}E((o=o.apply(e,t||[])).next())})},Rl=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,c,u,h;return h={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function y(E){return function(I){return w([E,I])}}function w(E){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,E[0]&&(n=0)),n;)try{if(o=1,c&&(u=E[0]&2?c.return:E[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,E[1])).done)return u;switch(c=0,u&&(E=[E[0]&2,u.value]),E[0]){case 0:case 1:u=E;break;case 4:return n.label++,{value:E[1],done:!1};case 5:n.label++,c=E[1],E=[0];continue;case 7:E=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(E[0]===6||E[0]===2)){n=0;continue}if(E[0]===3&&(!u||E[1]>u[0]&&E[1]<u[3])){n.label=E[1];break}if(E[0]===6&&n.label<u[1]){n.label=u[1],u=E;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(E);break}u[2]&&n.ops.pop(),n.trys.pop();continue}E=t.call(e,n)}catch(I){E=[6,I],c=0}finally{o=u=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},My=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var o={advanced:[n]};return this.track.applyConstraints(o)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),d2=function(e){Lh(t,e);function t(n,o){return e.call(this,n,o)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var o={};o[this.name]=n;var c={advanced:[o]};return this.track.applyConstraints(c)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),o=n[this.name];return{min:o.min,max:o.max,step:o.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(My),f2=function(e){Lh(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(d2),h2=function(e){Lh(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(My),p2=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new f2(this.track)},e.prototype.torchFeature=function(){return new h2(this.track)},e}(),g2=function(){function e(t,n,o){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var o=t.surface.clientWidth,c=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(o,c),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,o,c){return Nl(this,void 0,void 0,function(){var u,h;return Rl(this,function(y){switch(y.label){case 0:return u=new e(t,n,c),o.aspectRatio?(h={aspectRatio:o.aspectRatio},[4,u.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:y.sent(),y.label=2;case 2:return u.setupSurface(),[2,u]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,o=function(){setTimeout(t,200),n.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Nl(this,void 0,void 0,function(){return Rl(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,o){var c=t.mediaStream.getVideoTracks(),u=c.length,h=0;t.mediaStream.getVideoTracks().forEach(function(y){t.mediaStream.removeTrack(y),y.stop(),++h,h>=u&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new p2(this.getFirstTrackOrFail())},e}(),Ny=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,o){return Nl(this,void 0,void 0,function(){return Rl(this,function(c){return[2,g2.create(t,this.mediaStream,n,o)]})})},e.create=function(t){return Nl(this,void 0,void 0,function(){var n,o;return Rl(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return o=c.sent(),[2,new e(o)]}})})},e}();var Ry=function(e,t,n,o){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function y(I){try{E(o.next(I))}catch(b){h(b)}}function w(I){try{E(o.throw(I))}catch(b){h(b)}}function E(I){I.done?u(I.value):c(I.value).then(y,w)}E((o=o.apply(e,t||[])).next())})},Oy=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,c,u,h;return h={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function y(E){return function(I){return w([E,I])}}function w(E){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,E[0]&&(n=0)),n;)try{if(o=1,c&&(u=E[0]&2?c.return:E[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,E[1])).done)return u;switch(c=0,u&&(E=[E[0]&2,u.value]),E[0]){case 0:case 1:u=E;break;case 4:return n.label++,{value:E[1],done:!1};case 5:n.label++,c=E[1],E=[0];continue;case 7:E=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(E[0]===6||E[0]===2)){n=0;continue}if(E[0]===3&&(!u||E[1]>u[0]&&E[1]<u[3])){n.label=E[1];break}if(E[0]===6&&n.label<u[1]){n.label=u[1],u=E;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(E);break}u[2]&&n.ops.pop(),n.trys.pop();continue}E=t.call(e,n)}catch(I){E=[6,I],c=0}finally{o=u=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Ly=function(){function e(){}return e.failIfNotSupported=function(){return Ry(this,void 0,void 0,function(){return Oy(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Ry(this,void 0,void 0,function(){return Oy(this,function(n){return[2,Ny.create(t)]})})},e}();var m2=function(e,t,n,o){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function y(I){try{E(o.next(I))}catch(b){h(b)}}function w(I){try{E(o.throw(I))}catch(b){h(b)}}function E(I){I.done?u(I.value):c(I.value).then(y,w)}E((o=o.apply(e,t||[])).next())})},y2=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,c,u,h;return h={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function y(E){return function(I){return w([E,I])}}function w(E){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,E[0]&&(n=0)),n;)try{if(o=1,c&&(u=E[0]&2?c.return:E[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,E[1])).done)return u;switch(c=0,u&&(E=[E[0]&2,u.value]),E[0]){case 0:case 1:u=E;break;case 4:return n.label++,{value:E[1],done:!1};case 5:n.label++,c=E[1],E=[0];continue;case 7:E=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(E[0]===6||E[0]===2)){n=0;continue}if(E[0]===3&&(!u||E[1]>u[0]&&E[1]<u[3])){n.label=E[1];break}if(E[0]===6&&n.label<u[1]){n.label=u[1],u=E;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(E);break}u[2]&&n.ops.pop(),n.trys.pop();continue}E=t.call(e,n)}catch(I){E=[6,I],c=0}finally{o=u=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Py=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=jr.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=jr.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return m2(this,void 0,void 0,function(){var t,n,o,c,u,h,y;return y2(this,function(w){switch(w.label){case 0:return t=function(E){for(var I=E.getVideoTracks(),b=0,L=I;b<L.length;b++){var _=L[b];_.enabled=!1,_.stop(),E.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=w.sent(),c=[],u=0,h=o;u<h.length;u++)y=h[u],y.kind==="videoinput"&&c.push({id:y.deviceId,label:y.label});return t(n),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var o=function(u){for(var h=[],y=0,w=u;y<w.length;y++){var E=w[y];E.kind==="video"&&h.push({id:E.id,label:E.label})}t(h)},c=MediaStreamTrack;c.getSources(o)})},e}();var Xe=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED",e}(Xe||{}),E2=function(){function e(){this.state=Xe.NOT_STARTED,this.onGoingTransactionNewState=Xe.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Xe.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Xe.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Xe.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Xe.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Xe.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Xe.UNKNOWN:throw"Transition from unknown is not allowed";case Xe.NOT_STARTED:this.failIfNewStateIs(t,[Xe.PAUSED]);break;case Xe.SCANNING:break;case Xe.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var o=0,c=n;o<c.length;o++){var u=c[o];if(t===u)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),w2=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Xe.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Xe.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Xe.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Xe.PAUSED},e}();var Fy=function(){function e(){}return e.create=function(){return new w2(new E2)},e}();var C2=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(o[u]=c[u])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),an=function(e){C2(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Zt),x2=function(){function e(t,n){this.logger=n,this.fps=an.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=an.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Nh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!mn(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Eo=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var o,c;typeof n=="boolean"?this.verbose=n===!0:n&&(c=n,this.verbose=c.verbose===!0,o=c.experimentalFeatures),this.logger=new _l(this.verbose),this.qrcode=new _y(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(c),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Fy.create()}return e.prototype.start=function(t,n,o,c){var u=this;if(!t)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;c?h=c:h=this.verbose?this.logger.log:function(){};var y=x2.create(n,this.logger);this.clearElement();var w=!1;y.videoConstraints&&(y.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=w,I=document.getElementById(this.elementId),b=I.clientWidth?I.clientWidth:an.DEFAULT_WIDTH;I.style.position="relative",this.shouldScan=!0,this.element=I;var L=this,_=this.stateManagerProxy.startTransition(Xe.SCANNING);return new Promise(function(G,W){var U=E?y.videoConstraints:L.createVideoConstraints(t);if(!U){_.cancel(),W("videoConstraints should be defined");return}var V={};(!E||y.aspectRatio)&&(V.aspectRatio=y.aspectRatio);var ge={onRenderSurfaceReady:function(Pe,Ee){L.setupUi(Pe,Ee,y),L.isScanning=!0,L.foreverScan(y,o,h)}};Ly.failIfNotSupported().then(function(Pe){Pe.create(U).then(function(Ee){return Ee.render(u.element,V,ge).then(function(H){L.renderedCamera=H,_.execute(),G(null)}).catch(function(H){_.cancel(),W(H)})}).catch(function(Ee){_.cancel(),W(jr.errorGettingUserMedia(Ee))})}).catch(function(Pe){_.cancel(),W(jr.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Xe.PAUSED),this.showPausedState(),(mn(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Xe.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Xe.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(t.element){var u=document.getElementById(an.SHADED_REGION_ELEMENT_ID);u&&t.element.removeChild(u)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),o(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),n.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(o){return o.decodedText})},e.prototype.scanFileV2=function(t,n){var o=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(mn(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,u){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(t);var h=new Image;h.onload=function(){var y=h.width,w=h.height,E=document.getElementById(o.elementId),I=E.clientWidth?E.clientWidth:an.DEFAULT_WIDTH,b=Math.max(E.clientHeight?E.clientHeight:w,an.FILE_SCAN_MIN_HEIGHT),L=o.computeCanvasDrawConfig(y,w,I,b);if(n){var _=o.createCanvasElement(I,b,"qr-canvas-visible");_.style.display="inline-block",E.appendChild(_);var G=_.getContext("2d");if(!G)throw"Unable to get 2d context from canvas";G.canvas.width=I,G.canvas.height=b,G.drawImage(h,0,0,y,w,L.x,L.y,L.width,L.height)}var W=an.FILE_SCAN_HIDDEN_CANVAS_PADDING,U=Math.max(h.width,L.width),V=Math.max(h.height,L.height),ge=U+2*W,Pe=V+2*W,Ee=o.createCanvasElement(ge,Pe);E.appendChild(Ee);var H=Ee.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=ge,H.canvas.height=Pe,H.drawImage(h,0,0,y,w,W,W,U,V);try{o.qrcode.decodeRobustlyAsync(Ee).then(function(De){c(_h.createFromQrcodeResult(De))}).catch(u)}catch(De){u("QR code parse error, error = ".concat(De))}},h.onerror=u,h.onabort=u,h.onstalled=u,h.onsuspend=u,h.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Py.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Nh.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[q.QR_CODE,q.AZTEC,q.CODABAR,q.CODE_39,q.CODE_93,q.CODE_128,q.DATA_MATRIX,q.MAXICODE,q.ITF,q.EAN_13,q.EAN_8,q.PDF_417,q.RSS_14,q.RSS_EXPANDED,q.UPC_A,q.UPC_E,q.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],c=0,u=t.formatsToSupport;c<u.length;c++){var h=u[c];vy(h)?o.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(mn(t))return!0;if(!mn(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(mn(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return mn(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,o){var c=this,u=o.qrbox;this.validateQrboxConfig(u);var h=this.toQrdimensions(t,n,u),y=function(E){if(E<an.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(an.MIN_QR_BOX_SIZE,"px.")},w=function(E){return E>t&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),E=t),E};y(h.width),y(h.height),h.width=w(h.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(t,n)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return o},e.prototype.setupUi=function(t,n,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,o);var c=mn(o.qrbox)?{width:t,height:n}:o.qrbox;this.validateQrboxConfig(c);var u=this.toQrdimensions(t,n,c);u.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=o.isShadedBoxEnabled()&&u.height<=n,y={x:0,y:0,width:t,height:n},w=h?this.getShadedRegionBounds(t,n,u):y,E=this.createCanvasElement(w.width,w.height),I={willReadFrequently:!0},b=E.getContext("2d",I);b.canvas.width=w.width,b.canvas.height=w.height,this.element.append(E),h&&this.possiblyInsertShadingElement(this.element,t,n,u),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=b,this.canvasElement=E},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=jr.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return t(c.text,_h.createFromQrcodeResult(c)),o.possiblyUpdateShaders(!0),!0}).catch(function(c){o.possiblyUpdateShaders(!1);var u=jr.codeParseError(c);return n(u,Sl.createFrom(u)),!1})},e.prototype.foreverScan=function(t,n,o){var c=this;if(this.shouldScan&&this.renderedCamera){var u=this.renderedCamera.getSurface(),h=u.videoWidth/u.clientWidth,y=u.videoHeight/u.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*h,E=this.qrRegion.height*y,I=this.qrRegion.x*h,b=this.qrRegion.y*y;this.context.drawImage(u,I,b,w,E,0,0,this.qrRegion.width,this.qrRegion.height);var L=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(t,n,o)},c.getTimeoutFps(t.fps))};this.scanContext(n,o).then(function(_){!_&&t.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(n,o).finally(function(){L()})):L()}).catch(function(_){c.logger.logError("Error happend while scanning context",_),L()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",o="deviceId",c={user:!0,environment:!0},u="exact",h=function(G){if(G in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(G,"'")},y=Object.keys(t);if(y.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(y.length," keys");var w=Object.keys(t)[0];if(w!==n&&w!==o)throw"Only '".concat(n,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(w===n){var E=t.facingMode;if(typeof E=="string"){if(h(E))return{facingMode:E}}else if(typeof E=="object")if(u in E){if(h(E["".concat(u)]))return{facingMode:{exact:E["".concat(u)]}}}else throw"'facingMode' should be string or object with"+" ".concat(u," as key.");else{var I=typeof E;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var b=t.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(u in b)return{deviceId:{exact:b["".concat(u)]}};throw"'deviceId' should be string or object with"+" ".concat(u," as key.")}else{var L=typeof b;throw"Invalid type of 'deviceId' = ".concat(L)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,n,o,c){if(t<=o&&n<=c){var u=(o-t)/2,h=(c-n)/2;return{x:u,y:h,width:t,height:n}}else{var y=t,w=n;return t>o&&(n=o/t*n,t=o),n>c&&(t=c/n*t,n=c),this.logger.log("Image downsampled from "+"".concat(y,"X").concat(w)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,o,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?an.BORDER_SHADER_MATCH_COLOR:an.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,o){var c=t,u=n,h=document.createElement("canvas");return h.style.width="".concat(c,"px"),h.style.height="".concat(u,"px"),h.style.display="none",h.id=mn(o)?"qr-canvas":o,h},e.prototype.getShadedRegionBounds=function(t,n,o){if(o.width>t||o.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-o.width)/2,y:(n-o.height)/2,width:o.width,height:o.height}},e.prototype.possiblyInsertShadingElement=function(t,n,o,c){if(!(n-c.width<1||o-c.height<1)){var u=document.createElement("div");u.style.position="absolute";var h=(n-c.width)/2,y=(o-c.height)/2;if(u.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderTop="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderBottom="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),u.style.boxSizing="border-box",u.style.top="0px",u.style.bottom="0px",u.style.left="0px",u.style.right="0px",u.id="".concat(an.SHADED_REGION_ELEMENT_ID),n-c.width<11||o-c.height<11)this.hasBorderShaders=!1;else{var w=5,E=40;this.insertShaderBorders(u,E,w,-w,null,0,!0),this.insertShaderBorders(u,E,w,-w,null,0,!1),this.insertShaderBorders(u,E,w,null,-w,0,!0),this.insertShaderBorders(u,E,w,null,-w,0,!1),this.insertShaderBorders(u,w,E+w,-w,null,-w,!0),this.insertShaderBorders(u,w,E+w,null,-w,-w,!0),this.insertShaderBorders(u,w,E+w,-w,null,-w,!1),this.insertShaderBorders(u,w,E+w,null,-w,-w,!1),this.hasBorderShaders=!0}t.append(u)}},e.prototype.insertShaderBorders=function(t,n,o,c,u,h,y){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=an.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(n,"px"),w.style.height="".concat(o,"px"),c!==null&&(w.style.top="".concat(c,"px")),u!==null&&(w.style.bottom="".concat(u,"px")),y?w.style.left="".concat(h,"px"):w.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),t.appendChild(w)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();var Ph="data:image/svg+xml;base64,",ky=Ph+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",By=Ph+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Fh=Ph+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",jy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=";var Uy=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),Vy=function(){function e(){this.data=Uy.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Uy.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}();var v2=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Mh.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var o=document.createElement("br"),c=document.createElement("br");this.infoDiv.appendChild(o),this.infoDiv.appendChild(c);var u=document.createElement("a");u.innerText=Mh.reportIssues(),u.href="https://github.com/mebjas/html5-qrcode/issues",u.target="new",u.style.color="white",this.infoDiv.appendChild(u),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),I2=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Fh,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(o){return n.onHoverIn()},this.infoIcon.onmouseout=function(o){return n.onHoverOut()},this.infoIcon.onclick=function(o){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=jy,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Fh,this.infoIcon.style.opacity="0.6")},e}(),Hy=function(){function e(){var t=this;this.infoDiv=new v2,this.infoIcon=new I2(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}();var D2=function(e,t,n,o){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function y(I){try{E(o.next(I))}catch(b){h(b)}}function w(I){try{E(o.throw(I))}catch(b){h(b)}}function E(I){I.done?u(I.value):c(I.value).then(y,w)}E((o=o.apply(e,t||[])).next())})},A2=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,c,u,h;return h={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function y(E){return function(I){return w([E,I])}}function w(E){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,E[0]&&(n=0)),n;)try{if(o=1,c&&(u=E[0]&2?c.return:E[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,E[1])).done)return u;switch(c=0,u&&(E=[E[0]&2,u.value]),E[0]){case 0:case 1:u=E;break;case 4:return n.label++,{value:E[1],done:!1};case 5:n.label++,c=E[1],E=[0];continue;case 7:E=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(E[0]===6||E[0]===2)){n=0;continue}if(E[0]===3&&(!u||E[1]>u[0]&&E[1]<u[3])){n.label=E[1];break}if(E[0]===6&&n.label<u[1]){n.label=u[1],u=E;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(E);break}u[2]&&n.ops.pop(),n.trys.pop();continue}E=t.call(e,n)}catch(I){E=[6,I],c=0}finally{o=u=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},kh=function(){function e(){}return e.hasPermissions=function(){return D2(this,void 0,void 0,function(){var t,n,o,c;return A2(this,function(u){switch(u.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=u.sent(),n=0,o=t;n<o.length;n++)if(c=o[n],c.kind==="videoinput"&&c.label)return[2,!0];return[2,!1]}})})},e}();var cr=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var o=n[t];if(e.isCameraScanType(o))return!0}return!1},e.isCameraScanType=function(t){return t===Hn.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Hn.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Zt.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Zt.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var o=0,c=t;o<c.length;o++){var u=c[o];if(!Zt.DEFAULT_SUPPORTED_SCAN_TYPE.includes(u))throw"Unsupported scan type ".concat(u)}return t},e}();var gt=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}();var Qt=function(){function e(){}return e.createElement=function(t,n){var o=document.createElement(t);return o.id=n,o.classList.add(gt.ALL_ELEMENT_CLASS),t==="button"&&o.setAttribute("type","button"),o},e}();var Gy=function(e,t,n,o){function c(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function y(I){try{E(o.next(I))}catch(b){h(b)}}function w(I){try{E(o.throw(I))}catch(b){h(b)}}function E(I){I.done?u(I.value):c(I.value).then(y,w)}E((o=o.apply(e,t||[])).next())})},Wy=function(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,c,u,h;return h={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function y(E){return function(I){return w([E,I])}}function w(E){if(o)throw new TypeError("Generator is already executing.");for(;h&&(h=0,E[0]&&(n=0)),n;)try{if(o=1,c&&(u=E[0]&2?c.return:E[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,E[1])).done)return u;switch(c=0,u&&(E=[E[0]&2,u.value]),E[0]){case 0:case 1:u=E;break;case 4:return n.label++,{value:E[1],done:!1};case 5:n.label++,c=E[1],E=[0];continue;case 7:E=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(E[0]===6||E[0]===2)){n=0;continue}if(E[0]===3&&(!u||E[1]>u[0]&&E[1]<u[3])){n.label=E[1];break}if(E[0]===6&&n.label<u[1]){n.label=u[1],u=E;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(E);break}u[2]&&n.ops.pop(),n.trys.pop();continue}E=t.call(e,n)}catch(I){E=[6,I],c=0}finally{o=u=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},zy=function(){function e(t,n,o){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=o}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Gy(this,void 0,void 0,function(){var t,n;return Wy(this,function(o){switch(o.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return o.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=o.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?be.torchOffButton():be.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var o=t?be.torchOnFailedMessage():be.torchOffFailedMessage();n&&(o+="; Error = "+n),this.onTorchActionFailureCallback(o)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),$y=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Qt.createElement("button",gt.TORCH_BUTTON_ID),this.torchController=new zy(t,this,n)}return e.prototype.render=function(t,n){var o=this;this.torchButton.innerText=be.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var c=this;this.torchButton.addEventListener("click",function(u){return Gy(o,void 0,void 0,function(){return Wy(this,function(h){switch(h.label){case 0:return[4,c.torchController.flipState()];case 1:return h.sent(),c.torchController.isTorchEnabled()?(c.torchButton.classList.remove(gt.TORCH_BUTTON_CLASS_TORCH_OFF),c.torchButton.classList.add(gt.TORCH_BUTTON_CLASS_TORCH_ON)):(c.torchButton.classList.remove(gt.TORCH_BUTTON_CLASS_TORCH_ON),c.torchButton.classList.add(gt.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new zy(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=be.torchOnButton(),this.torchController.reset()},e.create=function(t,n,o,c){var u=new e(n,c);return u.render(t,o),u},e}();var Yy=function(){function e(t,n,o){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var c=document.createElement("label");c.setAttribute("for",this.getFileScanInputId()),c.style.display="inline-block",this.fileBasedScanRegion.appendChild(c),this.fileSelectionButton=Qt.createElement("button",gt.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(y){c.click()}),c.append(this.fileSelectionButton),this.fileScanInput=Qt.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",c.appendChild(this.fileScanInput);var u=this;this.fileScanInput.addEventListener("change",function(y){if(!(y==null||y.target==null)){var w=y.target;if(!(w.files&&w.files.length===0)){var E=w.files,I=E[0],b=I.name;u.setImageNameToButton(b),o(I)}}});var h=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(h),this.fileBasedScanRegion.addEventListener("dragenter",function(y){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(y){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(y){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),y.stopPropagation(),y.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(y){y.stopPropagation(),y.preventDefault(),u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder();var w=y.dataTransfer;if(w){var E=w.files;if(!E||E.length===0)return;for(var I=!1,b=0;b<E.length;++b){var L=E.item(b);if(L){var _=/image.*/;if(L.type.match(_)){I=!0;var G=L.name;u.setImageNameToButton(G),o(L),h.innerText=be.dragAndDropMessage();break}}}I||(h.innerText=be.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=be.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var o=t.substring(0,8),c=t.length,u=t.substring(c-8,c);t="".concat(o,"....").concat(u)}var h=be.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=h},e.prototype.setInitialValueToButton=function(){var t=be.fileSelectionChooseImage()+" - "+be.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,o){var c=new e(t,n,o);return c},e}();var qy=function(){function e(t){this.selectElement=Qt.createElement("select",gt.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var o=this.cameras.length;if(o===0)throw new Error("No cameras found");if(o===1)n.style.display="none";else{var c=be.selectCamera();n.innerText="".concat(c," (").concat(this.cameras.length,")  ")}for(var u=1,h=0,y=this.cameras;h<y.length;h++){var w=y[h],E=w.id,I=w.label==null?E:w.label;(!I||I==="")&&(I=[be.anonymousCameraPrefix(),u++].join(" "));var b=document.createElement("option");b.value=E,b.innerText=I,this.options.push(b),this.selectElement.appendChild(b)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,o=this.options;n<o.length;n++){var c=o[n];if(c.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var o=new e(n);return o.render(t),o},e}();var Xy=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Qt.createElement("input",gt.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var o=be.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.rangeText.style.marginRight="10px";var c=this;this.rangeInput.addEventListener("input",function(){return c.onValueChange()}),this.rangeInput.addEventListener("change",function(){return c.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=be.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,o,c){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=c.toString(),this.rangeInput.value=o.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var o=new e;return o.render(t,n),o},e}();var yn=function(e){return e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",e}(yn||{});function T2(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function b2(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var S2=function(){function e(t,n,o){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=o===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new cr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new _l(this.verbose),this.persistedDataManager=new Vy,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var o=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(u,h){if(t)t(u,h);else{if(o.lastMatchFound===u)return;o.lastMatchFound=u,o.setHeaderMessage(be.lastMatch(u),yn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(u,h){n&&n(u,h)};var c=document.getElementById(this.elementId);if(!c)throw"HTML Element with id=".concat(this.elementId," not found");c.innerHTML="",this.createBasicLayout(c),this.html5Qrcode=new Eo(this.getScanRegionId(),b2(this.config,this.verbose))},e.prototype.pause=function(t){(mn(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var o=document.getElementById(t.elementId);o&&(o.innerHTML="",t.resetBasicLayout(o))};return this.html5Qrcode?new Promise(function(o,c){if(!t.html5Qrcode){o();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(u){if(!t.html5Qrcode){o();return}t.html5Qrcode.clear(),n(),o()}).catch(function(u){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",u),c(u)}):(t.html5Qrcode.clear(),n(),o())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Zt.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Zt.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Zt.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Zt.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Zt.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Zt.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Zt.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),o=this.getScanRegionId();n.id=o,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),cr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var c=document.createElement("div"),u=this.getDashboardId();c.id=u,c.style.width="100%",t.appendChild(c),this.setupInitialDashboard(c)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var o=new Hy;o.renderInto(n);var c=document.createElement("div");c.id=this.getHeaderMessageContainerId(),c.style.display="none",c.style.textAlign="center",c.style.fontSize="14px",c.style.padding="2px 10px",c.style.margin="4px",c.style.borderTop="1px solid #f6f6f6",n.appendChild(c)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,o){var c=this;c.showHideScanTypeSwapLink(!1),c.setHeaderMessage(be.cameraPermissionRequesting());var u=function(){o||c.createPermissionButton(t,n)};Eo.getCameras().then(function(h){c.persistedDataManager.setHasPermission(!0),c.showHideScanTypeSwapLink(!0),c.resetHeaderMessage(),h&&h.length>0?(t.removeChild(n),c.renderCameraSelection(h)):(c.setHeaderMessage(be.noCameraFound(),yn.STATUS_WARNING),u())}).catch(function(h){c.persistedDataManager.setHasPermission(!1),o?o.disabled=!1:u(),c.setHeaderMessage(h,yn.STATUS_WARNING),c.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var o=this,c=Qt.createElement("button",this.getCameraPermissionButtonId());c.innerText=be.cameraPermissionTitle(),c.addEventListener("click",function(){c.disabled=!0,o.createCameraListUi(t,n,c)}),n.appendChild(c)},e.prototype.createPermissionsUi=function(t,n){var o=this;if(cr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){kh.hasPermissions().then(function(c){c?o.createCameraListUi(t,n):(o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(t,n))}).catch(function(c){o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var o=document.createElement("div");o.id=this.getDashboardSectionCameraScanRegionId(),o.style.display=cr.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(o);var c=document.createElement("div");c.style.textAlign="center",o.appendChild(c),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(o,c),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=cr.isFileScanType(this.currentScanType),o=this,c=function(u){if(!o.html5Qrcode)throw"html5Qrcode not defined";cr.isFileScanType(o.currentScanType)&&(o.setHeaderMessage(be.loadingImage()),o.html5Qrcode.scanFileV2(u,!0).then(function(h){o.resetHeaderMessage(),o.qrCodeSuccessCallback(h.decodedText,h)}).catch(function(h){o.setHeaderMessage(h,yn.STATUS_WARNING),o.qrCodeErrorCallback(h,Sl.createFrom(h))}))};this.fileSelectionUi=Yy.create(t,n,c)},e.prototype.renderCameraSelection=function(t){var n=this,o=this,c=document.getElementById(this.getDashboardSectionCameraScanRegionId());c.style.textAlign="center";var u=Xy.create(c,!1),h=function(W){var U=W.zoomFeature();if(U.isSupported()){u.setOnCameraZoomValueChangeCallback(function(ge){U.apply(ge)});var V=1;n.config.defaultZoomValueIfSupported&&(V=n.config.defaultZoomValueIfSupported),V=Dy(V,U.min(),U.max()),u.setValues(U.min(),U.max(),V,U.step()),u.show()}},y=qy.create(c,t),w=document.createElement("span"),E=Qt.createElement("button",gt.CAMERA_START_BUTTON_ID);E.innerText=be.scanButtonStartScanningText(),w.appendChild(E);var I=Qt.createElement("button",gt.CAMERA_STOP_BUTTON_ID);I.innerText=be.scanButtonStopScanningText(),I.style.display="none",I.disabled=!0,w.appendChild(I);var b,L=function(W){if(!W.torchFeature().isSupported()){b&&b.hide();return}b?b.updateTorchCapability(W.torchFeature()):b=$y.create(w,W.torchFeature(),{display:"none",marginLeft:"5px"},function(U){o.setHeaderMessage(U,yn.STATUS_WARNING)}),b.show()};c.appendChild(w);var _=function(W){W||(E.style.display="none"),E.innerText=be.scanButtonStartScanningText(),E.style.opacity="1",E.disabled=!1,W&&(E.style.display="inline-block")};if(E.addEventListener("click",function(W){E.innerText=be.scanButtonScanningStarting(),y.disable(),E.disabled=!0,E.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!1),o.resetHeaderMessage();var U=y.getValue();o.persistedDataManager.setLastUsedCameraId(U),o.html5Qrcode.start(U,T2(o.config),o.qrCodeSuccessCallback,o.qrCodeErrorCallback).then(function(V){I.disabled=!1,I.style.display="inline-block",_(!1);var ge=o.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&L(ge),n.config.showZoomSliderIfSupported===!0&&h(ge)}).catch(function(V){o.showHideScanTypeSwapLink(!0),y.enable(),_(!0),o.setHeaderMessage(V,yn.STATUS_WARNING)})}),y.hasSingleItem()&&E.click(),I.addEventListener("click",function(W){if(!o.html5Qrcode)throw"html5Qrcode not defined";I.disabled=!0,o.html5Qrcode.stop().then(function(U){n.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!0),y.enable(),E.disabled=!1,I.style.display="none",E.style.display="inline-block",b&&(b.reset(),b.hide()),u.removeOnCameraZoomValueChangeCallback(),u.hide(),o.insertCameraScanImageToScanRegion()}).catch(function(U){I.disabled=!1,o.setHeaderMessage(U,yn.STATUS_WARNING)})}),o.persistedDataManager.getLastUsedCameraId()){var G=o.persistedDataManager.getLastUsedCameraId();y.hasValue(G)?(y.setValue(G),E.click()):o.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=be.textIfCameraScanSelected(),o=be.textIfFileScanSelected(),c=document.getElementById(this.getDashboardSectionId()),u=document.createElement("div");u.style.textAlign="center";var h=Qt.createElement("span",this.getDashboardSectionSwapLinkId());h.style.textDecoration="underline",h.style.cursor="pointer",h.innerText=cr.isCameraScanType(this.currentScanType)?n:o,h.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,cr.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),h.innerText=o,t.currentScanType=Hn.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),h.innerText=n,t.currentScanType=Hn.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),u.appendChild(h),c.appendChild(u)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){kh.hasPermissions().then(function(o){if(o){var c=document.getElementById(n.getCameraPermissionButtonId());if(!c)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";c.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(o){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=yn.STATUS_DEFAULT);var o=this.getHeaderMessageDiv();switch(o.innerText=t,o.style.display="block",n){case yn.STATUS_SUCCESS:o.style.background="rgba(106, 175, 80, 0.26)",o.style.color="#477735";break;case yn.STATUS_WARNING:o.style.background="rgba(203, 36, 49, 0.14)",o.style.color="#cb2431";break;case yn.STATUS_DEFAULT:default:o.style.background="rgba(0, 0, 0, 0)",o.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(o){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=ky,this.cameraScanImage.alt=be.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(o){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=By,this.fileScanImage.alt=be.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return gt.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return gt.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();var _2=(e,t,n)=>({"sweetener-chip":!0,"sweetener-green":e,"sweetener-yellow":t,"sweetener-red":n}),M2=(e,t,n,o)=>({sweetener:e,"sweetener-green":t,"sweetener-yellow":n,"sweetener-red":o}),N2=(e,t,n)=>({"sweet-dot-green":e,"sweet-dot-yellow":t,"sweet-dot-red":n});function R2(e,t){e&1&&(qt(0,"span"),nr(1,"Scan Barcode"),Xt())}function O2(e,t){e&1&&(qt(0,"span"),nr(1,"Close Scanner"),Xt())}function L2(e,t){if(e&1&&tr(0,"div",7),e&2){let n=Ji();Lt("hidden",n.isMobile)}}function P2(e,t){if(e&1&&(qt(0,"span",14),nr(1),eo(2,"titlecase"),Xt()),e&2){let n=t.$implicit;Lt("ngClass",Pc(4,_2,(n==null?null:n.rating)==="green",(n==null?null:n.rating)==="yellow",(n==null?null:n.rating)==="red")),Ot(),pi(" ",to(2,2,n==null?null:n.name)," ")}}function F2(e,t){if(e&1&&(qt(0,"div",13),Bn(1,P2,3,8,"span",12),Xt()),e&2){let n=Ji(2);Ot(),Lt("ngForOf",n.food.sweeteners)}}function k2(e,t){if(e&1&&(qt(0,"span",17),nr(1),eo(2,"titlecase"),Xt()),e&2){let n=Ji().$implicit;Ot(),pi(" ",to(2,1,n.sweeter.name)," ")}}function B2(e,t){if(e&1&&(qt(0,"li",14),tr(1,"span",15),nr(2),eo(3,"titlecase"),Bn(4,k2,3,3,"span",16),Xt()),e&2){let n=t.$implicit;Lt("ngClass",Tf(6,M2,n.sweeter,(n.sweeter==null?null:n.sweeter.rating)==="green",(n.sweeter==null?null:n.sweeter.rating)==="yellow",(n.sweeter==null?null:n.sweeter.rating)==="red")),Ot(),Lt("ngClass",Pc(11,N2,(n.sweeter==null?null:n.sweeter.rating)==="green",(n.sweeter==null?null:n.sweeter.rating)==="yellow",(n.sweeter==null?null:n.sweeter.rating)==="red")),Ot(),pi(" ",to(3,4,n.name)," "),Ot(2),Lt("ngIf",n.sweeter)}}function j2(e,t){if(e&1&&(qt(0,"div",8)(1,"h2",9),nr(2),Xt(),Bn(3,F2,2,1,"div",10),qt(4,"ul",11),Bn(5,B2,5,15,"li",12),eo(6,"orderBySweetener"),Xt()()),e&2){let n=Ji();Ot(2),Lc(n.food.description),Ot(),Lt("ngIf",(n.food.sweeteners==null?null:n.food.sweeteners.length)>0),Ot(2),Lt("ngForOf",to(6,3,n.food.ingredients))}}var Bh=class e{transform(t){return[...t].sort((n,o)=>n.sweeter&&!o.sweeter?-1:!n.sweeter&&o.sweeter?1:0)}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=fs({name:"orderBySweetener",type:e,pure:!0})},Ol=class e{constructor(t){this.http=t}food=null;scannerActive=!1;isMobile=this.isMobileUserAgent();html5QrCode=null;sweetenerDict=[{name:"Stevia",aliases:["stevia","steviol glycosides"],rating:"green"},{name:"Aspartame",aliases:["aspartame"],rating:"red"},{name:"Sucralose",aliases:["sucralose","Splenda"],rating:"yellow"},{name:"Saccharin",aliases:["saccharin"],rating:"red"},{name:"Acesulfame Potassium",aliases:["acesulfame potassium","ace-k"],rating:"yellow"},{name:"Neotame",aliases:["neotame"],rating:"red"}];ngOnInit(){}toggleScanner(){this.scannerActive=!this.scannerActive,this.scannerActive?this.startScanner():this.closeScanner()}startScanner(){this.food=null,setTimeout(()=>this.initScanner(),0)}closeScanner(){this.html5QrCode&&this.html5QrCode.stop().then(()=>{console.log("Scanner stopped.")}).catch(t=>{console.error("Error stopping scanner:",t)})}initScanner(){if(this.html5QrCode=new Eo("reader"),this.isMobile){let t=document.getElementById("qr-input-file");if(!t){console.error("File input element not found");return}t.addEventListener("change",n=>{if(n?.target?.files==null||!(n.target instanceof HTMLInputElement)||this.html5QrCode==null){console.error("Invalid event or target");return}if(n.target.files.length==0)return;let o=n.target.files[0];this.html5QrCode.scanFile(o,!0).then(c=>{console.log(`Code matched = ${c}`),this.processDecodedText(c)}).catch(c=>{console.log(`Error scanning file. Reason: ${c}`)})}),t.click()}else{if(!document.getElementById("reader")){setTimeout(()=>this.initScanner(),100);return}this.html5QrCode.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},(n,o)=>{console.log(`Code matched = ${n}`,o),this.html5QrCode&&this.html5QrCode.stop(),this.processDecodedText(n)},n=>{}).catch(n=>{console.error(`Unable to start scanning, error: ${n}`),this.scannerActive=!1})}}processDecodedText(t){this.scannerActive=!1;let n=t;t.startsWith("0")&&t.length===13&&(n=t.substring(1)),this.lookupFood(n)}lookupFood(t){let n=`https://api.nal.usda.gov/fdc/v1/foods/search?query=${encodeURIComponent(t)}&pageSize=10&api_key=DEMO_KEY`;this.http.get(n).subscribe(o=>{console.log("USDA API response:",o),o.totalHits>0&&o.foods[0]?.ingredients?this.setFoodFromUsda(o.foods[0]):this.lookupOpenFoodFacts(t)},o=>{console.error("USDA API error:",o),this.lookupOpenFoodFacts(t)})}lookupOpenFoodFacts(t){let n=`https://world.openfoodfacts.net/api/v2/product/${encodeURIComponent(t)}`;this.http.get(n).subscribe(o=>{console.log("Open Food Facts API response:",o),o&&o.product?this.setFoodFromOpenFoodFacts(o.product):this.food=null},o=>{console.error("Open Food Facts API error:",o),this.food=null})}setFoodFromUsda(t){this.food=t,this.food.ingredients=this.parseIngredients(t.ingredients),this.food.sweeteners=this.getSweetenersFromIngredients(this.food.ingredients)}setFoodFromOpenFoodFacts(t){this.food={description:t.product_name,ingredients:[]},t.ingredients_text&&(this.food.ingredients=this.parseIngredients(t.ingredients_text),this.food.sweeteners=this.getSweetenersFromIngredients(this.food.ingredients))}parseIngredients(t){return t.split(/,(?![^(]*\))/).map(n=>{let o=n.trim();return{name:o,sweeter:this.findSweetener(o)}})}findSweetener(t){let n=t.toLowerCase();for(let o of this.sweetenerDict)if(o.aliases.some(c=>n.includes(c)))return o;return null}getSweetenersFromIngredients(t){return this.food.ingredients.map(n=>n.sweeter).filter((n,o,c)=>n!==null&&c.findIndex(u=>u&&n&&u.name===n.name)===o)}isMobileUserAgent(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}static \u0275fac=function(n){return new(n||e)(rn(Jc))};static \u0275cmp=ds({type:e,selectors:[["app-root"]],decls:10,vars:4,consts:[[1,"app-main-title"],[2,"text-align","center","margin","2rem 0"],[1,"scan-btn",3,"click"],[4,"ngIf"],["id","reader","width","600px",3,"hidden",4,"ngIf"],["hidden","","type","file","id","qr-input-file","accept","image/*","capture",""],["class","food-card",4,"ngIf"],["id","reader","width","600px",3,"hidden"],[1,"food-card"],[1,"food-title"],["class","sweetener-highlight",4,"ngIf"],[1,"ingredient-list"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"sweetener-highlight"],[3,"ngClass"],[1,"ingredient-dot",3,"ngClass"],["class","sweet-label",4,"ngIf"],[1,"sweet-label"]],template:function(n,o){n&1&&(qt(0,"h1",0),nr(1,` Sweet Spotter
`),Xt(),qt(2,"div",1)(3,"button",2),Oc("click",function(){return o.toggleScanner()}),Bn(4,R2,2,0,"span",3)(5,O2,2,0,"span",3),Xt()(),Bn(6,L2,1,1,"div",4),tr(7,"input",5),Bn(8,j2,7,5,"div",6),tr(9,"router-outlet")),n&2&&(Ot(4),Lt("ngIf",!o.scannerActive),Ot(),Lt("ngIf",o.scannerActive),Ot(),Lt("ngIf",o.scannerActive),Ot(2),Lt("ngIf",!o.scannerActive&&o.food))},dependencies:[zs,ih,zc,Hf,Hc,zf,Gf,Bh],styles:["body[_ngcontent-%COMP%], [_nghost-%COMP%]{background:#181824;color:#f3f3fa}.food-card[_ngcontent-%COMP%]{margin:2rem auto;max-width:500px;background:#232336;border-radius:16px;box-shadow:0 4px 24px #0000004d;padding:2rem 2.5rem 1.5rem;text-align:center}.food-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:1.5rem;color:#fff;letter-spacing:1px}.ingredient-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.ingredient-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.7rem .5rem;margin:.3rem 0;border-radius:8px;display:flex;align-items:center;background:#232336;box-shadow:0 1px 4px #0000001a;transition:background .2s;color:#f3f3fa}.sweetener-green[_ngcontent-%COMP%]{background:#1e3a2a!important;color:#7fffbe!important}.sweetener-yellow[_ngcontent-%COMP%]{background:#3a321a!important;color:#ffe68f!important}.sweetener-red[_ngcontent-%COMP%]{background:#3a1a2f!important;color:#ff8fcf!important}.sweet-dot-green[_ngcontent-%COMP%]{background:#00e676!important}.sweet-dot-yellow[_ngcontent-%COMP%]{background:#ffe600!important}.sweet-dot-red[_ngcontent-%COMP%]{background:#ff5ca7!important}.ingredient-dot[_ngcontent-%COMP%]{display:inline-block;width:12px;height:12px;border-radius:50%;margin-right:12px;background:#44445a}.sweet-label[_ngcontent-%COMP%]{margin-left:auto;background:#ff5ca7;color:#fff;font-size:.85rem;padding:.2rem .7rem;border-radius:12px;font-weight:500;letter-spacing:.5px;box-shadow:0 1px 4px #0000001a}.scan-btn[_ngcontent-%COMP%]{background:#ff5ca7;color:#fff;border:none;border-radius:8px;padding:.8rem 2rem;font-size:1.1rem;font-weight:600;cursor:pointer;box-shadow:0 2px 8px #0000002e;transition:background .2s}.scan-btn[_ngcontent-%COMP%]:hover{background:#e14b8f}.app-main-title[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;color:#ff5ca7;letter-spacing:2px}.sweetener-highlight[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center;margin:1.5rem 0 1rem}.sweetener-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.4em 1em;border-radius:999px;font-size:1rem;font-weight:600;background:#232336;color:#fff;box-shadow:0 2px 8px #0000001a;border:2px solid transparent}.sweetener-green[_ngcontent-%COMP%]{border-color:#00e676!important;color:#7fffbe!important}.sweetener-yellow[_ngcontent-%COMP%]{border-color:#ffe600!important;color:#ffe68f!important}.sweetener-red[_ngcontent-%COMP%]{border-color:#ff5ca7!important;color:#ff8fcf!important}"]})};Kf(Ol,Cy).catch(e=>console.error(e));
